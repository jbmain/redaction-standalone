function _templateObject154(){var e=_taggedTemplateLiteral([":kendo.editor.deleteTable|The title of the tool that deletes a table.\u241f2694410604d01084a49e5225a60fbe3eda3af5cc\u241f3609415533235721295:Delete table"]);return _templateObject154=function(){return e},e}function _templateObject153(){var e=_taggedTemplateLiteral([":kendo.editor.deleteRow|The title of the tool that deletes a table row.\u241fa7bf50c04d3769d4bde61bab60e6aaa0e982a488\u241f8410650025259601548:Delete row"]);return _templateObject153=function(){return e},e}function _templateObject152(){var e=_taggedTemplateLiteral([":kendo.editor.deleteColumn|The title of the tool that deletes a table column.\u241f233fbf121ca8b9ea127211a83ab72f0daf01593a\u241f7009319757848972360:Delete column"]);return _templateObject152=function(){return e},e}function _templateObject151(){var e=_taggedTemplateLiteral([":kendo.editor.addRowAfter|The title of the tool that adds new row after currently selected row.\u241fc852853beee80e68e673421fd4bc57fa49d417d9\u241f6647582145372406524:Add row after"]);return _templateObject151=function(){return e},e}function _templateObject150(){var e=_taggedTemplateLiteral([":kendo.editor.addRowBefore|The title of the tool that adds new row before currently selected row.\u241fc42641b164ae5711cb01b88bcde664031cc230bf\u241f5531388093960518917:Add row before"]);return _templateObject150=function(){return e},e}function _templateObject149(){var e=_taggedTemplateLiteral([":kendo.editor.addColumnAfter|The title of the tool that adds new column after currently selected column.\u241f24d531a9e3507a6ad02bff394c5030a25a731d66\u241f1046762424668985150:Add column after"]);return _templateObject149=function(){return e},e}function _templateObject148(){var e=_taggedTemplateLiteral([":kendo.editor.addColumnBefore|The title of the tool that adds new column before currently selected column.\u241f66c68280830690c0ebd374fd34dead01df2e7057\u241f2967496815045471366:Add column before"]);return _templateObject148=function(){return e},e}function _templateObject147(){var e=_taggedTemplateLiteral([":kendo.editor.insertTable|The title of the tool that inserts table.\u241f32de5e66d4b2073bded7114d8a1ea1411cd7ceec\u241f5261534950694067764:Insert Table"]);return _templateObject147=function(){return e},e}function _templateObject146(){var e=_taggedTemplateLiteral([":kendo.editor.viewSource|The title of the tool that shows the editor value as HTML.\u241f3caea7fc81a53a3e225561af33a56902f642ac26\u241f3825180996241734650:View source"]);return _templateObject146=function(){return e},e}function _templateObject145(){var e=_taggedTemplateLiteral([":kendo.editor.undo|The title of the tool that undos the last action.\u241f18b488b145eeea939eecd65716bc3578939dcc0f\u241f3987002812814489417:Undo"]);return _templateObject145=function(){return e},e}function _templateObject144(){var e=_taggedTemplateLiteral([":kendo.editor.unlink|The title of the tool that removes hyperlinks.\u241fad3a3c5c713542df87373b77cae8a124edb29c22\u241f1024469129593792947:Remove Link"]);return _templateObject144=function(){return e},e}function _templateObject143(){var e=_taggedTemplateLiteral([":kendo.editor.underline|The title of the tool that underlines text.\u241f67eb1cff18f5e9a2e7d47aae052c666583bab261\u241f8473045911658532041:Underline"]);return _templateObject143=function(){return e},e}function _templateObject142(){var e=_taggedTemplateLiteral([":kendo.editor.superscript|The title of the tool that makes text superscript.\u241f825050144d6680f962bf7ec296c42e08e6ac09d9\u241f7596297815131300603:Superscript"]);return _templateObject142=function(){return e},e}function _templateObject141(){var e=_taggedTemplateLiteral([":kendo.editor.subscript|The title of the tool that makes text subscript.\u241f2bd31b9317a43ee8fb808b0c254b1bb200f908fa\u241f7270994954007735302:Subscript"]);return _templateObject141=function(){return e},e}function _templateObject140(){var e=_taggedTemplateLiteral([":kendo.editor.strikethrough|The title of the tool that strikes through text.\u241f6e38a1450b5d50601f44a665fbb329feca31e97b\u241f2488604920377820272:Strikethrough"]);return _templateObject140=function(){return e},e}function _templateObject139(){var e=_taggedTemplateLiteral([":kendo.editor.redo|The title of the tool that undos the last action.\u241f117c237ef9fa6ff04fb4447fc233fe846ed366c1\u241f6526989398460728046:Redo"]);return _templateObject139=function(){return e},e}function _templateObject138(){var e=_taggedTemplateLiteral([":kendo.editor.outdent|The title of the tool that outdents the content.\u241f33a49dc9bce8c37c9c957a6cdb7fcd0b82b8bf58\u241f8474960686200350213:Outdent"]);return _templateObject138=function(){return e},e}function _templateObject137(){var e=_taggedTemplateLiteral([":kendo.editor.linkWebAddress|The caption for the URL in the createLink dialog.\u241f19f853c2933a9a1b71d96accf814e4f9e9e6e8dd\u241f6362180643798508446:Web address"]);return _templateObject137=function(){return e},e}function _templateObject136(){var e=_taggedTemplateLiteral([":kendo.editor.linkTitle|The caption for the link title in the createLink dialog.\u241fe5c8208c08928222b713afcf80de78633236349d\u241f330780229810449102:Title"]);return _templateObject136=function(){return e},e}function _templateObject135(){var e=_taggedTemplateLiteral([":kendo.editor.linkText|The caption for the link text in the createLink dialog.\u241fbc5096e9fa3fd49769d041a4734d5d5d8e6fd0e9\u241f8060045722754477150:Text"]);return _templateObject135=function(){return e},e}function _templateObject134(){var e=_taggedTemplateLiteral([":kendo.editor.linkOpenInNewWindow|The caption for the checkbox for opening the link in a new window in the createLink\n                dialog.\u241f7ddbe5ff681ec56e0a1d47f55baf03aae43143f0\u241f6304412528521452300:Open link in new window"]);return _templateObject134=function(){return e},e}function _templateObject133(){var e=_taggedTemplateLiteral([":kendo.editor.italic|The title of the tool that makes text italicized.\u241f0c2f657b2d63906813f0d999c34639d6703d29fe\u241f7054357458452689543:Italic"]);return _templateObject133=function(){return e},e}function _templateObject132(){var e=_taggedTemplateLiteral([":kendo.editor.insertUnorderedList|The title of the tool that inserts an unordered list.\u241f2c56625f542e63a0fcb2cdfff32ac7958a773131\u241f6391583758449842507:Insert unordered list"]);return _templateObject132=function(){return e},e}function _templateObject131(){var e=_taggedTemplateLiteral([":kendo.editor.insertOrderedList|The title of the tool that inserts an ordered list.\u241f9de4d5df2c52ec20dda585ddf9046b64042a63dc\u241f4334727692818265844:Insert ordered list"]);return _templateObject131=function(){return e},e}function _templateObject130(){var e=_taggedTemplateLiteral([":kendo.editor.insertImage|The title of the tool that inserts images.\u241f759c8463401821450bfa80fd9106314adab25ca3\u241f3091202802113261385:Insert image"]);return _templateObject130=function(){return e},e}function _templateObject129(){var e=_taggedTemplateLiteral([":kendo.editor.insertFile|The title of the tool that inserts links to files.\u241ff57591626833e959e88b177754c2e996119a3c1a\u241f539957110154874519:Insert file"]);return _templateObject129=function(){return e},e}function _templateObject128(){var e=_taggedTemplateLiteral([":kendo.editor.indent|The title of the tool that indents the content.\u241f332319db3aabf32cd56e64e1569276c5f878fd5d\u241f5647108364628468094:Indent"]);return _templateObject128=function(){return e},e}function _templateObject127(){var e=_taggedTemplateLiteral([":kendo.editor.imageWidth|The caption for the image width in the insertImage dialog.\u241f4f26f47317f5b69c192fbc9cafecb432e8fa8ee5\u241f8309100232203036921:Width (px)"]);return _templateObject127=function(){return e},e}function _templateObject126(){var e=_taggedTemplateLiteral([":kendo.editor.imageWebAddress|The caption for the image URL in the insertImage dialog.\u241f31537a903057886e7fb1a79cd5cde73a649a8ed6\u241f6975958345731927150:Web address"]);return _templateObject126=function(){return e},e}function _templateObject125(){var e=_taggedTemplateLiteral([":kendo.editor.imageHeight|The caption for the image height in the insertImage dialog.\u241f1f22b7da203eebe3e1efd22cc86aa9b990b0c16f\u241f7389256657313538937:Height (px)"]);return _templateObject125=function(){return e},e}function _templateObject124(){var e=_taggedTemplateLiteral([":kendo.editor.imageAltText|The caption for the image alternate text in the insertImage dialog.\u241f588c2538a305890410558065bbb376099873f059\u241f2605419586703055723:Alternate text"]);return _templateObject124=function(){return e},e}function _templateObject123(){var e=_taggedTemplateLiteral([":kendo.editor.format|The title of the tool that lets users choose block formats.\u241f27423769f36c1e1662739fe78b0a29f8449ca2ed\u241f7573626268088286043:Format"]);return _templateObject123=function(){return e},e}function _templateObject122(){var e=_taggedTemplateLiteral([":kendo.editor.foreColor|The title of the tool that changes the text color.\u241f6b7246584279a0e44d9bd9cb953a0c701696d059\u241f5478978124365341523:Color"]);return _templateObject122=function(){return e},e}function _templateObject121(){var e=_taggedTemplateLiteral([":kendo.editor.fontSize|The title of the tool that changes the text size.\u241f1e36b676782998a979c662191a815b60e212b1e4\u241f3134383620280891369:Select font size"]);return _templateObject121=function(){return e},e}function _templateObject120(){var e=_taggedTemplateLiteral([":kendo.editor.fontFamily|The title of the tool that changes the text font.\u241fb3c7dd6b566ab94cbad12176f608f617394069a5\u241f2242101754750506857:Select font family"]);return _templateObject120=function(){return e},e}function _templateObject119(){var e=_taggedTemplateLiteral([":kendo.editor.fileWebAddress|The caption for the file URL in the insertFile dialog.\u241f920e262f27d93e37174869fe53fbda129edd6220\u241f272090133902355251:Web address"]);return _templateObject119=function(){return e},e}function _templateObject118(){var e=_taggedTemplateLiteral([":kendo.editor.fileTitle|The caption for the file Title in the insertFile dialog.\u241f773650e91245315dd99ba76678b651035d896449\u241f2270852727137392864:Title"]);return _templateObject118=function(){return e},e}function _templateObject117(){var e=_taggedTemplateLiteral([":kendo.editor.fileText|The caption for the file text in the insertFile dialog.\u241fb9e9c0726907339811d576fbecf9ee7ef25228dd\u241f2994440335095238335:Text"]);return _templateObject117=function(){return e},e}function _templateObject116(){var e=_taggedTemplateLiteral([":kendo.editor.dialogUpdate|The label of the **Update** button in all editor dialogs.\u241fda599b240288c66d5682ecf53647fae17b1f255d\u241f3131813297607973618:Update"]);return _templateObject116=function(){return e},e}function _templateObject115(){var e=_taggedTemplateLiteral([":kendo.editor.dialogInsert|The label of the **Insert** button in all editor dialogs.\u241fe2897c2d92e5b0f60dbc34568ea63ee29aac72b1\u241f1902538342017591848:Insert"]);return _templateObject115=function(){return e},e}function _templateObject114(){var e=_taggedTemplateLiteral([":kendo.editor.dialogCancel|The label of the **Cancel** button in all editor dialogs.\u241f62c847eb7dfe44fa70224659b77a69e04ad24e98\u241f1436637880389464255:Cancel"]);return _templateObject114=function(){return e},e}function _templateObject113(){var e=_taggedTemplateLiteral([":kendo.editor.dialogApply|The label of the **Apply** button in all editor dialogs.\u241f0205d0783c43657539254c5d8cd37d4a88911f1d\u241f3478270206890847719:Apply"]);return _templateObject113=function(){return e},e}function _templateObject112(){var e=_taggedTemplateLiteral([":kendo.editor.createLink|The title of the tool that creates hyperlinks.\u241fa0857ff55fd21727d74e873d164f6785c4a1d2a4\u241f2895696791468415067:Insert link"]);return _templateObject112=function(){return e},e}function _templateObject111(){var e=_taggedTemplateLiteral([":kendo.editor.cleanFormatting|The title of the Clean Formatting tool.\u241f6ee3ea0c48aeb94e9ed4b728391edc424c5b2b90\u241f6409775087646476318:Clean formatting"]);return _templateObject111=function(){return e},e}function _templateObject110(){var e=_taggedTemplateLiteral([":kendo.editor.bold|The title of the tool that makes text bold.\u241fe1a1b567ad44320e7949153f90b735a000e0dd54\u241f2189266817166266173:Bold"]);return _templateObject110=function(){return e},e}function _templateObject109(){var e=_taggedTemplateLiteral([":kendo.editor.backColor|The title of the tool that changes the text background color.\u241f94feffd30b062ee0ef8aac49af5faebc986b79ee\u241f6855434377775366481:Background color"]);return _templateObject109=function(){return e},e}function _templateObject108(){var e=_taggedTemplateLiteral([":kendo.editor.alignRight|The title of the tool that aligns text on the right.\u241fe42635af2f5e2255fe4e5e4259139bed6771d5b0\u241f947503876024297122:Align text right"]);return _templateObject108=function(){return e},e}function _templateObject107(){var e=_taggedTemplateLiteral([":kendo.editor.alignLeft|The title of the tool that aligns text on the left.\u241f0e6294e25d0445bf78814703fc3db0f9275cdfaf\u241f154382826604788564:Align text left"]);return _templateObject107=function(){return e},e}function _templateObject106(){var e=_taggedTemplateLiteral([":kendo.editor.alignJustify|The title of the tool that justifies text both left and right.\u241f6fd8af3052680f0e8af558f02aafbdae846763ad\u241f4684700365643535728:Justify"]);return _templateObject106=function(){return e},e}function _templateObject105(){var e=_taggedTemplateLiteral([":kendo.editor.alignCenter|The title of the tool that aligns text in the center.\u241fc19b9de1395639d8d6906083e06a682537d548b8\u241f4529292660735098393:Center text"]);return _templateObject105=function(){return e},e}function _templateObject104(){var e=_taggedTemplateLiteral([":kendo.window.minimizeTitle|The title of the minimize button\u241f7ca9f9b41a23760f7f74e91ee4c76d5a5f4a706c\u241f7581084655285341827:Minimize"]);return _templateObject104=function(){return e},e}function _templateObject103(){var e=_taggedTemplateLiteral([":kendo.window.maximizeTitle|The title of the maximize button\u241f42bc654ef8767c5df5277aa88941b94f8d373b4d\u241f7793415109119115257:Maximize"]);return _templateObject103=function(){return e},e}function _templateObject102(){var e=_taggedTemplateLiteral([":kendo.window.restoreTitle|The title of the restore button\u241f9a9ce231f0396e40adcfa80bfa76e546e0085be0\u241f3443120027481340803:Restore"]);return _templateObject102=function(){return e},e}function _templateObject101(){var e=_taggedTemplateLiteral([":kendo.window.closeTitle|The title of the close button\u241fbb50cb526949482fc976fd868573ab283580ee69\u241f2849207436137160812:Close"]);return _templateObject101=function(){return e},e}function _templateObject100(){var e=_taggedTemplateLiteral([":kendo.dialog.closeTitle|The title of the close button\u241f9b2bd34897f127e69e5f02f64692fca98a5a7572\u241f7499923323865444383:Close"]);return _templateObject100=function(){return e},e}function _templateObject99(){var e=_taggedTemplateLiteral([":kendo.grid.detailCollapse|The title of the collapse icon of detail rows.\u241face0c0a58fbb211e8678efb3bd6ac9bb587144c3\u241f6065477639036399169:Collapse Details"]);return _templateObject99=function(){return e},e}function _templateObject98(){var e=_taggedTemplateLiteral([":kendo.grid.detailExpand|The title of the expand icon of detail rows.\u241fad6629bb6e79235623cfce486ef48087dbe96fb5\u241f6952757249912226136:Expand Details"]);return _templateObject98=function(){return e},e}function _templateObject97(){var e=_taggedTemplateLiteral([":kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button\u241f94d3b472d99994a5cca9930afd4cf0ac2774c382\u241f4465838259914958827:Reset"]);return _templateObject97=function(){return e},e}function _templateObject96(){var e=_taggedTemplateLiteral([":kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button\u241f04600bd6e362cf9da9f7f9c4666eab2c88eb6a90\u241f34213208292862969:Apply"]);return _templateObject96=function(){return e},e}function _templateObject95(){var e=_taggedTemplateLiteral([":kendo.grid.sortedDefault|The status announcement when a column is no longer sorted\u241f66e99ea340974022c07c52a6f668f5573e7edab0\u241f5229177293891232538:Not Sorted"]);return _templateObject95=function(){return e},e}function _templateObject94(){var e=_taggedTemplateLiteral([":kendo.grid.sortedDescending|The status announcement when a column is sorted descending\u241f092a688d1b2b6d873bdc29beaaf43c3f45336581\u241f8155280769473236383:Sorted Descending"]);return _templateObject94=function(){return e},e}function _templateObject93(){var e=_taggedTemplateLiteral([":kendo.grid.sortedAscending|The status announcement when a column is sorted ascending\u241f947c64329461efd9f8a9aa2c51acbbd099170aa5\u241f6275944032047713540:Sorted Ascending"]);return _templateObject93=function(){return e},e}function _templateObject92(){var e=_taggedTemplateLiteral([":kendo.grid.sortDescending|The text shown in the column menu for the sort descending item\u241f208d0538d4c2537a1cbf456941e34a2884053d52\u241f5605073536641230977:Sort Descending"]);return _templateObject92=function(){return e},e}function _templateObject91(){var e=_taggedTemplateLiteral([":kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item\u241f96beffd8446c5455f3bbdc313c946db32df7dcc2\u241f6297762560864270240:Sort Ascending"]);return _templateObject91=function(){return e},e}function _templateObject90(){var e=_taggedTemplateLiteral([":kendo.grid.sortable|The label of the sort icon\u241fa692ba271be066ce379f942ff67094e1ea989f4c\u241f3824304972336788145:Sortable"]);return _templateObject90=function(){return e},e}function _templateObject89(){var e=_taggedTemplateLiteral([":kendo.grid.unlock|The text shown in the column menu for the unlock item\u241ff33355540003068372e39ba7f3def794869ea9f8\u241f6968586378603932789:Unlock"]);return _templateObject89=function(){return e},e}function _templateObject88(){var e=_taggedTemplateLiteral([":kendo.grid.lock|The text shown in the column menu for the lock item\u241ff356cae509dec3dc1b7156326b9a0328a79c62a8\u241f5849203148124173556:Lock"]);return _templateObject88=function(){return e},e}function _templateObject87(){var e=_taggedTemplateLiteral([":kendo.grid.columns|The text shown in the column menu for the columns item\u241f9b841399fbb3d81f2401f98b4f4763834b72a1e5\u241f5332162737795508854:Columns"]);return _templateObject87=function(){return e},e}function _templateObject86(){var e=_taggedTemplateLiteral([":kendo.grid.columnMenu|The title of the column menu icon\u241f3596c6b21d39223adc5c352daec9938474a8cc0d\u241f2820335494528144626:Column Menu"]);return _templateObject86=function(){return e},e}function _templateObject85(){var e=_taggedTemplateLiteral([":kendo.grid.loading|The loading text\u241f781c049cc69efc30bc8053af9ace3cb4b04bd438\u241f5425510787229531767:Loading"]);return _templateObject85=function(){return e},e}function _templateObject84(){var e=_taggedTemplateLiteral([":kendo.grid.filterOrLogic|The text of the Or filter logic\u241f04e64780de0fc1c3a9986997e0808ec53a5f2a63\u241f1964926727342405367:Or"]);return _templateObject84=function(){return e},e}function _templateObject83(){var e=_taggedTemplateLiteral([":kendo.grid.filterAndLogic|The text of the And filter logic\u241ff73fbcc2f813d469e4a34491950ca01ea1ac8f60\u241f512662285155477884:And"]);return _templateObject83=function(){return e},e}function _templateObject82(){var e=_taggedTemplateLiteral([":kendo.grid.filterClearButton|The text of the clear filter button\u241f06e4e4dadede6f91f261cdbb7fb174246a135238\u241f3031209415830321799:Clear"]);return _templateObject82=function(){return e},e}function _templateObject81(){var e=_taggedTemplateLiteral([":kendo.grid.filterFilterButton|The text of the filter button\u241f4f1c08d0b056646cdb668da669e2e15825adfe4d\u241f5185263258022896121:Filter"]);return _templateObject81=function(){return e},e}function _templateObject80(){var e=_taggedTemplateLiteral([":kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator\u241f27a6b29ffbc1eb498de8d7af20051461a2e842ec\u241f6582064037090631388:Is before or equal to"]);return _templateObject80=function(){return e},e}function _templateObject79(){var e=_taggedTemplateLiteral([":kendo.grid.filterBeforeOperator|The text of the before date filter operator\u241f35ef5cf367670f15432c9f8761bc85fbdb2b1830\u241f3348865631071358219:Is before"]);return _templateObject79=function(){return e},e}function _templateObject78(){var e=_taggedTemplateLiteral([":kendo.grid.filterAfterOperator|The text of the after date filter operator\u241fbff777df0d0831cc02679227422fab4ef2763fa9\u241f3078502182807244703:Is after"]);return _templateObject78=function(){return e},e}function _templateObject77(){var e=_taggedTemplateLiteral([":kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator\u241fd7dac1bbc2372d578a9d2bca099de766043aed7e\u241f1964413288176201979:Is after or equal to"]);return _templateObject77=function(){return e},e}function _templateObject76(){var e=_taggedTemplateLiteral([":kendo.grid.filterBooleanAll|The text of the (All) boolean filter option\u241f4da1456a62bafe2614ed2bc05a2c790a64a4dd0b\u241f9215343856736761875:(All)"]);return _templateObject76=function(){return e},e}function _templateObject75(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option\u241f6d34731320e2536fd78f4a9e08f0b8dcd01edf3d\u241f7759366406135608407:Is False"]);return _templateObject75=function(){return e},e}function _templateObject74(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option\u241fd5f1e9028bc60c30e8f8e0f9cfeb872512446cea\u241f2361673238316312251:Is True"]);return _templateObject74=function(){return e},e}function _templateObject73(){var e=_taggedTemplateLiteral([":kendo.grid.filterLtOperator|The text of the less than filter operator\u241fc4d58f0e509cb7e37014715dd91546a724210d70\u241f498627126459578706:Is less than"]);return _templateObject73=function(){return e},e}function _templateObject72(){var e=_taggedTemplateLiteral([":kendo.grid.filterLteOperator|The text of the less than or equal filter operator\u241fe48d50a6422c616a00b95025adc5283aff4fa8cb\u241f4840714404733417604:Is less than or equal to"]);return _templateObject72=function(){return e},e}function _templateObject71(){var e=_taggedTemplateLiteral([":kendo.grid.filterGtOperator|The text of the greater than filter operator\u241fae68acc0e18252a348bdfb32112996d81e5305de\u241f1527483349261806183:Is greater than"]);return _templateObject71=function(){return e},e}function _templateObject70(){var e=_taggedTemplateLiteral([":kendo.grid.filterGteOperator|The text of the greater than or equal filter operator\u241f68471603db771d0304d02fe086da9701c16911c3\u241f4542824413455511831:Is greater than or equal to"]);return _templateObject70=function(){return e},e}function _templateObject69(){var e=_taggedTemplateLiteral([":kendo.grid.filterEndsWithOperator|The text of the ends with filter operator\u241fa54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1\u241f3662435311670509156:Ends with"]);return _templateObject69=function(){return e},e}function _templateObject68(){var e=_taggedTemplateLiteral([":kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator\u241fbe06aa4fde7fa722c9de5a45f241ff595071d718\u241f7331253838216904826:Does not contain"]);return _templateObject68=function(){return e},e}function _templateObject67(){var e=_taggedTemplateLiteral([":kendo.grid.filterContainsOperator|The text of the contains filter operator\u241f5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1\u241f3831180413287131758:Contains"]);return _templateObject67=function(){return e},e}function _templateObject66(){var e=_taggedTemplateLiteral([":kendo.grid.filterStartsWithOperator|The text of the starts with filter operator\u241fda43b363b636156e3ccdbb64a0788bdeab51e992\u241f6087783423599420507:Starts with"]);return _templateObject66=function(){return e},e}function _templateObject65(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator\u241fdee7553c341248e90aef4a8e7438c52e667e68be\u241f8245213618709258015:Is not empty"]);return _templateObject65=function(){return e},e}function _templateObject64(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator\u241fa4e77e444b4e9b63851ac818e20136212b06c750\u241f4762263229995523226:Is empty"]);return _templateObject64=function(){return e},e}function _templateObject63(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator\u241f70b39eeaf2674907b2e59b414baf17e032b464dc\u241f8362279767336741540:Is not null"]);return _templateObject63=function(){return e},e}function _templateObject62(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNullOperator|The text of the is null filter operator\u241f078c50eb1fe8b2b43fcc40c5e7f4493152310c2f\u241f1298299704757177797:Is null"]);return _templateObject62=function(){return e},e}function _templateObject61(){var e=_taggedTemplateLiteral([":kendo.grid.filterNotEqOperator|The text of the not equal filter operator\u241fd46e14d35d89d2fadf5c852abf5557643510a013\u241f8497658332767349737:Is not equal to"]);return _templateObject61=function(){return e},e}function _templateObject60(){var e=_taggedTemplateLiteral([":kendo.grid.filterEqOperator|The text of the equal filter operator\u241f8b31e1604d10a2f8709dcb1ed5c237e33cffc135\u241f4328959145426393682:Is equal to"]);return _templateObject60=function(){return e},e}function _templateObject59(){var e=_taggedTemplateLiteral([":kendo.grid.filter|The label of the filter cell or icon\u241f21a04b7b090dac60e0449cb6e435b7e879173c75\u241f7977992299945497789:Filter"]);return _templateObject59=function(){return e},e}function _templateObject58(){var e=_taggedTemplateLiteral([":kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager\u241f3331fe7ec45f299afaa4c1e08ea25c493eda9144\u241f8838594644885628398:items per page"]);return _templateObject58=function(){return e},e}function _templateObject57(){var e=_taggedTemplateLiteral([":kendo.grid.pagerItems|The label after the total pages number in the Grid pager\u241f7c1704d11bfb77340485acd891439c2b6c6616ca\u241f700193548223931835:items"]);return _templateObject57=function(){return e},e}function _templateObject56(){var e=_taggedTemplateLiteral([":kendo.grid.pagerOf|The label before the total pages number in the Grid pager\u241f0c9abe48f5d4bd2cb51846712e41864fc64aad6a\u241f7004642096327889102:of"]);return _templateObject56=function(){return e},e}function _templateObject55(){var e=_taggedTemplateLiteral([":kendo.grid.pagerPage|The label before the current page number in the Grid pager\u241f89c1f616c25bb610824cd8a26473a03921df48bd\u241f5228228287003939680:Page"]);return _templateObject55=function(){return e},e}function _templateObject54(){var e=_taggedTemplateLiteral([":kendo.grid.pagerLastPage|The label for the last page button in Grid pager\u241ffe84f2ea868286ce03e50b6e55558c16d675c753\u241f4539768510520419313:Go to the last page"]);return _templateObject54=function(){return e},e}function _templateObject53(){var e=_taggedTemplateLiteral([":kendo.grid.pagerNextPage|The label for the next page button in Grid pager\u241f90031133fca899b4e491d9fc51128c1a184afb30\u241f5510985262435270859:Go to the next page"]);return _templateObject53=function(){return e},e}function _templateObject52(){var e=_taggedTemplateLiteral([":kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager\u241f47aa4fe05f5a2577d3336971d7c44ce48802b860\u241f6745088753482690847:Go to the previous page"]);return _templateObject52=function(){return e},e}function _templateObject51(){var e=_taggedTemplateLiteral([":kendo.grid.pagerFirstPage|The label for the first page button in Grid pager\u241fb405dfc5ee42415daa08d54847d3010de1821111\u241f5647145449685906398:Go to the first page"]);return _templateObject51=function(){return e},e}function _templateObject50(){var e=_taggedTemplateLiteral([":kendo.grid.noRecords|The label visible in the Grid when there are no records\u241fff9cfd4bf3e40305db251f2b6961796c0550b4b0\u241f1243399825085142134:No records available."]);return _templateObject50=function(){return e},e}function _templateObject49(){var e=_taggedTemplateLiteral([":kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty\u241f30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96\u241f1430663748859427158:Drag a column header and drop it here to group by that column"]);return _templateObject49=function(){return e},e}function _templateObject48(){var e=_taggedTemplateLiteral([":kendo.timeselector.nowLabel|The label for the Now button in the timeselector component\u241f08e6a8a51d970609e138950fdd89c5cf201869f3\u241f7789175884909488647:Select now"]);return _templateObject48=function(){return e},e}function _templateObject47(){var e=_taggedTemplateLiteral([":kendo.timeselector.now|The Now button text in the timeselector component\u241f98cba1ae36a7bbe15e1bac1837e07922ec109e7d\u241f1926162752852226109:Now"]);return _templateObject47=function(){return e},e}function _templateObject46(){var e=_taggedTemplateLiteral([":kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component\u241f08dfbdfffd662371a6ff4c0b6ed82b9faa48143b\u241f5738120209397145846:Cancel changes"]);return _templateObject46=function(){return e},e}function _templateObject45(){var e=_taggedTemplateLiteral([":kendo.timeselector.cancel|The Cancel button text in the timeselector component\u241f3004d7704ffa6202a3b3925fcea490e486203a3e\u241f1890188482755567622:Cancel"]);return _templateObject45=function(){return e},e}function _templateObject44(){var e=_taggedTemplateLiteral([":kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component\u241fb4b1e5ac55f0330f6c4e32b866ae4339ad969978\u241f3417396278000787211:Set time"]);return _templateObject44=function(){return e},e}function _templateObject43(){var e=_taggedTemplateLiteral([":kendo.timeselector.accept|The Accept button text in the timeselector component\u241f801811aa1609e3f173c86baa82cee037f75a215f\u241f5362895271044573681:Set"]);return _templateObject43=function(){return e},e}function _templateObject42(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar\u241f3e3a529a242f39d22f841c3bd8045ec75b696b7a\u241f3994336778698343633:Navigate to next view"]);return _templateObject42=function(){return e},e}function _templateObject41(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar\u241fe783e2af4828224b846fa92148ea1cc52b21bb13\u241f9101635325676663492:Navigate to previous view"]);return _templateObject41=function(){return e},e}function _templateObject40(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.today|The label for the today button in the calendar header\u241f063d99483243b27bc8282abfb5f2c76877e1112e\u241f3892034896682737327:TODAY"]);return _templateObject40=function(){return e},e}function _templateObject39(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.today|The label for the today button in the calendar header\u241f7ee30b9ae5918cc544fbd87a4135694397aeefaf\u241f7904626229769721311:TODAY"]);return _templateObject39=function(){return e},e}function _templateObject38(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component\u241f52d90641b26b1ce4c011cadf0437ce36c1dac1d5\u241f5046379108717037514:Select now"]);return _templateObject38=function(){return e},e}function _templateObject37(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.now|The Now button text in the timepicker component\u241f7172e7e9a1741f6b63439ec89e498c995cb23b0d\u241f5497093725885127701:NOW"]);return _templateObject37=function(){return e},e}function _templateObject36(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component\u241fba26795ab9f4c21d66b17549ba854a96fcdac1f9\u241f3535986227615756275:Cancel"]);return _templateObject36=function(){return e},e}function _templateObject35(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component\u241f17ab795d6f7527dd962a309759ca58cb4edd7e52\u241f5100781969600382158:Cancel"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component\u241fcbea4571cca81ad9767a6b29f0287d1f3f6372dc\u241f4770689705864890748:Set"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.accept|The Accept button text in the datetimepicker component\u241f4359b59db7ded88e106ada877e744c71b188f8f9\u241f3915774704336012538:Set"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.toggle|The label for the toggle button in the datetimepicker component\u241f60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a\u241f3159207801887264026:Toggle popup"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header\u241f13bf7e3a1036140119732c6d5952f7a20c22999e\u241f2577682127494513393:Time tab"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header\u241fe9b2b760a6916040e7520a9a2926d65de175944d\u241f3807284594201983607:Time"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header\u241f2a400c9e364a4c6d83ac39b5513c962805db54b2\u241f1810540079817643910:Date tab"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header\u241f5bb17f81ae8dbc109499ce3792afffa6b7cef855\u241f3360129034450596425:Date"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral([":kendo.timepicker.toggle|The label for the toggle button in the timepicker component\u241ff2c196786ed2d3ecb2369750c36aac9a4053fb30\u241f6938407659294495526:Toggle time list"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([":kendo.timepicker.nowLabel|The label for the Now button in the timepicker component\u241fdf1a696f318275aa934e27850920889d494c2740\u241f371982627910576599:Select now"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral([":kendo.timepicker.now|The Now button text in the timepicker component\u241fbbc99bb74ae75a503bd813aad0c7253d3553e923\u241f5912507758515138116:Now"]);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral([":kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component\u241f2cf6f4ca4470810944b4016c9b6f87943d3390ab\u241f83621966901491941:Cancel changes"]);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral([":kendo.timepicker.cancel|The Cancel button text in the timepicker component\u241f132eefca16bd41d489b4647724b91e93793603aa\u241f1086687567255473060:Cancel"]);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral([":kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component\u241f93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222\u241f4355879331538595758:Set time"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":kendo.timepicker.accept|The Accept button text in the timepicker component\u241f4c3bf42192220c7611c09ece1c5de14855139dd0\u241f7519663530416240229:Set"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":kendo.datepicker.toggle|The label for the toggle button in the datepicker component\u241ff6c28c2d80dbe993c4b33f4dc4010364f41cc2ae\u241f4817467473728423164:Toggle calendar"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":kendo.datepicker.today|The label for the today button in the calendar header\u241f91a84f2d4871dbe7e90d84865d4a4d83c8ae041e\u241f1910980355989755624:TODAY"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput\u241f0eded761107e6dad120997006a7f915bade9b15c\u241f6980524091606682769:Decrease value"]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([":kendo.dateinput.increment|The label for the **Increment** button in the DateInput\u241fa55944f9de69e7cc86b91200fe96f980a947d704\u241f589112377451589685:Increase value"]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":kendo.calendar.today|The label for the today button in the calendar header\u241f2df64767cd895a8fabe3e18b94b5b6b6f9e2e3f0\u241f826701167553276328:TODAY"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox\u241fdf4751834075bf970c77d0da2c960b4e19a6b0dd\u241f3960022057994897997:Decrease value"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox\u241f0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5\u241f4467784268438010275:Increase value"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":kendo.switch.off|The **Off** label of the Switch.\u241f79df1a6d2b35c32b2948e3cee56dd3ffe28127bc\u241f759820891948194060:OFF"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":kendo.switch.on|The **On** label of the Switch.\u241f155f0a38198ffbf0429c5dbf9765e74f246a8617\u241f818154782831456441:ON"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":kendo.slider.dragHandle|The title of the drag handle of the Slider.\u241f481eb98e9cd8ef8e8b22051796441901e883763d\u241f9117416417579607469:Drag"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":kendo.slider.decrement|The title of the **Decrease** button of the Slider.\u241f042c26f68d78afd6834ea46a5f7533850fe8c800\u241f652458644240352212:decrement"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":kendo.slider.increment|The title of the **Increase** button of the Slider.\u241f0fa71630d40c425b9c366afd7f6c3cecc5bef59d\u241f8302125540024939132:increment"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":kendo.multiselect.noDataText|The text displayed in the popup when there are no items\u241f3cc1323f79a5fe012960578e513f8a35b2af1e96\u241f1450213984397806503:NO DATA FOUND"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items\u241f4fc2f70c9c8cf7b18affd6b938105996d6ac3306\u241f8289552890585138350:NO DATA FOUND"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":kendo.combobox.noDataText|The text displayed in the popup when there are no items\u241f2b6e00c74a6d9c98c03a6274d0224e9bd457ff89\u241f7708502966028483300:NO DATA FOUND"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":kendo.autocomplete.clearTitle|The title of the clear button\u241f7cf49cc2d50eebd29f8d61564512383caaaac7a6\u241f4821453594854847070:clear"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":kendo.autocomplete.noDataText|The text displayed in the popup when there are no items\u241f4e9993e088a293543eb0c2801343518c115b6f20\u241f2690656529626907484:NO DATA FOUND"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":kendo.notification.closeTitle|The title of the close button\u241fec4f6e0c77992a6dd3518cec396079fd0bd06d53\u241f2647775058951488820:Close"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"3FVc":function(e,t,n){e.exports=n("Vb5C")},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},ABBN:function(e,t,n){"use strict";n.r(t),n.d(t,"autoJoin",(function(){return A})),n.d(t,"baseKeymap",(function(){return N})),n.d(t,"chainCommands",(function(){return D})),n.d(t,"createParagraphNear",(function(){return b})),n.d(t,"deleteSelection",(function(){return a})),n.d(t,"exitCode",(function(){return k})),n.d(t,"joinBackward",(function(){return s})),n.d(t,"joinDown",(function(){return v})),n.d(t,"joinForward",(function(){return h})),n.d(t,"joinUp",(function(){return p})),n.d(t,"lift",(function(){return m})),n.d(t,"liftEmptyBlock",(function(){return w})),n.d(t,"macBaseKeymap",(function(){return P})),n.d(t,"newlineInCode",(function(){return g})),n.d(t,"pcBaseKeymap",(function(){return F})),n.d(t,"selectAll",(function(){return x})),n.d(t,"selectNodeBackward",(function(){return u})),n.d(t,"selectNodeForward",(function(){return f})),n.d(t,"selectParentNode",(function(){return S})),n.d(t,"setBlockType",(function(){return I})),n.d(t,"splitBlock",(function(){return C})),n.d(t,"splitBlockKeepMarks",(function(){return _})),n.d(t,"toggleMark",(function(){return E})),n.d(t,"wrapIn",(function(){return O}));var i=n("CsC6"),r=n("MEpN"),o=n("UxO+");function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function s(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var a=c(r);if(!a){var s=r.blockRange(),u=s&&Object(i.l)(s);return null!=u&&(t&&t(e.tr.lift(s,u).scrollIntoView()),!0)}var h=a.nodeBefore;if(!h.type.spec.isolating&&T(e,a,t))return!0;if(0==r.parent.content.size&&(l(h,"end")||o.NodeSelection.isSelectable(h))){if(t){var f=e.tr.deleteRange(r.before(),r.after());f.setSelection(l(h,"end")?o.Selection.findFrom(f.doc.resolve(f.mapping.map(a.pos,-1)),-1):o.NodeSelection.create(f.doc,a.pos-h.nodeSize)),t(f.scrollIntoView())}return!0}return!(!h.isAtom||a.depth!=r.depth-1||(t&&t(e.tr.delete(a.pos-h.nodeSize,a.pos).scrollIntoView()),0))}function l(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function u(e,t,n){var i=e.selection,r=i.$head,a=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;a=c(r)}var s=a&&a.nodeBefore;return!(!s||!o.NodeSelection.isSelectable(s)||(t&&t(e.tr.setSelection(o.NodeSelection.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),0))}function c(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function h(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var r=d(i);if(!r)return!1;var a=r.nodeAfter;if(T(e,r,t))return!0;if(0==i.parent.content.size&&(l(a,"start")||o.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(i.before(),i.after());s.setSelection(l(a,"start")?o.Selection.findFrom(s.doc.resolve(s.mapping.map(r.pos)),1):o.NodeSelection.create(s.doc,s.mapping.map(r.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||r.depth!=i.depth-1||(t&&t(e.tr.delete(r.pos,r.pos+a.nodeSize).scrollIntoView()),0))}function f(e,t,n){var i=e.selection,r=i.$head,a=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;a=d(r)}var s=a&&a.nodeAfter;return!(!s||!o.NodeSelection.isSelectable(s)||(t&&t(e.tr.setSelection(o.NodeSelection.create(e.doc,a.pos)).scrollIntoView()),0))}function d(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function p(e,t){var n,r=e.selection,a=r instanceof o.NodeSelection;if(a){if(r.node.isTextblock||!Object(i.g)(e.doc,r.from))return!1;n=r.from}else if(null==(n=Object(i.k)(e.doc,r.from,-1)))return!1;if(t){var s=e.tr.join(n);a&&s.setSelection(o.NodeSelection.create(s.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0}function v(e,t){var n,r=e.selection;if(r instanceof o.NodeSelection){if(r.node.isTextblock||!Object(i.g)(e.doc,r.to))return!1;n=r.to}else if(null==(n=Object(i.k)(e.doc,r.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0}function m(e,t){var n=e.selection,r=n.$from.blockRange(n.$to),o=r&&Object(i.l)(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)}function g(e,t){var n=e.selection,i=n.$head;return!(!i.parent.type.spec.code||!i.sameParent(n.$anchor)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))}function y(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function k(e,t){var n=e.selection,i=n.$head;if(!i.parent.type.spec.code||!i.sameParent(n.$anchor))return!1;var r=i.node(-1),a=i.indexAfter(-1),s=y(r.contentMatchAt(a));if(!r.canReplaceWith(a,a,s))return!1;if(t){var l=i.after(),u=e.tr.replaceWith(l,l,s.createAndFill());u.setSelection(o.Selection.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0}function b(e,t){var n=e.selection,i=n.$from,r=n.$to;if(i.parent.inlineContent||r.parent.inlineContent)return!1;var a=y(i.parent.contentMatchAt(r.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){var s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,l=e.tr.insert(s,a.createAndFill());l.setSelection(o.TextSelection.create(l.doc,s+1)),t(l.scrollIntoView())}return!0}function w(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(i.h)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),a=o&&Object(i.l)(o);return null!=a&&(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}function C(e,t){var n=e.selection,a=n.$from,s=n.$to;if(e.selection instanceof o.NodeSelection&&e.selection.node.isBlock)return!(!a.parentOffset||!Object(i.h)(e.doc,a.pos)||(t&&t(e.tr.split(a.pos).scrollIntoView()),0));if(!a.parent.isBlock)return!1;if(t){var l=s.parentOffset==s.parent.content.size,u=e.tr;e.selection instanceof o.TextSelection&&u.deleteSelection();var c=0==a.depth?null:y(a.node(-1).contentMatchAt(a.indexAfter(-1))),h=l&&c?[{type:c}]:null,f=Object(i.h)(u.doc,u.mapping.map(a.pos),1,h);h||f||!Object(i.h)(u.doc,u.mapping.map(a.pos),1,c&&[{type:c}])||(h=[{type:c}],f=!0),f&&(u.split(u.mapping.map(a.pos),1,h),l||a.parentOffset||a.parent.type==c||!a.node(-1).canReplace(a.index(-1),a.indexAfter(-1),r.Fragment.from(c.create(),a.parent))||u.setNodeMarkup(u.mapping.map(a.before()),c)),t(u.scrollIntoView())}return!0}function _(e,t){return C(e,t&&function(n){var i=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();i&&n.ensureMarks(i),t(n)})}function S(e,t){var n,i=e.selection,r=i.$from,a=r.sharedDepth(i.to);return 0!=a&&(n=r.before(a),t&&t(e.tr.setSelection(o.NodeSelection.create(e.doc,n))),!0)}function x(e,t){return t&&t(e.tr.setSelection(new o.AllSelection(e.doc))),!0}function T(e,t,n){var a,s,l=t.nodeBefore,u=t.nodeAfter;if(l.type.spec.isolating||u.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,a=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!o.isTextblock&&!Object(i.g)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(a=(s=l.contentMatchAt(l.childCount)).findWrapping(u.type))&&s.matchType(a[0]||u.type).validEnd){if(n){for(var c=t.pos+u.nodeSize,h=r.Fragment.empty,f=a.length-1;f>=0;f--)h=r.Fragment.from(a[f].create(null,h));h=r.Fragment.from(l.copy(h));var d=e.tr.step(new i.d(t.pos-1,c,t.pos,c,new r.Slice(h,1,0),a.length,!0)),p=c+2*a.length;Object(i.g)(d.doc,p)&&d.join(p),n(d.scrollIntoView())}return!0}var v=o.Selection.findFrom(t,1),m=v&&v.$from.blockRange(v.$to),g=m&&Object(i.l)(m);return null!=g&&g>=t.depth&&(n&&n(e.tr.lift(m,g).scrollIntoView()),!0)}function O(e,t){return function(n,r){var o=n.selection,a=o.$from.blockRange(o.$to),s=a&&Object(i.j)(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}function I(e,t){return function(n,i){var r=n.selection,o=r.from,a=r.to,s=!1;return n.doc.nodesBetween(o,a,(function(i,r){if(s)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)s=!0;else{var o=n.doc.resolve(r),a=o.index();s=o.parent.canReplaceWith(a,a+1,e)}})),!!s&&(i&&i(n.tr.setBlockType(o,a,e,t).scrollIntoView()),!0)}}function E(e,t){return function(n,i){var r=n.selection,o=r.$cursor,a=r.ranges;if(r.empty&&!o||!function(e,t,n){for(var i=function(i){var r=t[i],o=r.$from,a=r.$to,s=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},r=0;r<t.length;r++){var o=i(r);if(o)return o.v}return!1}(n.doc,a,e))return!1;if(i)if(o)e.isInSet(n.storedMarks||o.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{for(var s=!1,l=n.tr,u=0;!s&&u<a.length;u++){var c=a[u];s=n.doc.rangeHasMark(c.$from.pos,c.$to.pos,e)}for(var h=0;h<a.length;h++){var f=a[h],d=f.$from,p=f.$to;s?l.removeMark(d.pos,p.pos,e):l.addMark(d.pos,p.pos,e.create(t))}i(l.scrollIntoView())}return!0}}function A(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var a=n.mapping.maps[o],s=0;s<r.length;s++)r[s]=a.map(r[s]);a.forEach((function(e,t,n,i){return r.push(n,i)}))}for(var l=[],u=0;u<r.length;u+=2)for(var c=r[u+1],h=n.doc.resolve(r[u]),f=h.sharedDepth(c),d=h.node(f),p=h.indexAfter(f),v=h.after(f+1);v<=c;++p){var m=d.maybeChild(p);if(!m)break;if(p&&-1==l.indexOf(v)){var g=d.child(p-1);g.type==m.type&&t(g,m)&&l.push(v)}v+=m.nodeSize}l.sort((function(e,t){return e-t}));for(var y=l.length-1;y>=0;y--)Object(i.g)(n.doc,l[y])&&n.join(l[y]);e(n)}}(r,t))}}function D(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,i){for(var r=0;r<e.length;r++)if(e[r](t,n,i))return!0;return!1}}var R=D(a,s,u),M=D(a,h,f),F={Enter:D(g,b,w,C),"Mod-Enter":k,Backspace:R,"Mod-Backspace":R,Delete:M,"Mod-Delete":M,"Mod-a":x},P={"Ctrl-h":F.Backspace,"Alt-Backspace":F["Mod-Backspace"],"Ctrl-d":F.Delete,"Ctrl-Alt-Backspace":F["Mod-Delete"],"Alt-Delete":F["Mod-Delete"],"Alt-d":F["Mod-Delete"]};for(var z in F)P[z]=F[z];var N=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?P:F},CsC6:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return b}));var i=n("MEpN"),r=Math.pow(2,16);function o(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},s=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};s.prototype.recover=function(e){var t=0,n=o(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/r}(e)},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},s.prototype._map=function(e,t,n){for(var i=0,o=this.inverted?2:1,s=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;var c=this.ranges[l+o],h=this.ranges[l+s],f=u+c;if(e<=f){var d=u+i+((c?e==u?-1:e==f?1:t:t)<0?0:h);return n?d:new a(d,t<0?e!=u:e!=f,e==(t<0?u:f)?null:l/3+(e-u)*r)}i+=h-c}return n?e+i:new a(e+i)},s.prototype.touches=function(e,t){for(var n=0,i=o(t),r=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var u=this.ranges[s+r];if(e<=l+u&&s==3*i)return!0;n+=this.ranges[s+a]-u}return!1},s.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,r=0;i<this.ranges.length;i+=3){var o=this.ranges[i],a=o-(this.inverted?r:0),s=o+(this.inverted?0:r),l=this.ranges[i+t],u=this.ranges[i+n];e(a,a+l,s,s+u),r+=u-l}},s.prototype.invert=function(){return new s(this.ranges,!this.inverted)},s.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},s.offset=function(e){return 0==e?s.empty:new s(e<0?[0,-e,0]:[0,0,e])},s.empty=new s([]);var l=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=t};function u(e){var t=Error.call(this,e);return t.__proto__=u.prototype,t}l.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new l(this.maps,this.mirror,e,t)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},l.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?n+i:null)}},l.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},l.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},l.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?n-i-1:null)}},l.prototype.invert=function(){var e=new l;return e.appendMappingInverted(this),e},l.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},l.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},l.prototype._map=function(e,t,n){for(var i=!1,r=this.from;r<this.to;r++){var o=this.maps[r].mapResult(e,t);if(null!=o.recover){var s=this.getMirror(r);if(null!=s&&s>r&&s<this.to){r=s,e=this.maps[s].recover(o.recover);continue}}o.deleted&&(i=!0),e=o.pos}return n?e:new a(e,i)},(u.prototype=Object.create(Error.prototype)).constructor=u,u.prototype.name="TransformError";var c=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new l},h={before:{configurable:!0},docChanged:{configurable:!0}};function f(){throw new Error("Override me")}h.before.get=function(){return this.docs.length?this.docs[0]:this.doc},c.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new u(t.failed);return this},c.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},h.docChanged.get=function(){return this.steps.length>0},c.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(c.prototype,h);var d=Object.create(null),p=function(){};p.prototype.apply=function(e){return f()},p.prototype.getMap=function(){return s.empty},p.prototype.invert=function(e){return f()},p.prototype.map=function(e){return f()},p.prototype.merge=function(e){return null},p.prototype.toJSON=function(){return f()},p.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=d[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},p.jsonID=function(e,t){if(e in d)throw new RangeError("Duplicate use of step JSON ID "+e);return d[e]=t,t.prototype.jsonID=e,t};var v=function(e,t){this.doc=e,this.failed=t};v.ok=function(e){return new v(e,null)},v.fail=function(e){return new v(null,e)},v.fromReplace=function(e,t,n,r){try{return v.ok(e.replace(t,n,r))}catch(o){if(o instanceof i.ReplaceError)return v.fail(o.message);throw o}};var m=function(e){function t(t,n,i,r){e.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.apply=function(e){return this.structure&&y(e,this.from,this.to)?v.fail("Structure replace would overwrite content"):v.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new s([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new t(n.pos,Math.max(n.pos,i.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?i.Slice.empty:new i.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?i.Slice.empty:new i.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,i.Slice.fromJSON(e,n.slice),!!n.structure)},t}(p);p.jsonID("replace",m);var g=function(e){function t(t,n,i,r,o,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.apply=function(e){if(this.structure&&(y(e,this.from,this.gapFrom)||y(e,this.gapTo,this.to)))return v.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return v.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?v.fromReplace(e,this.from,this.to,n):v.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deleted&&i.deleted||r<n.pos||o>i.pos?null:new t(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,i.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(p);function y(e,t,n){for(var i=e.resolve(t),r=n-t,o=i.depth;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0)for(var a=i.node(o).maybeChild(i.indexAfter(o));r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}return!1}function k(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function b(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var i=e.$from.node(n),r=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(r,o,t))return n;if(0==n||i.type.spec.isolating||!k(i,r,o))break}}function w(e,t,n,i){void 0===i&&(i=e);var r=function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.contentMatchAt(i).findWrapping(t);return o&&n.canReplaceWith(i,r,o.length?o[0]:t)?o:null}(e,t),o=r&&function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.child(i),a=t.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=i;s&&l<r;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(i,t);return o?r.map(C).concat({type:t,attrs:n}).concat(o.map(C)):null}function C(e){return{type:e,attrs:null}}function _(e,t,n,i){void 0===n&&(n=1);var r=e.resolve(t),o=r.depth-n,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var s=r.depth-1,l=n-2;s>o;s--,l--){var u=r.node(s),c=r.index(s);if(u.type.spec.isolating)return!1;var h=u.content.cutByIndex(c,u.childCount),f=i&&i[l]||u;if(f!=u&&(h=h.replaceChild(0,f.type.create(f.attrs))),!u.canReplace(c+1,u.childCount)||!f.type.validContent(h))return!1}var d=r.indexAfter(o),p=i&&i[0];return r.node(o).canReplaceWith(d,d,p?p.type:r.node(o+1).type)}function S(e,t){var n=e.resolve(t),i=n.index();return x(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function x(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function T(e,t,n){void 0===n&&(n=-1);for(var i=e.resolve(t),r=i.depth;;r--){var o=void 0,a=void 0,s=i.index(r);if(r==i.depth?(o=i.nodeBefore,a=i.nodeAfter):n>0?(o=i.node(r+1),s++,a=i.node(r).maybeChild(s)):(o=i.node(r).maybeChild(s-1),a=i.node(r+1)),o&&!o.isTextblock&&x(o,a)&&i.node(r).canReplace(s,s+1))return t;if(0==r)break;t=n<0?i.before(r):i.after(r)}}function O(e,t,n){var i=e.resolve(t);if(!n.content.size)return t;for(var r=n.content,o=0;o<n.openStart;o++)r=r.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=i.depth;s>=0;s--){var l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,u=i.index(s)+(l>0?1:0);if(1==a?i.node(s).canReplace(u,u,r):i.node(s).contentMatchAt(u).findWrapping(r.firstChild.type))return 0==l?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}function I(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var a=e.child(o);a.content.size&&(a=a.copy(I(a.content,t,a))),a.isInline&&(a=t(a,n,o)),r.push(a)}return i.Fragment.fromArray(r)}p.jsonID("replaceAround",g),c.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,a=n.before(o+1),s=r.after(o+1),l=a,u=s,c=i.Fragment.empty,h=0,f=o,d=!1;f>t;f--)d||n.index(f)>0?(d=!0,c=i.Fragment.from(n.node(f).copy(c)),h++):l--;for(var p=i.Fragment.empty,v=0,m=o,y=!1;m>t;m--)y||r.after(m+1)<r.end(m)?(y=!0,p=i.Fragment.from(r.node(m).copy(p)),v++):u++;return this.step(new g(l,u,a,s,new i.Slice(c.append(p),h,v),c.size-h,!0))},c.prototype.wrap=function(e,t){for(var n=i.Fragment.empty,r=t.length-1;r>=0;r--)n=i.Fragment.from(t[r].type.create(t[r].attrs,n));var o=e.start,a=e.end;return this.step(new g(o,a,o,a,new i.Slice(n,0,0),t.length,!0))},c.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var i=e.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}(o.doc,o.mapping.slice(a).map(t),n)){o.clearIncompatible(o.mapping.slice(a).map(t,1),n);var s=o.mapping.slice(a),l=s.map(t,1),u=s.map(t+e.nodeSize,1);return o.step(new g(l,u,l+1,u-1,new i.Slice(i.Fragment.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},c.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var a=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new g(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new i.Slice(i.Fragment.from(a),0,0),1,!0))},c.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=i.Fragment.empty,a=i.Fragment.empty,s=r.depth,l=r.depth-t,u=t-1;s>l;s--,u--){o=i.Fragment.from(r.node(s).copy(o));var c=n&&n[u];a=i.Fragment.from(c?c.type.create(c.attrs,a):r.node(s).copy(a))}return this.step(new m(e,e,new i.Slice(o.append(a),t,t),!0))},c.prototype.join=function(e,t){void 0===t&&(t=1);var n=new m(e-t,e+t,i.Slice.empty,!0);return this.step(n)};var E=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),a=new i.Slice(I(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return v.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new A(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(p);p.jsonID("addMark",E);var A=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new i.Slice(I(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return v.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new E(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(p);function D(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}p.jsonID("removeMark",A),c.prototype.addMark=function(e,t,n){var i=this,r=[],o=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(i,l,u){if(i.isInline){var c=i.marks;if(!n.isInSet(c)&&u.type.allowsMarkType(n.type)){for(var h=Math.max(l,e),f=Math.min(l+i.nodeSize,t),d=n.addToSet(c),p=0;p<c.length;p++)c[p].isInSet(d)||(a&&a.to==h&&a.mark.eq(c[p])?a.to=f:r.push(a=new A(h,f,c[p])));s&&s.to==h?s.to=f:o.push(s=new E(h,f,n))}}})),r.forEach((function(e){return i.step(e)})),o.forEach((function(e){return i.step(e)})),this},c.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var o=[],a=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){a++;var l=null;if(n instanceof i.MarkType){var u=n.isInSet(r.marks);u&&(l=[u])}else n?n.isInSet(r.marks)&&(l=[n]):l=r.marks;if(l&&l.length)for(var c=Math.min(s+r.nodeSize,t),h=0;h<l.length;h++){for(var f=l[h],d=void 0,p=0;p<o.length;p++){var v=o[p];v.step==a-1&&f.eq(o[p].style)&&(d=v)}d?(d.to=c,d.step=a):o.push({style:f,from:Math.max(s,e),to:c,step:a})}}})),o.forEach((function(e){return r.step(new A(e.from,e.to,e.style))})),this},c.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],a=e+1,s=0;s<r.childCount;s++){var l=r.child(s),u=a+l.nodeSize,c=n.matchType(l.type,l.attrs);if(c){n=c;for(var h=0;h<l.marks.length;h++)t.allowsMarkType(l.marks[h].type)||this.step(new A(a,u,l.marks[h]))}else o.push(new m(a,u,i.Slice.empty));a=u}if(!n.validEnd){var f=n.fillBefore(i.Fragment.empty,!0);this.replace(a,a,new i.Slice(f,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},c.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=i.Slice.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=i.Slice.empty),t==n&&!r.size)return null;var o=e.resolve(t),a=e.resolve(n);return D(o,a,r)?new m(t,n,r):new R(o,a,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},c.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new i.Slice(i.Fragment.from(n),0,0))},c.prototype.delete=function(e,t){return this.replace(e,t,i.Slice.empty)},c.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var R=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}this.placed=i.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=i.Fragment.from(e.node(a).copy(this.placed))},M={depth:{configurable:!0}};function F(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(F(e.firstChild.content,t-1,n)))}function P(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(P(e.lastChild.content,t-1,n)))}function z(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function N(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,N(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(i.Fragment.empty,!0)))),e.copy(r)}function L(e,t,n,i,r){var o=e.node(t),a=r?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var s=i.fillBefore(o.content,!0,a);return s&&!function(e,t,n){for(var i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,o.content,a)?s:null}function j(e,t,n,r,o){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(j(a.content,t+1,n,r,a)))}if(t>r){var s=o.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(i.Fragment.empty,!0))}return e}function V(e,t){for(var n=[],i=Math.min(e.depth,t.depth);i>=0;i--){var r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;r==t.start(i)&&n.push(i)}return n}M.depth.get=function(){return this.frontier.length-1},R.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var a=this.placed,s=r.depth,l=o.depth;s&&l&&1==a.childCount;)a=a.firstChild.content,s--,l--;var u=new i.Slice(a,s,l);return t>-1?new g(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new m(r.pos,o.pos,u):void 0},R.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=z(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var a=this.frontier[o],s=a.type,l=a.match,u=void 0,c=void 0;if(1==e&&(r?l.matchType(r.type)||(c=l.fillBefore(i.Fragment.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:o,parent:n,inject:c};if(2==e&&r&&(u=l.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:o,parent:n,wrap:u};if(n&&l.matchType(n.type))break}},R.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=z(t,n);return!(!o.childCount||o.firstChild.isLeaf||(this.unplaced=new i.Slice(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),0))},R.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=z(t,n);if(o.childCount<=1&&n>0){var a=t.size-n<=n+o.size;this.unplaced=new i.Slice(F(t,n-1,1),n-1,a?n-1:r)}else this.unplaced=new i.Slice(F(t,n,1),n,r)},R.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,u=r?r.content:l.content,c=l.openStart-t,h=0,f=[],d=this.frontier[n],p=d.match,v=d.type;if(o){for(var m=0;m<o.childCount;m++)f.push(o.child(m));p=p.matchFragment(o)}for(var g=u.size+t-(l.content.size-l.openEnd);h<u.childCount;){var y=u.child(h),k=p.matchType(y.type);if(!k)break;(++h>1||0==c||y.content.size)&&(p=k,f.push(N(y.mark(v.allowedMarks(y.marks)),1==h?c:0,h==u.childCount?g:-1)))}var b=h==u.childCount;b||(g=-1),b&&g<0&&r&&r.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[n].match=p;for(var w=0,C=u;w<g;w++){var _=C.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),C=_.content}this.unplaced=b?0==t?i.Slice.empty:new i.Slice(F(l.content,t-1,1),t-1,g<0?l.openEnd:t-1):new i.Slice(F(l.content,t,h),l.openStart,l.openEnd),this.placed=P(this.placed,n,i.Fragment.from(f))},R.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!L(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,i=this.$to.after(n);n>1&&i==this.$to.end(--n);)++i;return i},R.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,r=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=L(e,t,r,i,o);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],u=L(e,s,l.type,l.match,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}},R.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=P(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,r)}return e},R.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=P(this.placed,this.depth,i.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},R.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(i.Fragment.empty,!0);e.childCount&&(this.placed=P(this.placed,this.frontier.length,e))},Object.defineProperties(R.prototype,M),c.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(D(r,o,n))return this.step(new m(e,t,n));var a=V(r,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(r.depth+1);a.unshift(s);for(var l=r.depth,u=r.pos-1;l>0;l--,u--){var c=r.node(l).type.spec;if(c.defining||c.isolating)break;a.indexOf(l)>-1?s=l:r.before(l)==u&&a.splice(1,0,-l)}for(var h=a.indexOf(s),f=[],d=n.openStart,p=n.content,v=0;;v++){var g=p.firstChild;if(f.push(g),v==n.openStart)break;p=g.content}d>0&&f[d-1].type.spec.defining&&r.node(h).type!=f[d-1].type?d-=1:d>=2&&f[d-1].isTextblock&&f[d-2].type.spec.defining&&r.node(h).type!=f[d-2].type&&(d-=2);for(var y=n.openStart;y>=0;y--){var k=(y+d+1)%(n.openStart+1),b=f[k];if(b)for(var w=0;w<a.length;w++){var C=a[(w+h)%a.length],_=!0;C<0&&(_=!1,C=-C);var S=r.node(C-1),x=r.index(C-1);if(S.canReplaceWith(x,x,b.type,b.marks))return this.replace(r.before(C),_?o.after(C):t,new i.Slice(j(n.content,0,n.openStart,k),k,n.openEnd))}}for(var T=this.steps.length,O=a.length-1;O>=0&&(this.replace(e,t,n),!(this.steps.length>T));O--){var I=a[O];O<0||(e=r.before(I),t=o.after(I))}return this},c.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(var r=i.depth-1;r>=0;r--){var o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(var a=i.depth-1;a>=0;a--){var s=i.indexAfter(a);if(i.node(a).canReplaceWith(s,s,n))return i.after(a+1);if(s<i.node(a).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new i.Slice(i.Fragment.from(n),0,0))},c.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),i=this.doc.resolve(t),r=V(n,i),o=0;o<r.length;o++){var a=r[o],s=o==r.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),i.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return this.delete(n.before(a),i.after(a))}for(var l=1;l<=n.depth&&l<=i.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&i.end(l)-t!=i.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)}},FKDQ:function(e,t,n){e.exports=n("ABBN")},G7Ki:function(e,t,n){e.exports=n("fwbU")},"Ju5/":function(e,t,n){"use strict";var i=n("XqMk"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},MEpN:function(e,t,n){"use strict";function i(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return R})),n.d(t,"DOMParser",(function(){return X})),n.d(t,"DOMSerializer",(function(){return ce})),n.d(t,"Fragment",(function(){return o})),n.d(t,"Mark",(function(){return c})),n.d(t,"MarkType",(function(){return Y})),n.d(t,"Node",(function(){return I})),n.d(t,"NodeRange",(function(){return x})),n.d(t,"NodeType",(function(){return q})),n.d(t,"ReplaceError",(function(){return h})),n.d(t,"ResolvedPos",(function(){return b})),n.d(t,"Schema",(function(){return Q})),n.d(t,"Slice",(function(){return f})),i.prototype={constructor:i,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),a=r.content.slice();return-1==o?a.push(n||e,t):(a[o+1]=t,n&&(a[o]=n)),new i(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new i(n)},addToStart:function(e,t){return new i([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new i(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),a=r.find(e);return o.splice(-1==a?o.length:a,0,t,n),new i(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=i.from(e)).size?new i(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=i.from(e)).size?new i(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=i.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},i.from=function(e){if(e instanceof i)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new i(t)};var r=i,o=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};o.prototype.nodesBetween=function(e,t,n,i,r){void 0===i&&(i=0);for(var o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;if(l>e&&!1!==n(s,i+a,r,o)&&s.content.size){var u=a+1;s.nodesBetween(Math.max(0,e-u),Math.min(s.content.size,t-u),n,i+u)}a=l}},o.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},o.prototype.textBetween=function(e,t,n,i){var r="",o=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(r+=a.text.slice(Math.max(e,s)-s,t-s),o=!n):a.isLeaf&&i?(r+=i,o=!n):!o&&a.isBlock&&(r+=n,o=!0)}),0),r},o.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new o(i,this.size+e.size)},o.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],i=0;if(t>e)for(var r=0,a=0;a<t;r++){var s=this.content[r],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),i+=s.nodeSize),a=l}return new o(n,i)},o.prototype.cutByIndex=function(e,t){return e==t?o.empty:0==e&&t==this.content.length?this:new o(this.content.slice(e,t))},o.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new o(i,r)},o.prototype.addToStart=function(e){return new o([e].concat(this.content),this.size+e.nodeSize)},o.prototype.addToEnd=function(e){return new o(this.content.concat(e),this.size+e.nodeSize)},o.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},o.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},o.prototype.maybeChild=function(e){return this.content[e]},o.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}},o.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,i){for(var r=0;;r++){if(r==t.childCount||r==n.childCount)return t.childCount==n.childCount?null:i;var o=t.child(r),a=n.child(r);if(o!=a){if(!o.sameMarkup(a))return i;if(o.isText&&o.text!=a.text){for(var s=0;o.text[s]==a.text[s];s++)i++;return i}if(o.content.size||a.content.size){var l=e(o.content,a.content,i+1);if(null!=l)return l}i+=o.nodeSize}else i+=o.nodeSize}}(this,e,t)},o.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,i,r){for(var o=t.childCount,a=n.childCount;;){if(0==o||0==a)return o==a?null:{a:i,b:r};var s=t.child(--o),l=n.child(--a),u=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:i,b:r};if(s.isText&&s.text!=l.text){for(var c=0,h=Math.min(s.text.length,l.text.length);c<h&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,i--,r--;return{a:i,b:r}}if(s.content.size||l.content.size){var f=e(s.content,l.content,i-1,r-1);if(f)return f}i-=u,r-=u}else i-=u,r-=u}}(this,e,t,n)},o.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return l(0,e);if(e==this.size)return l(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var r=i+this.child(n).nodeSize;if(r>=e)return r==e||t>0?l(n+1,r):l(n,i);i=r}},o.prototype.toString=function(){return"<"+this.toStringInner()+">"},o.prototype.toStringInner=function(){return this.content.join(", ")},o.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},o.fromJSON=function(e,t){if(!t)return o.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new o(t.map(e.nodeFromJSON))},o.fromArray=function(e){if(!e.length)return o.empty;for(var t,n=0,i=0;i<e.length;i++){var r=e[i];n+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(t||(t=e.slice(0,i)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new o(t||e,n)},o.from=function(e){if(!e)return o.empty;if(e instanceof o)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new o([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(o.prototype,a);var s={index:0,offset:0};function l(e,t){return s.index=e,s.offset=t,s}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!u(e[i],t[i]))return!1}else{for(var r in e)if(!(r in t)||!u(e[r],t[r]))return!1;for(var o in t)if(!(o in e))return!1}return!0}o.empty=new o([],0);var c=function(e,t){this.type=e,this.attrs=t};function h(e){var t=Error.call(this,e);return t.__proto__=h.prototype,t}c.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t},c.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},c.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},c.prototype.eq=function(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)},c.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},c.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},c.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},c.setFrom=function(e){if(!e||0==e.length)return c.none;if(e instanceof c)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},c.none=[],(h.prototype=Object.create(Error.prototype)).constructor=h,h.prototype.name="ReplaceError";var f=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},d={size:{configurable:!0}};function p(e,t){if(!t.type.compatibleContent(e.type))throw new h("Cannot join "+t.type.name+" onto "+e.type.name)}function v(e,t,n){var i=e.node(n);return p(i,t.node(n)),i}function m(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function g(e,t,n,i){var r=(t||e).node(n),o=0,a=t?t.index(n):r.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(m(e.nodeAfter,i),o++));for(var s=o;s<a;s++)m(r.child(s),i);t&&t.depth==n&&t.textOffset&&m(t.nodeBefore,i)}function y(e,t){if(!e.type.validContent(t))throw new h("Invalid content for node "+e.type.name);return e.copy(t)}function k(e,t,n){var i=[];return g(null,e,n,i),e.depth>n&&m(y(v(e,t,n+1),k(e,t,n+1)),i),g(t,null,n,i),new o(i)}d.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(e,t){var n=function e(t,n,i,r){var o=t.findIndex(n),a=o.index,s=o.offset,l=t.maybeChild(a);if(s==n||l.isText)return r&&!r.canReplace(a,a,i)?null:t.cut(0,n).append(i).append(t.cut(n));var u=e(l.content,n-s-1,i);return u&&t.replaceChild(a,l.copy(u))}(this.content,e+this.openStart,t,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(e,t){return new f(function e(t,n,i){var r=t.findIndex(n),o=r.index,a=r.offset,s=t.maybeChild(o),l=t.findIndex(i),u=l.index;if(a==n||s.isText){if(l.offset!=i&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(i))}if(o!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(e(s.content,n-a-1,i-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},f.fromJSON=function(e,t){if(!t)return f.empty;if("number"!=typeof(t.openStart||0)||"number"!=typeof(t.openEnd||0))throw new RangeError("Invalid input for Slice.fromJSON");return new f(o.fromJSON(e,t.content),t.openStart||0,t.openEnd||0)},f.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,i=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(var o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new f(e,n,i)},Object.defineProperties(f.prototype,d),f.empty=new f(o.empty,0,0);var b=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},w={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};b.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},w.parent.get=function(){return this.node(this.depth)},w.doc.get=function(){return this.node(0)},b.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},b.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},b.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},b.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},b.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},b.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},b.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},w.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},w.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i},w.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},b.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return c.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var r=n;n=i,i=r}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||i&&o[a].isInSet(i.marks)||(o=o[a--].removeFromSet(o));return o},b.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||i&&n[r].isInSet(i.marks)||(n=n[r--].removeFromSet(n));return n},b.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},b.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new x(this,e,n)},b.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},b.prototype.max=function(e){return e.pos>this.pos?e:this},b.prototype.min=function(e){return e.pos<this.pos?e:this},b.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},b.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,r=t,o=e;;){var a=o.content.findIndex(r),s=a.index,l=a.offset,u=r-l;if(n.push(o,s,i+l),!u)break;if((o=o.child(s)).isText)break;r=u-1,i+=l+1}return new b(t,n,r)},b.resolveCached=function(e,t){for(var n=0;n<C.length;n++){var i=C[n];if(i.pos==t&&i.doc==e)return i}var r=C[_]=b.resolve(e,t);return _=(_+1)%S,r},Object.defineProperties(b.prototype,w);var C=[],_=0,S=12,x=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},T={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};T.start.get=function(){return this.$from.before(this.depth+1)},T.end.get=function(){return this.$to.after(this.depth+1)},T.parent.get=function(){return this.$from.node(this.depth)},T.startIndex.get=function(){return this.$from.index(this.depth)},T.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(x.prototype,T);var O=Object.create(null),I=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||o.empty,this.marks=i||c.none},E={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};E.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},E.childCount.get=function(){return this.content.childCount},I.prototype.child=function(e){return this.content.child(e)},I.prototype.maybeChild=function(e){return this.content.maybeChild(e)},I.prototype.forEach=function(e){this.content.forEach(e)},I.prototype.nodesBetween=function(e,t,n,i){void 0===i&&(i=0),this.content.nodesBetween(e,t,n,i,this)},I.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},E.textContent.get=function(){return this.textBetween(0,this.content.size,"")},I.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)},E.firstChild.get=function(){return this.content.firstChild},E.lastChild.get=function(){return this.content.lastChild},I.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},I.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},I.prototype.hasMarkup=function(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||O)&&c.sameSet(this.marks,n||c.none)},I.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},I.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},I.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},I.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return f.empty;var i=this.resolve(e),r=this.resolve(t),o=n?0:i.sharedDepth(t),a=i.start(o),s=i.node(o).content.cut(i.pos-a,r.pos-a);return new f(s,i.depth-o,r.depth-o)},I.prototype.replace=function(e,t,n){return function(e,t,n){if(n.openStart>e.depth)throw new h("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new h("Inconsistent open depths");return function e(t,n,i,r){var a=t.index(r),s=t.node(r);if(a==n.index(r)&&r<t.depth-i.openStart){var l=e(t,n,i,r+1);return s.copy(s.content.replaceChild(a,l))}if(i.content.size){if(i.openStart||i.openEnd||t.depth!=r||n.depth!=r){var u=function(e,t){for(var n=t.depth-e.openStart,i=t.node(n).copy(e.content),r=n-1;r>=0;r--)i=t.node(r).copy(o.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(i,t);return y(s,function e(t,n,i,r,a){var s=t.depth>a&&v(t,n,a+1),l=r.depth>a&&v(i,r,a+1),u=[];return g(null,t,a,u),s&&l&&n.index(a)==i.index(a)?(p(s,l),m(y(s,e(t,n,i,r,a+1)),u)):(s&&m(y(s,k(t,n,a+1)),u),g(n,i,a,u),l&&m(y(l,k(i,r,a+1)),u)),g(r,null,a,u),new o(u)}(t,u.start,u.end,n,r))}var c=t.parent,h=c.content;return y(c,h.cut(0,t.parentOffset).append(i.content).append(h.cut(n.parentOffset)))}return y(s,k(t,n,r))}(e,t,n,0)}(this.resolve(e),this.resolve(t),n)},I.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.offset;if(!(t=t.maybeChild(n.index)))return null;if(i==e||t.isText)return t;e-=i+1}},I.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},I.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}},I.prototype.resolve=function(e){return b.resolveCached(this,e)},I.prototype.resolveNoCache=function(e){return b.resolve(this,e)},I.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(i=!0),!i})),i},E.isBlock.get=function(){return this.type.isBlock},E.isTextblock.get=function(){return this.type.isTextblock},E.inlineContent.get=function(){return this.type.inlineContent},E.isInline.get=function(){return this.type.isInline},E.isText.get=function(){return this.type.isText},E.isLeaf.get=function(){return this.type.isLeaf},E.isAtom.get=function(){return this.type.isAtom},I.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),D(this.marks,e)},I.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},I.prototype.canReplace=function(e,t,n,i,r){void 0===n&&(n=o.empty),void 0===i&&(i=0),void 0===r&&(r=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,i,r),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var l=i;l<r;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},I.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var r=this.contentMatchAt(e).matchType(n),o=r&&r.matchFragment(this.content,t);return!!o&&o.validEnd},I.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},I.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},I.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},I.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=o.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)},Object.defineProperties(I.prototype,E);var A=function(e){function t(t,n,i,r){if(e.call(this,t,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):D(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(I);function D(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var R=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},M={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};R.parse=function(e,t){var n=new F(e,t);if(null==n.next)return R.empty;var i=z(n);n.next&&n.err("Unexpected trailing text");var r=function(e){var t=Object.create(null);return function n(i){var r=[];i.forEach((function(t){e[t].forEach((function(t){var n=t.term,i=t.to;if(n){var o=r.indexOf(n),a=o>-1&&r[o+1];H(e,i).forEach((function(e){a||r.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var o=t[i.join(",")]=new R(i.indexOf(e.length-1)>-1),a=0;a<r.length;a+=2){var s=r[a+1].sort(B);o.next.push(r[a],t[s.join(",")]||n(s))}return o}(H(e,0))}(function(e){var t=[[]];return r(function e(t,o){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,o))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=e(t.exprs[a],o);if(a==t.exprs.length-1)return s;r(s,o=n())}else{if("star"==t.type){var l=n();return i(o,l),r(e(t.expr,l),l),[i(l)]}if("plus"==t.type){var u=n();return r(e(t.expr,o),u),r(e(t.expr,u),u),[i(u)]}if("opt"==t.type)return[i(o)].concat(e(t.expr,o));if("range"==t.type){for(var c=o,h=0;h<t.min;h++){var f=n();r(e(t.expr,c),f),c=f}if(-1==t.max)r(e(t.expr,c),c);else for(var d=t.min;d<t.max;d++){var p=n();i(c,p),r(e(t.expr,c),p),c=p}return[i(c)]}if("name"==t.type)return[i(o,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){var r={term:i,to:n};return t[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}}(i));return function(e,t){for(var n=0,i=[e];n<i.length;n++){for(var r=i[n],o=!r.validEnd,a=[],s=0;s<r.next.length;s+=2){var l=r.next[s],u=r.next[s+1];a.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==i.indexOf(u)&&i.push(u)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r},R.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},R.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var i=this,r=t;i&&r<n;r++)i=i.matchType(e.child(r).type);return i},M.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},M.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},R.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},R.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var i=[this];return function r(a,s){var l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return o.from(s.map((function(e){return e.createAndFill()})));for(var u=0;u<a.next.length;u+=2){var c=a.next[u],h=a.next[u+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==i.indexOf(h)){i.push(h);var f=r(h,s.concat(c));if(f)return f}}}(this,[])},R.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},R.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),r=i.match;if(r.matchType(e)){for(var o=[],a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<r.next.length;s+=2){var l=r.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in t||i.type&&!r.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}},M.edgeCount.get=function(){return this.next.length>>1},R.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},R.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)-1==e.indexOf(n.next[i])&&t(n.next[i])}(this),e.map((function(t,n){for(var i=n+(t.validEnd?"*":" ")+" ",r=0;r<t.next.length;r+=2)i+=(r?", ":"")+t.next[r].name+"->"+e.indexOf(t.next[r+1]);return i})).join("\n")},Object.defineProperties(R.prototype,M),R.empty=new R(!0);var F=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},P={next:{configurable:!0}};function z(e){var t=[];do{t.push(N(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function N(e){var t=[];do{t.push(L(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function L(e){for(var t=function(e){if(e.eat("(")){var t=z(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,i=n[t];if(i)return[i];var r=[];for(var o in n){var a=n[o];a.groups.indexOf(t)>-1&&r.push(a)}return 0==r.length&&e.err("No node type or group '"+t+"' found"),r}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=V(e,t)}return t}function j(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function V(e,t){var n=j(e),i=n;return e.eat(",")&&(i="}"!=e.next?j(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function B(e,t){return t-e}function H(e,t){var n=[];return function t(i){var r=e[i];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=a.to;a.term||-1!=n.indexOf(s)||t(s)}}(t),n.sort(B)}function G(e){var t=Object.create(null);for(var n in e){var i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function U(e,t){var n=Object.create(null);for(var i in e){var r=t&&t[i];if(void 0===r){var o=e[i];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+i);r=o.default}n[i]=r}return n}function W(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new K(e[n]);return t}P.next.get=function(){return this.tokens[this.pos]},F.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},F.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(F.prototype,P);var q=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=W(n.attrs),this.defaultAttrs=G(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},$={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};$.isInline.get=function(){return!this.isBlock},$.isTextblock.get=function(){return this.isBlock&&this.inlineContent},$.isLeaf.get=function(){return this.contentMatch==R.empty},$.isAtom.get=function(){return this.isLeaf||this.spec.atom},q.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},q.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},q.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:U(this.attrs,e)},q.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new I(this,this.computeAttrs(e),o.from(t),c.setFrom(n))},q.prototype.createChecked=function(e,t,n){if(t=o.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new I(this,this.computeAttrs(e),t,c.setFrom(n))},q.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=o.from(t)).size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var r=this.contentMatch.matchFragment(t).fillBefore(o.empty,!0);return r?new I(this,e,t.append(r),c.setFrom(n)):null},q.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},q.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},q.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},q.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:c.empty:e},q.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,i){return n[e]=new q(e,t,i)}));var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(q.prototype,$);var K=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Z={isRequired:{configurable:!0}};Z.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(K.prototype,Z);var Y=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=W(i.attrs),this.rank=t,this.excluded=null;var r=G(this.attrs);this.instance=r&&new c(this,r)};Y.prototype.create=function(e){return!e&&this.instance?this.instance:new c(this,U(this.attrs,e))},Y.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach((function(e,r){return n[e]=new Y(e,i++,t,r)})),n},Y.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},Y.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Y.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Q=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=r.from(e.nodes),this.spec.marks=r.from(e.marks),this.nodes=q.compile(this.spec.nodes,this),this.marks=Y.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[a]||(n[a]=R.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?J(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var l in this.marks){var u=this.marks[l],c=u.spec.excludes;u.excluded=null==c?[u]:""==c?[]:J(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function J(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=e.marks[r],a=o;if(o)n.push(o);else for(var s in e.marks){var l=e.marks[s];("_"==r||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}Q.prototype.node=function(e,t,n,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof q))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)},Q.prototype.text=function(e,t){var n=this.nodes.text;return new A(n,n.defaultAttrs,e,c.setFrom(t))},Q.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Q.prototype.nodeFromJSON=function(e){return I.fromJSON(this,e)},Q.prototype.markFromJSON=function(e){return c.fromJSON(this,e)},Q.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var X=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};X.prototype.parse=function(e,t){void 0===t&&(t={});var n=new oe(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},X.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new oe(this,t,!0);return n.addAll(e,null,t.from,t.to),f.maxOpen(n.finish())},X.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var i=this.tags[n];if(se(e,i.tag)&&(void 0===i.namespace||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){var r=i.getAttrs(e);if(!1===r)continue;i.attrs=r}return i}}},X.prototype.matchStyle=function(e,t,n){for(var i=0;i<this.styles.length;i++){var r=this.styles[i];if(!(0!=r.style.indexOf(e)||r.context&&!n.matchesContext(r.context)||r.style.length>e.length&&(61!=r.style.charCodeAt(e.length)||r.style.slice(e.length+1)!=t))){if(r.getAttrs){var o=r.getAttrs(t);if(!1===o)continue;r.attrs=o}return r}}},X.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,i=0;i<t.length;i++){var r=t[i];if((null==r.priority?50:r.priority)<n)break}t.splice(i,0,e)}var i,r=function(t){var i=e.marks[t].spec.parseDOM;i&&i.forEach((function(e){n(e=le(e)),e.mark=t}))};for(var o in e.marks)r(o);for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=le(e)),e.node=a}));return t},X.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new X(e,X.schemaRules(e)))};var ee={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},te={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ne={ol:!0,ul:!0};function ie(e){return(e?1:0)|("full"===e?2:0)}var re=function(e,t,n,i,r,o,a){this.type=e,this.attrs=t,this.solid=r,this.match=o||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=c.none,this.pendingMarks=i};re.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(o.from(e));if(!t){var n,i=this.type.contentMatch;return(n=i.findWrapping(e.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},re.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var i=o.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(o.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},re.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];(this.type?this.type.allowsMarkType(i.type):ue(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};var oe=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i,r=t.topNode,o=ie(t.preserveWhitespace)|(n?4:0);i=r?new re(r.type,r.attrs,c.none,c.none,!0,t.topMatch||r.type.contentMatch,o):new re(n?null:e.schema.topNodeType,null,c.none,c.none,!0,null,o),this.nodes=[i],this.open=0,this.find=t.findPositions,this.needsBlock=!1},ae={top:{configurable:!0},currentPos:{configurable:!0}};function se(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function le(e){var t={};for(var n in e)t[n]=e[n];return t}function ue(e,t){var n=t.schema.nodes,i=function(i){var r=n[i];if(r.allowsMarkType(e)){var o=[];return function e(n){o.push(n);for(var i=0;i<n.edgeCount;i++){var r=n.edge(i),a=r.next;if(r.type==t)return!0;if(o.indexOf(a)<0&&e(a))return!0}}(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var o=i(r);if(o)return o.v}}ae.top.get=function(){return this.nodes[this.open]},oe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];t=n.exec(e);)i.push(t[1],t[2].trim());return i}(t)):null,i=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(e),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],i)}},oe.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],r=e.previousSibling;(!i||r&&"BR"==r.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},oe.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();ne.hasOwnProperty(t)&&this.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&ne.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):"li"==i?n=t:i&&(n=null)}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:te.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var i,r=this.top,o=this.needsBlock;if(ee.hasOwnProperty(t))i=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(r),this.needsBlock=o}else this.addElementByRule(e,n)},oe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},oe.prototype.readStyles=function(e){for(var t=c.none,n=0;n<e.length;n+=2){var i=this.parser.matchStyle(e[n],e[n+1],this);if(i){if(i.ignore)return null;t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t)}}return t},oe.prototype.addElementByRule=function(e,t){var n,i,r,o=this;t.node?(i=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):n=this.enter(i,t.attrs,t.preserveWhitespace):(r=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(r));var a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return o.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,n)}n&&(this.sync(a),this.open--),r&&this.removePendingMark(r,a)},oe.prototype.addAll=function(e,t,n,i){for(var r=n||0,o=n?e.childNodes[n]:e.firstChild,a=null==i?null:e.childNodes[i];o!=a;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o),t&&ee.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,r)},oe.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var r=this.nodes[i],o=r.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=r,!o.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},oe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,r=0;r<e.marks.length;r++)n.type&&!n.type.allowsMarkType(e.marks[r].type)||(i=e.marks[r].addToSet(i));return n.content.push(e.mark(i)),!0}return!1},oe.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i},oe.prototype.enterInner=function(e,t,n,i){this.closeExtra();var r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e,t);var o=null==i?-5&r.options:ie(i);4&r.options&&0==r.content.length&&(o|=4),this.nodes.push(new re(e,t,r.activeMarks,r.pendingMarks,n,null,o)),this.open++},oe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},oe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},oe.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},ae.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e},oe.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},oe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},oe.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var i=0;i<this.find.length;i++)null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)},oe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},oe.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,r=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),o=(r?0:1)-(i?i.depth+1:0);return function e(a,s){for(;a>=0;a--){var l=n[a];if(""==l){if(a==n.length-1||0==a)continue;for(;s>=o;s--)if(e(a-1,s))return!0;return!1}var u=s>0||0==s&&r?t.nodes[s].type:i&&s>=o?i.node(s-o).type:null;if(!u||u.name!=l&&-1==u.groups.indexOf(l))return!1;s--}return!0}(n.length-1,this.open)},oe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var r=this.parser.schema.nodes[i];if(r.isTextblock&&r.defaultAttrs)return r}},oe.prototype.addPendingMark=function(e){this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},oe.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1?i.pendingMarks=e.removeFromSet(i.pendingMarks):i.activeMarks=e.removeFromSet(i.activeMarks),i==t)break}},Object.defineProperties(oe.prototype,ae);var ce=function(e,t){this.nodes=e||{},this.marks=t||{}};function he(e){var t={};for(var n in e){var i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function fe(e){return e.document||window.document}ce.prototype.serializeFragment=function(e,t,n){var i=this;void 0===t&&(t={}),n||(n=fe(t).createDocumentFragment());var r=n,o=null;return e.forEach((function(e){if(o||e.marks.length){o||(o=[]);for(var n=0,a=0;n<o.length&&a<e.marks.length;){var s=e.marks[a];if(i.marks[s.type.name]){if(!s.eq(o[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<o.length;)r=o.pop(),o.pop();for(;a<e.marks.length;){var l=e.marks[a++],u=i.serializeMark(l,e.isInline,t);u&&(o.push(l,r),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(i.serializeNode(e,t))})),n},ce.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=ce.renderSpec(fe(t),this.nodes[e.type.name](e)),i=n.dom,r=n.contentDOM;if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,r,t):this.serializeFragment(e.content,t,r)}return i},ce.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),i=e.marks.length-1;i>=0;i--){var r=this.serializeMark(e.marks[i],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},ce.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var i=this.marks[e.type.name];return i&&ce.renderSpec(fe(n),i(e,t))},ce.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};var i=t[0],r=i.indexOf(" ");r>0&&(n=i.slice(0,r),i=i.slice(r+1));var o=null,a=n?e.createElementNS(n,i):e.createElement(i),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var u in l=2,s)if(null!=s[u]){var c=u.indexOf(" ");c>0?a.setAttributeNS(u.slice(0,c),u.slice(c+1),s[u]):a.setAttribute(u,s[u])}for(var h=l;h<t.length;h++){var f=t[h];if(0===f){if(h<t.length-1||h>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var d=ce.renderSpec(e,f,n),p=d.contentDOM;if(a.appendChild(d.dom),p){if(o)throw new RangeError("Multiple content holes");o=p}}return{dom:a,contentDOM:o}},ce.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new ce(this.nodesFromSchema(e),this.marksFromSchema(e)))},ce.nodesFromSchema=function(e){var t=he(e.nodes);return t.text||(t.text=function(e){return e.text}),t},ce.marksFromSchema=function(e){return he(e.marks)}},"UxO+":function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return d})),n.d(t,"EditorState",(function(){return C})),n.d(t,"NodeSelection",(function(){return h})),n.d(t,"Plugin",(function(){return x})),n.d(t,"PluginKey",(function(){return I})),n.d(t,"Selection",(function(){return a})),n.d(t,"SelectionRange",(function(){return l})),n.d(t,"TextSelection",(function(){return u})),n.d(t,"Transaction",(function(){return g}));var i=n("MEpN"),r=n("CsC6"),o=Object.create(null),a=function(e,t,n){this.ranges=n||[new l(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=i.Slice.empty);for(var n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,l=0;l<s.length;l++){var u=s[l],c=u.$from,h=u.$to,f=e.mapping.slice(a);e.replaceRange(f.map(c.pos),f.map(h.pos),l?i.Slice.empty:t),0==l&&m(e,a,(n?n.isInline:r&&r.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,r=0;r<i.length;r++){var o=i[r],a=o.$from,s=o.$to,l=e.mapping.slice(n),u=l.map(a.pos),c=l.map(s.pos);r?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),m(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var i=e.parent.inlineContent?new u(e):v(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var r=e.depth-1;r>=0;r--){var o=t<0?v(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):v(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new d(e.node(0))},a.atStart=function(e){return v(e,e,0,0,1)||new d(e)},a.atEnd=function(e){return v(e,e,e.content.size,e.childCount,-1)||new d(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=o[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in o)throw new RangeError("Duplicate use of selection JSON ID "+e);return o[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return u.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var l=function(e,t){this.$from=e,this.$to=t},u=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));if(!r.parent.inlineContent)return e.near(r);var o=n.resolve(i.map(this.anchor));return new t(o.parent.inlineContent?o:r,r)},t.prototype.replace=function(t,n){if(void 0===n&&(n=i.Slice.empty),e.prototype.replace.call(this,t,n),n==i.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new c(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))},t.between=function(n,i,r){var o=n.pos-i.pos;if(r&&!o||(r=o>=0?1:-1),!i.parent.inlineContent){var a=e.findFrom(i,r,!0)||e.findFrom(i,-r,!0);if(!a)return e.near(i,r);i=a.$head}return n.parent.inlineContent||(0==o||(n=(e.findFrom(n,-r,!0)||e.findFrom(n,r,!0)).$anchor).pos<i.pos!=o<0)&&(n=i),new t(n,i)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",u);var c=function(e,t){this.anchor=e,this.head=t};c.prototype.map=function(e){return new c(e.map(this.anchor),e.map(this.head))},c.prototype.resolve=function(e){return u.between(e.resolve(this.anchor),e.resolve(this.head))};var h=function(e){function t(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,i),this.node=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.map=function(n,i){var r=i.mapResult(this.anchor),o=r.deleted,a=n.resolve(r.pos);return o?e.near(a):new t(a)},t.prototype.content=function(){return new i.Slice(i.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new f(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);h.prototype.visible=!1,a.jsonID("node",h);var f=function(e){this.anchor=e};f.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.pos;return t.deleted?new c(n,n):new f(n)},f.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&h.isSelectable(n)?new h(t):a.near(t)};var d=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=i.Slice.empty),n==i.Slice.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return p},t}(a);a.jsonID("all",d);var p={map:function(){return this},resolve:function(e){return new d(e)}};function v(e,t,n,i,r,o){if(t.inlineContent)return u.create(e,n);for(var a=i-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){var s=t.child(a);if(s.isAtom){if(!o&&h.isSelectable(s))return h.create(e,n-(r<0?s.nodeSize:0))}else{var l=v(e,s,n+r,r<0?s.childCount:0,r,o);if(l)return l}n+=s.nodeSize*r}}function m(e,t,n){var i=e.steps.length-1;if(!(i<t)){var o,s=e.steps[i];(s instanceof r.e||s instanceof r.d)&&(e.mapping.maps[i].forEach((function(e,t,n,i){null==o&&(o=i)})),e.setSelection(a.near(e.doc.resolve(o),n)))}}var g=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return i.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||i.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var r=this.storedMarks;if(!r){var o=this.doc.resolve(t);r=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,r)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(r.f);function y(e,t){return t&&e?e.bind(t):e}var k=function(e,t,n){this.name=e,this.init=y(t.init,n),this.apply=y(t.apply,n)},b=[new k("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new k("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new k("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new k("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],w=function(e,t){var n=this;this.schema=e,this.fields=b.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new k(e.key,e.spec.state,e))}))},C=function(e){this.config=e},_={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};_.schema.get=function(){return this.config.schema},_.plugins.get=function(){return this.config.plugins},C.prototype.apply=function(e){return this.applyTransaction(e).state},C.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0},C.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var r=!1,o=0;o<this.config.plugins.length;o++){var a=this.config.plugins[o];if(a.spec.appendTransaction){var s=i?i[o].n:0,l=i?i[o].state:this,u=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(var c=0;c<this.config.plugins.length;c++)i.push(c<o?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),r=!0}i&&(i[o]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}},C.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new C(this.config),n=this.config.fields,i=0;i<n.length;i++){var r=n[i];t[r.name]=r.apply(e,this[r.name],this,t)}for(var o=0;o<S.length;o++)S[o](this,e,t);return t},_.tr.get=function(){return new g(this)},C.create=function(e){for(var t=new w(e.schema||e.doc.type.schema,e.plugins),n=new C(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n},C.prototype.reconfigure=function(e){for(var t=new w(e.schema||this.schema,e.plugins),n=t.fields,i=new C(t),r=0;r<n.length;r++){var o=n[r].name;i[o]=this.hasOwnProperty(o)?this[o]:n[r].init(e,i)}return i},C.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],r=i.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(i,this[i.key]))}return t},C.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new w(e.schema,e.plugins),o=new C(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=i.Node.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=a.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],u=l.spec.state;if(l.key==r.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(o[r.name]=u.fromJSON.call(l,e,t[s],o))}o[r.name]=r.init(e,o)}})),o},C.addApplyListener=function(e){S.push(e)},C.removeApplyListener=function(e){var t=S.indexOf(e);t>-1&&S.splice(t,1)},Object.defineProperties(C.prototype,_);var S=[],x=function(e){this.props={},e.props&&function e(t,n,i){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(n):"handleDOMEvents"==r&&(o=e(o,n,{})),i[r]=o}return i}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:O("plugin")};x.prototype.getState=function(e){return e[this.key]};var T=Object.create(null);function O(e){return e in T?e+"$"+ ++T[e]:(T[e]=0,e+"$")}var I=function(e){void 0===e&&(e="key"),this.key=O(e)};I.prototype.get=function(e){return e.config.pluginsByKey[this.key]},I.prototype.getState=function(e){return e[this.key]}},V2qZ:function(e,t,n){"use strict";n.r(t),n.d(t,"Decoration",(function(){return pt})),n.d(t,"DecorationSet",(function(){return yt})),n.d(t,"EditorView",(function(){return Et})),n.d(t,"__endComposition",(function(){return rt})),n.d(t,"__parseFromClipboard",(function(){return De})),n.d(t,"__serializeForClipboard",(function(){return Ae}));var i=n("UxO+"),r=n("MEpN"),o=n("CsC6"),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var c=a.ie=!!(l||u||s);a.ie_version=l?document.documentMode||6:u?+u[1]:s?+s[1]:null,a.gecko=!c&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var h=!c&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!h,a.chrome_version=h&&+h[1],a.ios=!c&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var f=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},d=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},p=function(e,t,n){var i=document.createRange();return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},v=function(e,t,n,i){return n&&(g(e,t,n,i,-1)||g(e,t,n,i,1))},m=/^(img|br|input|textarea|hr)$/i;function g(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:y(e))){var o=e.parentNode;if(1!=o.nodeType||k(e)||m.test(e.nodeName)||"false"==e.contentEditable)return!1;t=f(e)+(r<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?y(e):0}}}function y(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function k(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var b=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function w(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function C(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function _(e,t){return"number"==typeof e?e:e[t]}function S(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function x(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=d(e));return t}function T(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.dom,o=i.top,a=i.left;r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}var O=null;function I(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function E(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function A(e,t){var n=e.docView.domFromPos(t),i=n.node,r=n.offset;if(3==i.nodeType&&(a.webkit||a.gecko)){var o=E(p(i,r,r),0);if(a.gecko&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){var s=E(p(i,r-1,r-1),-1);if(s.top==o.top){var l=E(p(i,r,r+1),-1);if(l.top!=o.top)return D(l,l.left<s.left)}}return o}if(1==i.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var u,c=!0;if(r<i.childNodes.length){var h=i.childNodes[r];1==h.nodeType&&(u=h.getBoundingClientRect())}if(!u&&r){var f=i.childNodes[r-1];1==f.nodeType&&(u=f.getBoundingClientRect(),c=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(u||i.getBoundingClientRect(),c)}for(var d=-1;d<2;d+=2)if(d<0&&r){var v=void 0,m=3==i.nodeType?p(i,r-1,r):3==(v=i.childNodes[r-1]).nodeType?p(v):1==v.nodeType&&"BR"!=v.nodeName?v:null;if(m){var g=E(m,1);if(g.top<g.bottom)return D(g,!1)}}else if(d>0&&r<y(i)){var k=void 0,b=3==i.nodeType?p(i,r,r+1):3==(k=i.childNodes[r]).nodeType?p(k):1==k.nodeType?k:null;if(b){var w=E(b,-1);if(w.top<w.bottom)return D(w,!0)}}return D(E(3==i.nodeType?p(i):i,0),!1)}function D(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function R(e,t,n){var i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}var M=/[\u0590-\u08ac]/,F=null,P=null,z=!1,N=function(e,t,n,i){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=0},L={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};N.prototype.matchesWidget=function(){return!1},N.prototype.matchesMark=function(){return!1},N.prototype.matchesNode=function(){return!1},N.prototype.matchesHack=function(){return!1},L.beforePosition.get=function(){return!1},N.prototype.parseRule=function(){return null},N.prototype.stopEvent=function(){return!1},L.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},L.border.get=function(){return 0},N.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},N.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return n;n+=i.size}},L.posBefore.get=function(){return this.parent.posBeforeChild(this)},L.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},L.posAfter.get=function(){return this.posBefore+this.size},L.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},N.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var i,r;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&(!(r=i.pmViewDesc)||r.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(r)+r.size:this.posAtStart}var o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(a=o.pmViewDesc)||a.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){s=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},N.prototype.nearestDesc=function(e,t){for(var n=!0,i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},N.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},N.prototype.posFromDOM=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,n)}return-1},N.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var i=this.children[t],r=n+i.size;if(n==e&&r!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<r)return i.descAt(e-n-i.border);n=r}},N.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:f(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var i=this.children[n],r=t+i.size;if(e<r)return i.domFromPos(e-t-i.border);t=r}},N.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,r=-1,o=n,a=0;;a++){var s=this.children[a],l=o+s.size;if(-1==i&&e<=l){var u=o+s.border;if(e>=u&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,u);e=o;for(var c=a;c>0;c--){var h=this.children[c-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=f(h.dom)+1;break}e-=h.size}-1==i&&(i=0)}if(i>-1&&t<=l){t=l;for(var d=a+1;d<this.children.length;d++){var p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){r=f(p.dom);break}t+=p.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}},N.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},N.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,i=t.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]},N.prototype.setSelection=function(e,t,n,i){for(var r=Math.min(e,t),o=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var l=this.children[a],u=s+l.size;if(r>s&&o<u)return l.setSelection(e-s-l.border,t-s-l.border,n,i);s=u}var c=this.domFromPos(e),h=this.domFromPos(t),f=n.getSelection();if(i||!v(c.node,c.offset,f.anchorNode,f.anchorOffset)||!v(h.node,h.offset,f.focusNode,f.focusOffset)){var d=!1;if(f.extend||e==t){f.collapse(c.node,c.offset);try{e!=t&&f.extend(h.node,h.offset),d=!0}catch(g){if(!(g instanceof DOMException))throw g}}if(!d){if(e>t){var p=c;c=h,h=p}var m=document.createRange();m.setEnd(h.node,h.offset),m.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(m)}}},N.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},L.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},N.prototype.markDirty=function(e,t){for(var n=0,i=0;i<this.children.length;i++){var r=this.children[i],o=n+r.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var a=n+r.border,s=o-r.border;if(e>=a&&t<=s)return this.dirty=e==n||t==o?2:1,void(e!=a||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-a,t-a):r.dirty=3);r.dirty=3}n=o}this.dirty=2},N.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(N.prototype,L);var j=[],V=function(e){function t(t,n,i,r){var o,a=n.type.toDOM;if("function"==typeof a&&(a=a(i,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:r}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,j,a,null),this.widget=n,o=this}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(N),B=function(e){function t(t,n,i,r){e.call(this,t,j,n,null),this.textDOM=i,this.text=r}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(N),H=function(e){function t(t,n,i,r){e.call(this,t,[],i,r),this.mark=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.create=function(e,n,i,o){var a=o.nodeViews[n.type.name],s=a&&a(n,o,i);return s&&s.dom||(s=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,i))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,i){var r=t.create(this.parent,this.mark,!0,i),o=this.children,a=this.size;n<a&&(o=re(o,n,a,i)),e>0&&(o=re(o,0,e,i));for(var s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r},t}(N),G=function(e){function t(t,n,i,r,o,a,s,l,u){e.call(this,t,n.isLeaf?j:[],o,a),this.nodeDOM=s,this.node=n,this.outerDeco=i,this.innerDeco=r,a&&this.updateChildren(l,u)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,i,o,a,s){var l,u,c=a.nodeViews[n.type.name],h=c&&c(n,a,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:s}),i),f=h&&h.dom,d=h&&h.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(f=(l=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,d=l.contentDOM);d||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var p=f;return f=X(f,i,n),h?u=new $(e,n,i,o,f,d,p,h,a,s+1):n.isText?new W(e,n,i,o,f,p,a):new t(e,n,i,o,f,d,p,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?r.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ee(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,i=this.node.inlineContent,o=t,a=i&&e.composing&&this.localCompositionNode(e,t),s=new ne(this,a&&a.node);!function(e,t,n,i){var r=t.locals(e),o=0;if(0!=r.length)for(var a=0,s=[],l=null,u=0;;){if(a<r.length&&r[a].to==o){for(var c=r[a++],h=void 0;a<r.length&&r[a].to==o;)(h||(h=[c])).push(r[a++]);if(h){h.sort(ie);for(var f=0;f<h.length;f++)n(h[f],u,!!l)}else n(c,u,!!l)}var d=void 0,p=void 0;if(l)p=-1,d=l,l=null;else{if(!(u<e.childCount))break;p=u,d=e.child(u++)}for(var v=0;v<s.length;v++)s[v].to<=o&&s.splice(v--,1);for(;a<r.length&&r[a].from<=o&&r[a].to>o;)s.push(r[a++]);var m=o+d.nodeSize;if(d.isText){var g=m;a<r.length&&r[a].from<g&&(g=r[a].from);for(var y=0;y<s.length;y++)s[y].to<g&&(g=s[y].to);g<m&&(l=d.cut(g-o),d=d.cut(0,g-o),m=g,p=-1)}i(d,s.length?s.slice():j,t.forChild(o,d),p),o=m}else for(var k=0;k<e.childCount;k++){var b=e.child(k);i(b,r,t.forChild(o,b),k),o+=b.nodeSize}}(this.node,this.innerDeco,(function(t,a,l){t.spec.marks?s.syncToMarks(t.spec.marks,i,e):t.type.side>=0&&!l&&s.syncToMarks(a==n.node.childCount?r.Mark.none:n.node.child(a).marks,i,e),s.placeWidget(t,e,o)}),(function(t,n,r,a){s.syncToMarks(t.marks,i,e),s.findNodeMatch(t,n,r,a)||s.updateNextNode(t,n,r,e,a)||s.addNode(t,n,r,e,o),o+=t.nodeSize})),s.syncToMarks(j,i,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),this.renderChildren())},t.prototype.renderChildren=function(){!function e(t,n){for(var i=t.firstChild,r=0;r<n.length;r++){var o=n[r],a=o.dom;if(a.parentNode==t){for(;a!=i;)i=te(i);i=i.nextSibling}else t.insertBefore(a,i);if(o instanceof H){var s=i?i.previousSibling:t.lastChild;e(o.contentDOM,o.children),i=s?s.nextSibling:t.firstChild}}for(;i;)i=te(i)}(this.contentDOM,this.children),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e),e.style.cssText=t}}(this.dom)},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(!(e.state.selection instanceof i.TextSelection)||r<t||o>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=y(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var l=s.nodeValue,u=function(e,t,n,i){for(var r=0,o=0;r<e.childCount&&o<=i;){var a=e.child(r++),s=o;if(o+=a.nodeSize,a.isText){for(var l=a.text;r<e.childCount;){var u=e.child(r++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){var c=l.lastIndexOf(t,i-s);if(c>=0&&c+t.length+s>=n)return s+c}}}return-1}(this.node.content,l,r-t,o-t);return u<0?null:{node:s,pos:u,text:l}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,i=t.pos,r=t.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var a=new B(this,o,n,r);e.compositionNodes.push(a),this.children=re(this.children,i,i+r.length,e,a)}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,i),0))},t.prototype.updateInner=function(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ee(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Q(this.dom,this.nodeDOM,Y(this.outerDeco,this.node,t),Y(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(N);function U(e,t,n,i,r){return X(i,t,e),new G(null,e,t,n,i,i,i,r,0)}var W=function(e){function t(t,n,i,r,o,a,s){e.call(this,t,n,i,r,o,null,a,s)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text),this.node=e,this.dirty=0,0))},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,i)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,i){var r=this.node.cut(e,n),o=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)},t}(G),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(N),$=function(e){function t(t,n,i,r,o,a,s,l,u,c){e.call(this,t,n,i,r,o,a,s,u,c),this.spec=l}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.update=function(t,n,i,r){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(t,n);return o&&this.updateInner(t,n,i,r),o}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,i,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,i,r){this.spec.setSelection?this.spec.setSelection(t,n,i):e.prototype.setSelection.call(this,t,n,i,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(G);function K(e){e&&(this.nodeName=e)}K.prototype=Object.create(null);var Z=[new K];function Y(e,t,n){if(0==e.length)return Z;for(var i=n?Z[0]:new K,r=[i],o=0;o<e.length;o++){var a=e[o].type.attrs,s=i;if(a)for(var l in a.nodeName&&r.push(s=new K(a.nodeName)),a){var u=a[l];null!=u&&(n&&1==r.length&&r.push(s=i=new K(t.isInline?"span":"div")),"class"==l?s.class=(s.class?s.class+" ":"")+u:"style"==l?s.style=(s.style?s.style+";":"")+u:"nodeName"!=l&&(s[l]=u))}}return r}function Q(e,t,n,i){if(n==Z&&i==Z)return t;for(var r=t,o=0;o<i.length;o++){var a=i[o],s=n[o];if(o){var l=void 0;s&&s.nodeName==a.nodeName&&r!=e&&(l=r.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(r),s=Z[0]),r=l}J(r,s||Z[0],a)}return r}function J(e,t,n){for(var i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var o=t.class?t.class.split(" "):j,a=n.class?n.class.split(" "):j,s=0;s<o.length;s++)-1==a.indexOf(o[s])&&e.classList.remove(o[s]);for(var l=0;l<a.length;l++)-1==o.indexOf(a[l])&&e.classList.add(a[l])}if(t.style!=n.style){if(t.style)for(var u,c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=c.exec(t.style);)e.style.removeProperty(u[1]);n.style&&(e.style.cssText+=n.style)}}function X(e,t,n){return Q(e,e,Z,Y(t,n,1!=e.nodeType))}function ee(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function te(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ne=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],i=e.childCount,r=t.length-1;i>0&&r>=0;r--){var o=t[r],a=o.node;if(a){if(a!=e.child(i-1))break;n.push(o),--i}}return{nodes:n.reverse(),offset:i}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function ie(e,t){return e.type.side-t.type.side}function re(e,t,n,i,r){for(var o=[],a=0,s=0;a<e.length;a++){var l=e[a],u=s,c=s+=l.size;u>=n||c<=t?o.push(l):(u<t&&o.push(l.slice(0,t-u,i)),r&&(o.push(r),r=null),c>n&&o.push(l.slice(n-u,l.size,i)))}return o}function oe(e,t){var n=e.selection,r=n.$anchor,o=n.$head,a=t>0?r.max(o):r.min(o),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&i.Selection.findFrom(s,t)}function ae(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function se(e,t,n){var r=e.state.selection;if(!(r instanceof i.TextSelection)){if(r instanceof i.NodeSelection&&r.node.isInline)return ae(e,new i.TextSelection(t>0?r.$to:r.$from));var o=oe(e.state,t);return!!o&&ae(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var s=oe(e.state,t);return!!(s&&s instanceof i.NodeSelection)&&ae(e,s)}if(!(a.mac&&n.indexOf("m")>-1)){var l,u=r.$head,c=u.textOffset?null:t<0?u.nodeBefore:u.nodeAfter;if(!c||c.isText)return!1;var h=t<0?u.pos-c.nodeSize:u.pos;return!!(c.isAtom||(l=e.docView.descAt(h))&&!l.contentDOM)&&(i.NodeSelection.isSelectable(c)?ae(e,new i.NodeSelection(t<0?e.state.doc.resolve(u.pos-c.nodeSize):u)):!!a.webkit&&ae(e,new i.TextSelection(e.state.doc.resolve(t<0?h:h+c.nodeSize))))}}function le(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ue(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ce(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){var r,o,s=!1;for(a.gecko&&1==n.nodeType&&i<le(n)&&ue(n.childNodes[i])&&(s=!0);;)if(i>0){if(1!=n.nodeType)break;var l=n.childNodes[i-1];if(ue(l))r=n,o=--i;else{if(3!=l.nodeType)break;i=(n=l).nodeValue.length}}else{if(fe(n))break;for(var u=n.previousSibling;u&&ue(u);)r=n.parentNode,o=f(u),u=u.previousSibling;if(u)i=le(n=u);else{if((n=n.parentNode)==e.dom)break;i=0}}s?de(e,t,n,i):r&&de(e,t,r,o)}}function he(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){for(var r,o,a=le(n);;)if(i<a){if(1!=n.nodeType)break;if(!ue(n.childNodes[i]))break;r=n,o=++i}else{if(fe(n))break;for(var s=n.nextSibling;s&&ue(s);)r=s.parentNode,o=f(s)+1,s=s.nextSibling;if(s)i=0,a=le(n=s);else{if((n=n.parentNode)==e.dom)break;i=a=0}}r&&de(e,t,r,o)}}function fe(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function de(e,t,n,i){if(b(t)){var r=document.createRange();r.setEnd(n,i),r.setStart(n,i),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,i);e.domObserver.setCurSelection()}function pe(e,t,n){var r=e.state.selection;if(r instanceof i.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,s=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var l=oe(e.state,t);if(l&&l instanceof i.NodeSelection)return ae(e,l)}if(!o.parent.inlineContent){var u=i.Selection.findFrom(t<0?o:s,t);return!u||ae(e,u)}return!1}function ve(e,t){if(!(e.state.selection instanceof i.TextSelection))return!0;var n=e.state.selection,r=n.$head,o=n.empty;if(!r.sameParent(n.$anchor))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function me(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ge(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),a=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var l,u,c=r.resolve(s);if(b(n)){for(l=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&i.NodeSelection.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(e,t,n){for(var i=0==t,r=t==y(e);i||r;){if(e==n)return!0;var o=f(e);if(!(e=e.parentNode))return!1;i=i&&0==o,r=r&&o==y(e)}}(n.focusNode,n.focusOffset,o.dom))){var h=o.posBefore;u=new i.NodeSelection(s==h?c:r.resolve(h))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;l=r.resolve(d)}return u||(u=xe(e,l,c,"pointer"==t||e.state.selection.head<c.pos&&!a?1:-1)),u}function ye(e,t){var n=e.state.selection;if(_e(e,n),e.editable?e.hasFocus():Te(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),i=e.cursorWrapper.dom,r="IMG"==i.nodeName;r?n.setEnd(i.parentNode,f(i)+1):n.setEnd(i,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{var r,o,s=n.anchor,l=n.head;!ke||n instanceof i.TextSelection||(n.$from.parent.inlineContent||(r=be(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=be(e,n.to))),e.docView.setSelection(s,l,e.root,t),ke&&(r&&Ce(r),o&&Ce(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),i=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ne.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ne.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ne.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ne.prototype.syncToMarks=function(e,t,n){for(var i=0,r=this.stack.length>>1,o=Math.min(r,e.length);i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[r])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=H.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}},ne.prototype.findNodeMatch=function(e,t,n,i){var r=-1,o=i<0?void 0:this.getPreMatch(i),a=this.top.children;if(o&&o.matchesNode(e,t,n))r=a.indexOf(o);else for(var s=this.index,l=Math.min(a.length,s+5);s<l;s++){var u=a[s];if(u.matchesNode(e,t,n)&&this.preMatched.indexOf(u)<0){r=s;break}}return!(r<0||(this.destroyBetween(this.index,r),this.index++,0))},ne.prototype.updateNextNode=function(e,t,n,i,r){for(var o=this.index;o<this.top.children.length;o++){var a=this.top.children[o];if(a instanceof G){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=r)return!1;var l=a.dom;if((!this.lock||!(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))||e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&ee(t,a.outerDeco))&&a.update(e,t,n,i))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},ne.prototype.addNode=function(e,t,n,i,r){this.top.children.splice(this.index++,0,G.create(this.top,e,t,n,i,r)),this.changed=!0},ne.prototype.placeWidget=function(e,t,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){var r=new V(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},ne.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof H;)e=e.children[e.children.length-1];if(!e||!(e instanceof W)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new q(this.top,j,t,null)),this.changed=!0}};var ke=a.safari||a.chrome&&a.chrome_version<63;function be(e,t){var n=e.docView.domFromPos(t),i=n.node,r=n.offset,o=r<i.childNodes.length?i.childNodes[r]:null,s=r?i.childNodes[r-1]:null;if(a.safari&&o&&"false"==o.contentEditable)return we(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return we(o);if(s)return we(s)}}function we(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Ce(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function _e(e,t){if(t instanceof i.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Se(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Se(e)}function Se(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function xe(e,t,n,r){return e.someProp("createSelectionBetween",(function(i){return i(e,t,n)}))||i.TextSelection.between(t,n,r)}function Te(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Oe(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Ie(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:xe(e,t.resolve(n.anchor),t.resolve(n.head))}function Ee(e,t,n){for(var i=e.depth,r=t?e.end():e.pos;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n)for(var o=e.node(i).maybeChild(e.indexAfter(i));o&&!o.isLeaf;)o=o.firstChild,r++;return r}function Ae(e,t){for(var n=[],i=t.content,o=t.openStart,a=t.openEnd;o>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount;){o--,a--;var s=i.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),i=s.content}var l=e.someProp("clipboardSerializer")||r.DOMSerializer.fromSchema(e.state.schema),u=ze(),c=u.createElement("div");c.appendChild(l.serializeFragment(i,{document:u}));for(var h,f=c.firstChild;f&&1==f.nodeType&&(h=Fe[f.nodeName.toLowerCase()]);){for(var d=h.length-1;d>=0;d--){for(var p=u.createElement(h[d]);c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p)}f=c.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",o+" "+a+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function De(e,t,n,i,o){var a,s,l=o.parent.type.spec.code;if(!n&&!t)return null;var u=t&&(i||l||!n);if(u){if(e.someProp("transformPastedText",(function(e){t=e(t)})),l)return new r.Slice(r.Fragment.from(e.state.schema.text(t)),0,0);var c=e.someProp("clipboardTextParser",(function(e){return e(t,o)}));c?s=c:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,i=ze().createElement("div"),r=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),o=0;(n=r&&Fe[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),o=n.length),i.innerHTML=e;for(var a=0;a<o;a++)i=i.firstChild;return i}(n);var h=a&&a.querySelector("[data-pm-slice]"),f=h&&/^(\d+) (\d+) (.*)/.exec(h.getAttribute("data-pm-slice"));if(!s){var d=e.someProp("clipboardParser")||e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema);s=d.parseSlice(a,{preserveWhitespace:!(!u&&!f),context:o})}return s=f?function(e,t){if(!e.size)return e;var n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(c){return e}for(var o=e.content,a=e.openStart,s=e.openEnd,l=n.length-2;l>=0;l-=2){var u=i.nodes[n[l]];if(!u||u.hasRequiredAttrs())break;o=r.Fragment.from(u.create(n[l+1],o)),a++,s++}return new r.Slice(o,a,s)}(function(e,t,n){return t<e.openStart&&(e=new r.Slice(Me(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new r.Slice(Me(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}(s,+f[1],+f[2]),f[3]):r.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var i=t.node(n).contentMatchAt(t.index(n)),o=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=i.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&o.length&&function e(t,n,i,o,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,i,o.lastChild,a+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(a==t.length-1?i.type:t[a+1]))return o.copy(o.content.append(r.Fragment.from(Re(i,t,a+1))))}}(n,o,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var i=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),o=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(i.append(o))}(a[a.length-1],o.length));var s=Re(e,n);a.push(s),i=i.matchType(s.type,s.attrs),o=n}}})),a)return{v:r.Fragment.from(a)}},i=t.depth;i>=0;i--){var o=n(i);if(o)return o.v}return e}(s.content,o),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function Re(e,t,n){void 0===n&&(n=0);for(var i=t.length-1;i>=n;i--)e=t[i].create(null,r.Fragment.from(e));return e}function Me(e,t,n,i,o,a){var s=t<0?e.firstChild:e.lastChild,l=s.content;return o<i-1&&(l=Me(l,t,n,i,o+1,a)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(r.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}var Fe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Pe=null;function ze(){return Pe||(Pe=document.implementation.createHTMLDocument("title"))}var Ne={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Le=a.ie&&a.ie_version<=11,je=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};je.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},je.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Ve=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new je,Le&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Ve.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Ve.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Ve.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ne),Le&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Ve.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Le&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Ve.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Ve.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Ve.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Ve.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Te(e)){var e;if(this.suppressingSelectionUpdates)return ye(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&v(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Ve.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Ve.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Ve.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Te(this.view)&&!this.ignoreSelectionChange(t),i=-1,r=-1,o=!1,s=[];if(this.view.editable)for(var l=0;l<e.length;l++){var u=this.registerMutation(e[l],s);u&&(i=i<0?u.from:Math.min(u.from,i),r=r<0?u.to:Math.max(u.to,r),u.typeOver&&(o=!0))}if(a.gecko&&s.length>1){var c=s.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var h=c[0],f=c[1];h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,r),Be||(Be=!0,"normal"==getComputedStyle(this.view.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(i,r,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ye(this.view))}},Ve.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var i=e.previousSibling,r=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++){var s=e.addedNodes[o],l=s.previousSibling,u=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(r=u)}for(var c=i&&i.parentNode==e.target?f(i)+1:0,h=n.localPosFromDOM(e.target,c,-1),d=r&&r.parentNode==e.target?f(r):e.target.childNodes.length,p=0;p<e.addedNodes.length;p++)t.push(e.addedNodes[p]);return{from:h,to:n.localPosFromDOM(e.target,d,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Be=!1,He={},Ge={};function Ue(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function We(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return qe(e,t)})}))}function qe(e,t){return e.someProp("handleDOMEvents",(function(n){var i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)}))}function $e(e){return{left:e.clientX,top:e.clientY}}function Ke(e,t,n,i,r){if(-1==i)return!1;for(var o=e.state.doc.resolve(i),a=function(i){if(e.someProp(t,(function(t){return i>o.depth?t(e,n,o.nodeAfter,o.before(i),r,!0):t(e,n,o.node(i),o.before(i),r,!1)})))return{v:!0}},s=o.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Ze(e,t,n){e.focused||e.focus();var i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}function Ye(e,t,n,i){return Ke(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",(function(n){return n(e,t,i)}))}function Qe(e,t,n,r){return Ke(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(Ze(e,i.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),o=r.depth+1;o>0;o--){var a=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(a.inlineContent)Ze(e,i.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!i.NodeSelection.isSelectable(a))continue;Ze(e,i.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function Je(e){return rt(e)}Ge.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!tt(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||function(e,t){var n=t.keyCode,i=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==i?ve(e,-1)||ce(e):46==n||a.mac&&68==n&&"c"==i?ve(e,1)||he(e):13==n||27==n||(37==n?se(e,-1,i)||ce(e):39==n?se(e,1,i)||he(e):38==n?pe(e,-1,i)||ce(e):40==n?function(e){if(a.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode;if(n&&1==n.nodeType&&0==t.focusOffset&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;me(e,i,!0),setTimeout((function(){return me(e,i,!1)}),20)}}}(e)||pe(e,1,i)||he(e):i==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(e,t)?t.preventDefault():Ue(e,"key");else{var n=Date.now();e.lastIOSEnter=n,setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))})),e.lastIOSEnter=0)}),50)}},Ge.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Ge.keypress=function(e,t){if(!(tt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof i.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var Xe=a.mac?"metaKey":"ctrlKey";He.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Je(e),i=Date.now(),r="singleClick";i-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(t,e.lastClick)&&!t[Xe]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:i,x:t.clientX,y:t.clientY,type:r};var o=e.posAtCoords($e(t));o&&("singleClick"==r?e.mouseDown=new et(e,o,t,n):("doubleClick"==r?Ye:Qe)(e,o.pos,o.inside,t)?t.preventDefault():Ue(e,"pointer"))};var et=function(e,t,n,r){var o,s,l=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[Xe],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{var u=e.state.doc.resolve(t.pos);o=u.parent,s=u.depth?u.before():0}this.mightDrag=null;var c=r?null:n.target,h=c?e.docView.nearestDesc(c,!0):null;this.target=h?h.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||e.state.selection instanceof i.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:o,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ue(e,"pointer")};function tt(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}et.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},et.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords($e(e))),this.allowDefault||!t?Ue(this.view,"pointer"):function(e,t,n,r,o){return Ke(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof i.NodeSelection&&(n=o.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var l=s>a.depth?a.nodeAfter:a.node(s);if(i.NodeSelection.isSelectable(l)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(s);break}}return null!=r&&(Ze(e,i.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&i.NodeSelection.isSelectable(r))&&(Ze(e,new i.NodeSelection(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof i.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(Ze(this.view,i.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ue(this.view,"pointer")}},et.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ue(this.view,"pointer")},He.touchdown=function(e){Je(e),Ue(e,"pointer")},He.contextmenu=function(e){return Je(e)};var nt=a.android?5e3:-1;function it(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return rt(e)}),t))}function rt(e,t){for(e.domObserver.forceFlush(),e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty();if(t||e.docView.dirty){var n=ge(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Ge.compositionstart=Ge.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),rt(e,!0),e.markCursor=null;else if(rt(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=e.root.getSelection(),r=i.focusNode,o=i.focusOffset;r&&1==r.nodeType&&0!=o;){var s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(3==s.nodeType){i.collapse(s,s.nodeValue.length);break}r=s,o=-1}e.composing=!0}it(e,nt)},Ge.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,it(e,20))};var ot=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function at(e,t,n,i){var o=De(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,i,o||r.Slice.empty)}))&&o){var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(o);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}He.copy=Ge.cut=function(e,t){var n=e.state.selection,i="cut"==t.type;if(!n.empty){var r=ot?null:t.clipboardData,o=Ae(e,n.content()),a=o.dom,s=o.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ge.paste=function(e,t){var n=ot?null:t.clipboardData,i=n&&n.getData("text/html"),r=n&&n.getData("text/plain");n&&(i||r||n.files.length)?(at(e,r,i,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?at(e,i.value,null,t):at(e,i.textContent,i.innerHTML,t)}),50)}}(e,t)};var st=function(e,t){this.slice=e,this.move=t},lt=a.mac?"altKey":"ctrlKey";for(var ut in He.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,o=r.empty?null:e.posAtCoords($e(t));if(o&&o.pos>=r.from&&o.pos<=(r instanceof i.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(i.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(i.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),l=Ae(e,s),u=l.dom,c=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(ot?"Text":"text/html",u.innerHTML),ot||t.dataTransfer.setData("text/plain",c),e.dragging=new st(s,!t[lt])}},He.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},Ge.dragover=Ge.dragenter=function(e,t){return t.preventDefault()},Ge.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var a=e.posAtCoords($e(t));if(a){var s=e.state.doc.resolve(a.pos);if(s){var l=n&&n.slice||De(e,t.dataTransfer.getData(ot?"Text":"text/plain"),ot?null:t.dataTransfer.getData("text/html"),!1,s);if(e.someProp("handleDrop",(function(i){return i(e,t,l||r.Slice.empty,n&&n.move)})))t.preventDefault();else if(l){t.preventDefault();var u=l?Object(o.i)(e.state.doc,s.pos,l):s.pos;null==u&&(u=s.pos);var c=e.state.tr;n&&n.move&&c.deleteSelection();var h=c.mapping.map(u),f=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,d=c.doc;if(f?c.replaceRangeWith(h,h,l.content.firstChild):c.replaceRange(h,h,l),!c.doc.eq(d)){var p=c.doc.resolve(h);f&&i.NodeSelection.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild)?c.setSelection(new i.NodeSelection(p)):c.setSelection(xe(e,p,c.doc.resolve(c.mapping.map(u)))),e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}}},He.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ye(e)}),20))},He.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},He.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,w(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Ge)He[ut]=Ge[ut];function ct(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var i in t)if(!(i in e))return!1;return!0}var ht=function(e,t){this.spec=t||gt,this.side=this.spec.side||0,this.toDOM=e};ht.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,this.side<0?-1:1),o=r.pos;return r.deleted?null:new pt(o-n,o-n,this)},ht.prototype.valid=function(){return!0},ht.prototype.eq=function(e){return this==e||e instanceof ht&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ct(this.spec,e.spec))};var ft=function(e,t){this.spec=t||gt,this.attrs=e};ft.prototype.map=function(e,t,n,i){var r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=o?null:new pt(r,o,this)},ft.prototype.valid=function(e,t){return t.from<t.to},ft.prototype.eq=function(e){return this==e||e instanceof ft&&ct(this.attrs,e.attrs)&&ct(this.spec,e.spec)},ft.is=function(e){return e.type instanceof ft};var dt=function(e,t){this.spec=t||gt,this.attrs=e};dt.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,1);if(r.deleted)return null;var o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=r.pos?null:new pt(r.pos-n,o.pos-n,this)},dt.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),i=n.offset;return i==t.from&&i+e.child(n.index).nodeSize==t.to},dt.prototype.eq=function(e){return this==e||e instanceof dt&&ct(this.attrs,e.attrs)&&ct(this.spec,e.spec)};var pt=function(e,t,n){this.from=e,this.to=t,this.type=n},vt={spec:{configurable:!0}};pt.prototype.copy=function(e,t){return new pt(e,t,this.type)},pt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},pt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},pt.widget=function(e,t,n){return new pt(e,e,new ht(t,n))},pt.inline=function(e,t,n,i){return new pt(e,t,new ft(n,i))},pt.node=function(e,t,n,i){return new pt(e,t,new dt(n,i))},vt.spec.get=function(){return this.type.spec},Object.defineProperties(pt.prototype,vt);var mt=[],gt={},yt=function(e,t){this.local=e&&e.length?e:mt,this.children=t&&t.length?t:mt};yt.create=function(e,t){return t.length?St(t,e,0,gt):kt},yt.prototype.find=function(e,t,n){var i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i},yt.prototype.findInner=function(e,t,n,i,r){for(var o=0;o<this.local.length;o++){var a=this.local[o];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,i+l,r)}},yt.prototype.map=function(e,t,n){return this==kt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||gt)},yt.prototype.mapInner=function(e,t,n,i,r){for(var o,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,i);s&&s.type.valid(t,s)?(o||(o=[])).push(s):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,i,r,o,a){for(var s=e.slice(),l=function(e,t,n,i){for(var a=0;a<s.length;a+=3){var l=s[a+1],u=void 0;-1==l||e>l+o||(t>=s[a]+o?s[a+1]=-1:n>=r&&(u=i-n-(t-e))&&(s[a]+=u,s[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(l);for(var c=!1,h=0;h<s.length;h+=3)if(-1==s[h+1]){var f=n.map(s[h]+o),d=f-r;if(d<0||d>=i.content.size){c=!0;continue}var p=n.map(e[h+1]+o,-1)-r,v=i.content.findIndex(d),m=v.offset,g=i.maybeChild(v.index);if(g&&m==d&&m+g.nodeSize==p){var y=s[h+2].mapInner(n,g,f+1,s[h]+o+1,a);y!=kt?(s[h]=d,s[h+1]=p,s[h+2]=y):(s[h+1]=-2,c=!0)}else c=!0}if(c){var k=St(function(e,t,n,i,r,o,a){function s(e,t){for(var o=0;o<e.local.length;o++){var l=e.local[o].map(i,r,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[o].spec)}for(var u=0;u<e.children.length;u+=3)s(e.children[u+2],e.children[u]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+o+1);return n}(s,e,t||[],n,r,o,a),i,0,a);t=k.local;for(var b=0;b<s.length;b+=3)s[b+1]<0&&(s.splice(b,3),b-=3);for(var w=0,C=0;w<k.children.length;w+=3){for(var _=k.children[w];C<s.length&&s[C]<_;)C+=3;s.splice(C,0,k.children[w],k.children[w+1],k.children[w+2])}}return new yt(t&&t.sort(xt),s)}(this.children,o,e,t,n,i,r):o?new yt(o.sort(xt)):kt},yt.prototype.add=function(e,t){return t.length?this==kt?yt.create(e,t):this.addInner(e,t,0):this},yt.prototype.addInner=function(e,t,n){var i,r=this,o=0;e.forEach((function(e,a){var s,l=a+n;if(s=Ct(t,e,l)){for(i||(i=r.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(e,s,l+1):i.splice(o,0,a,a+e.nodeSize,St(s,e,l+1,gt)),o+=3}}));var a=wt(o?_t(t):t,-n);return new yt(a.length?this.local.concat(a).sort(xt):this.local,i||this.children)},yt.prototype.remove=function(e){return 0==e.length||this==kt?this:this.removeInner(e,0)},yt.prototype.removeInner=function(e,t){for(var n=this.children,i=this.local,r=0;r<n.length;r+=3){for(var o=void 0,a=n[r]+t,s=n[r+1]+t,l=0,u=void 0;l<e.length;l++)(u=e[l])&&u.from>a&&u.to<s&&(e[l]=null,(o||(o=[])).push(u));if(o){n==this.children&&(n=this.children.slice());var c=n[r+2].removeInner(o,a+1);c!=kt?n[r+2]=c:(n.splice(r,3),r-=3)}}if(i.length)for(var h=0,f=void 0;h<e.length;h++)if(f=e[h])for(var d=0;d<i.length;d++)i[d].eq(f,t)&&(i==this.local&&(i=this.local.slice()),i.splice(d--,1));return n==this.children&&i==this.local?this:i.length||n.length?new yt(i,n):kt},yt.prototype.forChild=function(e,t){if(this==kt)return this;if(t.isLeaf)return yt.empty;for(var n,i,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var o=e+1,a=o+t.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof ft){var u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){var h=new yt(i.sort(xt));return n?new bt([h,n]):h}return n||kt},yt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof yt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},yt.prototype.locals=function(e){return Tt(this.localsInner(e))},yt.prototype.localsInner=function(e){if(this==kt)return mt;if(e.inlineContent||!this.local.some(ft.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof ft||t.push(this.local[n]);return t};var kt=new yt;yt.empty=kt,yt.removeOverlap=Tt;var bt=function(e){this.members=e};function wt(e,t){if(!t||!e.length)return e;for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(new pt(r.from+t,r.to+t,r.type))}return n}function Ct(e,t,n){if(t.isLeaf)return null;for(var i=n+t.nodeSize,r=null,o=0,a=void 0;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<i&&((r||(r=[])).push(a),e[o]=null);return r}function _t(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function St(e,t,n,i){var r=[],o=!1;t.forEach((function(t,a){var s=Ct(e,t,a+n);if(s){o=!0;var l=St(s,t,n+a+1,i);l!=kt&&r.push(a,a+t.nodeSize,l)}}));for(var a=wt(o?_t(e):e,-n).sort(xt),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new yt(a,r):kt}function xt(e,t){return e.from-t.from||e.to-t.to}function Tt(e){for(var t=e,n=0;n<t.length-1;n++){var i=t[n];if(i.from!=i.to)for(var r=n+1;r<t.length;r++){var o=t[r];if(o.from!=i.from){o.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,o.from),Ot(t,r,i.copy(o.from,i.to)));break}o.to!=i.to&&(t==e&&(t=e.slice()),t[r]=o.copy(o.from,i.to),Ot(t,r+1,o.copy(i.to,o.to)))}}return t}function Ot(e,t,n){for(;t<e.length&&xt(n,e[t])>0;)t++;e.splice(t,0,n)}function It(e){var t=[];return e.someProp("decorations",(function(n){var i=n(e.state);i&&i!=kt&&t.push(i)})),e.cursorWrapper&&t.push(yt.create(e.state.doc,[e.cursorWrapper.deco])),bt.from(t)}bt.prototype.forChild=function(e,t){if(t.isLeaf)return yt.empty;for(var n=[],i=0;i<this.members.length;i++){var r=this.members[i].forChild(e,t);r!=kt&&(r instanceof bt?n=n.concat(r.members):n.push(r))}return bt.from(n)},bt.prototype.eq=function(e){if(!(e instanceof bt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},bt.prototype.locals=function(e){for(var t,n=!0,i=0;i<this.members.length;i++){var r=this.members[i].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<r.length;o++)t.push(r[o])}else t=r}return t?Tt(n?t:t.sort(xt)):mt},bt.from=function(e){switch(e.length){case 0:return kt;case 1:return e[0];default:return new bt(e)}};var Et=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Mt(this),this.markCursor=null,this.cursorWrapper=null,Rt(this),this.nodeViews=Ft(this),this.docView=U(this.state.doc,Dt(this),It(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Ve(e,(function(t,n,o,s){return function(e,t,n,o,s){if(t<0){var l=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,u=ge(e,l);if(u&&!e.state.selection.eq(u)){var c=e.state.tr.setSelection(u);"pointer"==l?c.setMeta("pointer",!0):"key"==l&&c.scrollIntoView(),e.dispatch(c)}}else{var h=e.state.doc.resolve(t),f=h.sharedDepth(n);t=h.before(f+1),n=e.state.doc.resolve(n).after(f+1);var d,p,v=e.state.selection,m=function(e,t,n){var i=e.docView.parseRange(t,n),o=i.node,s=i.fromOffset,l=i.toOffset,u=i.from,c=i.to,h=e.root.getSelection(),f=null,d=h.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(f=[{node:d,offset:h.anchorOffset}],b(h)||f.push({node:h.focusNode,offset:h.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var p=l;p>s;p--){var v=o.childNodes[p-1],m=v.pmViewDesc;if("BR"==v.nodeType&&!m){l=p;break}if(!m||m.size)break}var g=e.state.doc,y=e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema),k=g.resolve(u),w=null,C=y.parse(o,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:s,to:l,preserveWhitespace:!k.parent.type.spec.code||"full",editableContent:!0,findPositions:f,ruleFromNode:Oe,context:k});if(f&&null!=f[0].pos){var _=f[0].pos,S=f[1]&&f[1].pos;null==S&&(S=_),w={anchor:_+u,head:S+u}}return{doc:C,sel:w,from:u,to:c}}(e,t,n),g=e.state.doc,y=g.slice(m.from,m.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(d=e.state.selection.to,p="end"):(d=e.state.selection.from,p="start"),e.lastKeyCode=null;var k=function(e,t,n,i,r){var o=e.findDiffStart(t,n);if(null==o)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;return"end"==r&&(i-=s+Math.max(0,o-Math.min(s,l))-o),s<o&&e.size<t.size?(l=(o-=i<=o&&i>=s?o-i:0)+(l-s),s=o):l<o&&(s=(o-=i<=o&&i>=l?o-i:0)+(s-l),l=o),{start:o,endA:s,endB:l}}(y.content,m.doc.content,m.from,d,p);if(!k){if(!(o&&v instanceof i.TextSelection&&!v.empty&&v.$head.sameParent(v.$anchor))||e.composing||m.sel&&m.sel.anchor!=m.sel.head){if(m.sel){var C=Ie(e,e.state.doc,m.sel);C&&!C.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(C))}return}k={start:v.from,endA:v.to,endB:v.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&k.start==k.endB&&e.state.selection instanceof i.TextSelection&&(k.start>e.state.selection.from&&k.start<=e.state.selection.from+2?k.start=e.state.selection.from:k.endA<e.state.selection.to&&k.endA>=e.state.selection.to-2&&(k.endB+=e.state.selection.to-k.endA,k.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>m.from&&" \xa0"==m.doc.textBetween(k.start-m.from-1,k.start-m.from+1)&&(k.start--,k.endA--,k.endB--);var _,S=m.doc.resolveNoCache(k.start-m.from),x=m.doc.resolveNoCache(k.endB-m.from),T=S.sameParent(x)&&S.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-100&&(!T||s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!T&&S.pos<m.doc.content.size&&(_=i.Selection.findFrom(m.doc.resolve(S.pos+1),1,!0))&&_.head==x.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>k.start&&function(e,t,n,i,r){if(!i.parent.isTextblock||n-t<=r.pos-i.pos||Ee(i,!0,!1)<r.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=e.resolve(Ee(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Ee(a,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(a.parent.content)}(g,k.start,k.endA,S,x)&&e.someProp("handleKeyDown",(function(t){return t(e,w(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.android&&!T&&S.start()!=x.start()&&0==x.parentOffset&&S.depth==x.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==k.endA&&(k.endB-=2,x=m.doc.resolveNoCache(k.endB-m.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))}))}),20));var O,I,E,A,D=k.start,R=k.endA;if(T)if(S.pos==x.pos)a.ie&&a.ie_version<=11&&0==S.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ye(e)}),20)),O=e.state.tr.delete(D,R),I=g.resolve(k.start).marksAcross(g.resolve(k.endA));else if(k.endA==k.endB&&(A=g.resolve(k.start))&&(E=function(e,t){for(var n,i,o,a=e.firstChild.marks,s=t.firstChild.marks,l=a,u=s,c=0;c<s.length;c++)l=s[c].removeFromSet(l);for(var h=0;h<a.length;h++)u=a[h].removeFromSet(u);if(1==l.length&&0==u.length)i=l[0],n="add",o=function(e){return e.mark(i.addToSet(e.marks))};else{if(0!=l.length||1!=u.length)return null;i=u[0],n="remove",o=function(e){return e.mark(i.removeFromSet(e.marks))}}for(var f=[],d=0;d<t.childCount;d++)f.push(o(t.child(d)));if(r.Fragment.from(f).eq(e))return{mark:i,type:n}}(S.parent.content.cut(S.parentOffset,x.parentOffset),A.parent.content.cut(A.parentOffset,k.endA-A.start()))))O=e.state.tr,"add"==E.type?O.addMark(D,R,E.mark):O.removeMark(D,R,E.mark);else if(S.parent.child(S.index()).isText&&S.index()==x.index()-(x.textOffset?0:1)){var M=S.parent.textBetween(S.parentOffset,x.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,D,R,M)})))return;O=e.state.tr.insertText(M,D,R)}if(O||(O=e.state.tr.replace(D,R,m.doc.slice(k.start-m.from,k.endB-m.from))),m.sel){var F=Ie(e,O.doc,m.sel);F&&!(a.chrome&&a.android&&e.composing&&F.empty&&(F.head==D||F.head==O.mapping.map(R)-1)||a.ie&&F.empty&&F.head==D)&&O.setSelection(F)}I&&O.ensureMarks(I),e.dispatch(O.scrollIntoView())}}}(e,t,n,o,s)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=He[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||qe(e,t)||!e.editable&&t.type in Ge||n(e,t)})};for(var n in He)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),We(e)}(this),this.pluginViews=[],this.updatePluginViews()},At={props:{configurable:!0},root:{configurable:!0}};function Dt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var i in n)"class"==i?t.class+=" "+n[i]:t[i]||"contenteditable"==i||"nodeName"==i||(t[i]=String(n[i]))})),[pt.node(0,e.state.doc.content.size,t)]}function Rt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:pt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Mt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Ft(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Pt(e){var t=e.getSelection(),n=t.focusOffset,i=t.focusNode;return i&&1==i.nodeType?[i,n,i.childNodes[n-1],i.childNodes[n]]:null}At.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Et.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&We(this),this._props=e,this.updateStateInner(e.state,!0)},Et.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var i in t.state=this.state,e)t[i]=e[i];this.update(t)},Et.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Et.prototype.updateStateInner=function(e,t){var n=this,r=this.state,o=!1;if(this.state=e,t){var s=Ft(this);(function(e,t){var n=0,i=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var o in t)i++;return n!=i})(s,this.nodeViews)&&(this.nodeViews=s,o=!0),We(this)}this.editable=Mt(this),Rt(this);var l,u,c,h,f,p,m,g,y,k=It(this),b=Dt(this),w=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",O=o||!this.docView.matchesNode(e.doc,b,k),I=O||!e.selection.eq(r.selection),E="preserve"==w&&I&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,i=e.dom.getBoundingClientRect(),r=Math.max(0,i.top),o=(i.left+i.right)/2,a=r+1;a<Math.min(innerHeight,i.bottom);a+=5){var s=e.root.elementFromPoint(o,a);if(s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=r-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:x(e.dom)}}(this);if(I){this.domObserver.stop();var A=O&&(a.ie||a.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(c=r.selection,h=e.selection,f=Math.min(c.$anchor.sharedDepth(c.head),h.$anchor.sharedDepth(h.head)),c.$anchor.start(f)!=h.$anchor.start(f));if(O){var D=a.chrome&&Pt(this.root);!o&&this.docView.update(e.doc,b,k,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=U(e.doc,b,k,this.dom,this)),D&&function(e,t){var n=Pt(t);if(!n||3==n[0].nodeType)return!1;for(var i=0;i<e.length;i++)if(n[i]!=e[i])return!0;return!1}(D,this.root)&&(A=!0)}A||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(l=this.docView.domFromPos(this.state.selection.anchor),u=this.root.getSelection(),v(l.node,l.offset,u.anchorNode,u.anchorOffset)))?ye(this,A):(_e(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==w)this.dom.scrollTop=0;else if("to selection"==w){var R=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||function(e,t,n){for(var i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,a=n||e.dom;a;a=d(a))if(1==a.nodeType){var s=a==o.body||1!=a.nodeType,l=s?C(o):S(a),u=0,c=0;if(t.top<l.top+_(i,"top")?c=-(l.top-t.top+_(r,"top")):t.bottom>l.bottom-_(i,"bottom")&&(c=t.bottom-l.bottom+_(r,"bottom")),t.left<l.left+_(i,"left")?u=-(l.left-t.left+_(r,"left")):t.right>l.right-_(i,"right")&&(u=t.right-l.right+_(r,"right")),u||c)if(s)o.defaultView.scrollBy(u,c);else{var h=a.scrollLeft,f=a.scrollTop;c&&(a.scrollTop+=c),u&&(a.scrollLeft+=u);var p=a.scrollLeft-h,v=a.scrollTop-f;t={left:t.left-p,top:t.top-v,right:t.right-p,bottom:t.bottom-v}}if(s)break}}(this,e.selection instanceof i.NodeSelection?this.docView.domAfterPos(e.selection.from).getBoundingClientRect():this.coordsAtPos(e.selection.head),R)}else E&&(g=(p=E).refTop,T(p.stack,0==(y=(m=p.refDOM)?m.getBoundingClientRect().top:0)?0:y-g))},Et.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Et.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var i=0;i<this.state.plugins.length;i++){var r=this.state.plugins[i];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},Et.prototype.someProp=function(e,t){var n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;var r=this.state.plugins;if(r)for(var o=0;o<r.length;o++){var a=r[o].props[e];if(null!=a&&(n=t?t(a):a))return n}},Et.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Et.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(O)return e.focus(O);var t=x(e);e.focus(null==O?{get preventScroll(){return O={preventScroll:!0},!0}}:void 0),O||(O=!1,T(t,0))}(this.dom),ye(this),this.domObserver.start()},At.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Et.prototype.posAtCoords=function(e){return function(e,t){var n,i,r,o,s=e.root;if(s.caretPositionFromPoint)try{var l=s.caretPositionFromPoint(t.left,t.top);l&&(r=(n=l).offsetNode,o=n.offset)}catch(g){}if(!r&&s.caretRangeFromPoint){var u=s.caretRangeFromPoint(t.left,t.top);u&&(r=(i=u).startContainer,o=i.startOffset)}var c,h=s.elementFromPoint(t.left,t.top+1);if(!h||!e.dom.contains(1!=h.nodeType?h.parentNode:h)){var f=e.dom.getBoundingClientRect();if(!I(t,f))return null;if(!(h=function e(t,n,i){var r=t.childNodes.length;if(r&&i.top<i.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(n.top-i.top)/(i.bottom-i.top))-2)),a=o;;){var s=t.childNodes[a];if(1==s.nodeType)for(var l=s.getClientRects(),u=0;u<l.length;u++){var c=l[u];if(I(n,c))return e(s,n,c)}if((a=(a+1)%r)==o)break}return t}(e.dom,t,f)))return null}if(a.safari&&h.draggable&&(r=o=null),h=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(h,t),r){if(a.gecko&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length))<r.childNodes.length){var d,v=r.childNodes[o];"IMG"==v.nodeName&&(d=v.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}r==e.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(c=function(e,t,n,i){for(var r=-1,o=t;o!=e.dom;){var a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>i.left||s.top>i.top)r=a.posBefore;else{if(!(s.right<i.left||s.bottom<i.top))break;r=a.posAfter}}o=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,o,t))}null==c&&(c=function(e,t,n){var i=function e(t,n){for(var i,r,o=2e8,a=0,s=n.top,l=n.top,u=t.firstChild,c=0;u;u=u.nextSibling,c++){var h=void 0;if(1==u.nodeType)h=u.getClientRects();else{if(3!=u.nodeType)continue;h=p(u).getClientRects()}for(var f=0;f<h.length;f++){var d=h[f];if(d.top<=s&&d.bottom>=l){s=Math.max(d.bottom,s),l=Math.min(d.top,l);var v=d.left>n.left?d.left-n.left:d.right<n.left?n.left-d.right:0;if(v<o){i=u,o=v,r=v&&3==i.nodeType?{left:d.right<n.left?d.right:d.left,top:n.top}:n,1==u.nodeType&&v&&(a=c+(n.left>=(d.left+d.right)/2?1:0));continue}}!i&&(n.left>=d.right&&n.top>=d.top||n.left>=d.left&&n.top>=d.bottom)&&(a=c+1)}}return i&&3==i.nodeType?function(e,t){for(var n=e.nodeValue.length,i=document.createRange(),r=0;r<n;r++){i.setEnd(e,r+1),i.setStart(e,r);var o=E(i,1);if(o.top!=o.bottom&&I(t,o))return{node:e,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}(i,r):!i||o&&1==i.nodeType?{node:t,offset:a}:e(i,r)}(t,n),r=i.node,o=i.offset,a=-1;if(1==r.nodeType&&!r.firstChild){var s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,a)}(e,h,t));var m=e.docView.nearestDesc(h,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}(this,e)},Et.prototype.coordsAtPos=function(e){return A(this,e)},Et.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Et.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Et.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},Et.prototype.endOfTextblock=function(e,t){return function(e,t,n){return F==t&&P==n?z:(F=t,P=n,z="up"==n||"down"==n?function(e,t,n){var i=t.selection,r="up"==n?i.$anchor.min(i.$head):i.$anchor.max(i.$head);return R(e,t,(function(){for(var t=e.docView.domFromPos(r.pos).node;;){var i=e.docView.nearestDesc(t,!0);if(!i)break;if(i.node.isBlock){t=i.dom;break}t=i.dom.parentNode}for(var o=A(e,r.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=p(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var u=s[l];if(u.bottom>u.top&&("up"==n?u.bottom<o.top+1:u.top>o.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var i=t.selection.$head;if(!i.parent.isTextblock)return!1;var r=i.parentOffset,o=!r,a=r==i.parent.content.size,s=getSelection();return M.test(i.parent.textContent)&&s.modify?R(e,t,(function(){var t=s.getRangeAt(0),r=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(i.depth?e.docView.domAfterPos(i.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||r==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?o:a}(e,t,n))}(this,t||this.state,e)},Et.prototype.destroy=function(){this.docView&&(function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],It(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Et.prototype.dispatchEvent=function(e){return function(e,t){qe(e,t)||!He[t.type]||!e.editable&&t.type in Ge||He[t.type](e,t)}(this,e)},Et.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Et.prototype,At)},Vb5C:function(e,t,n){"use strict";n.r(t),n.d(t,"CellSelection",(function(){return F})),n.d(t,"TableMap",(function(){return p})),n.d(t,"TableView",(function(){return Te})),n.d(t,"__clipCells",(function(){return j})),n.d(t,"__insertCells",(function(){return H})),n.d(t,"__pastedCells",(function(){return N})),n.d(t,"addColSpan",(function(){return R})),n.d(t,"addColumn",(function(){return ie})),n.d(t,"addColumnAfter",(function(){return oe})),n.d(t,"addColumnBefore",(function(){return re})),n.d(t,"addRow",(function(){return ue})),n.d(t,"addRowAfter",(function(){return he})),n.d(t,"addRowBefore",(function(){return ce})),n.d(t,"cellAround",(function(){return w})),n.d(t,"colCount",(function(){return I})),n.d(t,"columnIsHeader",(function(){return M})),n.d(t,"columnResizing",(function(){return Ee})),n.d(t,"columnResizingPluginKey",(function(){return Ie})),n.d(t,"deleteColumn",(function(){return se})),n.d(t,"deleteRow",(function(){return de})),n.d(t,"deleteTable",(function(){return xe})),n.d(t,"findCell",(function(){return O})),n.d(t,"fixTables",(function(){return te})),n.d(t,"fixTablesKey",(function(){return ee})),n.d(t,"goToNextCell",(function(){return Se})),n.d(t,"handlePaste",(function(){return Z})),n.d(t,"inSameTable",(function(){return T})),n.d(t,"isInTable",(function(){return C})),n.d(t,"mergeCells",(function(){return ve})),n.d(t,"moveCellForward",(function(){return x})),n.d(t,"nextCell",(function(){return E})),n.d(t,"pointsAtCell",(function(){return S})),n.d(t,"removeColSpan",(function(){return D})),n.d(t,"removeColumn",(function(){return ae})),n.d(t,"removeRow",(function(){return fe})),n.d(t,"rowIsHeader",(function(){return le})),n.d(t,"selectedRect",(function(){return ne})),n.d(t,"selectionCell",(function(){return _})),n.d(t,"setAttr",(function(){return A})),n.d(t,"setCellAttr",(function(){return ye})),n.d(t,"splitCell",(function(){return me})),n.d(t,"splitCellWithType",(function(){return ge})),n.d(t,"tableEditing",(function(){return Pe})),n.d(t,"tableEditingKey",(function(){return b})),n.d(t,"tableNodeTypes",(function(){return k})),n.d(t,"tableNodes",(function(){return y})),n.d(t,"toggleHeader",(function(){return be})),n.d(t,"toggleHeaderCell",(function(){return _e})),n.d(t,"toggleHeaderColumn",(function(){return Ce})),n.d(t,"toggleHeaderRow",(function(){return we})),n.d(t,"updateColumnsOnResize",(function(){return Oe}));var i,r,o=n("UxO+"),a=n("MEpN"),s=n("fwbU"),l=n("V2qZ"),u=n("CsC6");if("undefined"!=typeof WeakMap){var c=new WeakMap;i=function(e){return c.get(e)},r=function(e,t){return c.set(e,t),t}}else{var h=[],f=0;i=function(e){for(var t=0;t<h.length;t+=2)if(h[t]==e)return h[t+1]},r=function(e,t){return 10==f&&(f=0),h[f++]=e,h[f++]=t}}var d=function(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i},p=function(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i};function v(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function m(e,t){var n=e.getAttribute("data-colwidth"),i=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,r=Number(e.getAttribute("colspan")||1),o={colspan:r,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:i&&i.length==r?i:null};for(var a in t){var s=t[a].getFromDOM,l=s&&s(e);null!=l&&(o[a]=l)}return o}function g(e,t){var n={};for(var i in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var r=t[i].setDOMAttr;r&&r(e.attrs[i],n)}return n}function y(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in t)n[i]={default:t[i].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return m(e,t)}}],toDOM:function(e){return["td",g(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return m(e,t)}}],toDOM:function(e){return["th",g(e,t),0]}}}}function k(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var i=e.nodes[n],r=i.spec.tableRole;r&&(t[r]=i)}return t}p.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var i=t%this.width,r=t/this.width|0,o=i+1,a=r+1,s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(var l=1;a<this.height&&this.map[t+this.width*l]==n;l++)a++;return new d(i,r,o,a)}}throw new RangeError("No cell with offset "+e+" found")},p.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},p.prototype.nextCell=function(e,t,n){var i=this.findCell(e),r=i.left,o=i.right,a=i.top,s=i.bottom;return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[a*this.width+(n<0?r-1:o)]:(n<0?0==a:s==this.height)?null:this.map[r+this.width*(n<0?a-1:s)]},p.prototype.rectBetween=function(e,t){var n=this.findCell(e),i=n.left,r=n.right,o=n.top,a=n.bottom,s=this.findCell(t),l=s.right,u=s.top,c=s.bottom;return new d(Math.min(i,s.left),Math.min(o,u),Math.max(r,l),Math.max(a,c))},p.prototype.cellsInRect=function(e){for(var t=[],n={},i=e.top;i<e.bottom;i++)for(var r=e.left;r<e.right;r++){var o=i*this.width+r,a=this.map[o];n[a]||(n[a]=!0,r==e.left&&r&&this.map[o-1]==a||i==e.top&&i&&this.map[o-this.width]==a||t.push(a))}return t},p.prototype.positionAt=function(e,t,n){for(var i=0,r=0;;i++){var o=r+n.child(i).nodeSize;if(i==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<r;)a++;return a==s?o-1:this.map[a]}r=o}},p.get=function(e){return i(e)||r(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,i=0;i<e.childCount;i++){var r=e.child(i),o=0;if(n)for(var a=0;a<i;a++)for(var s=e.child(a),l=0;l<s.childCount;l++){var u=s.child(l);a+u.attrs.rowspan>i&&(o+=u.attrs.colspan)}for(var c=0;c<r.childCount;c++){var h=r.child(c);o+=h.attrs.colspan,h.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),n=e.childCount,i=[],r=0,o=null,a=[],s=0,l=t*n;s<l;s++)i[s]=0;for(var u=0,c=0;u<n;u++){var h=e.child(u);c++;for(var f=0;;f++){for(;r<i.length&&0!=i[r];)r++;if(f==h.childCount)break;for(var d=h.child(f),m=d.attrs,g=m.colspan,y=m.rowspan,k=m.colwidth,b=0;b<y;b++){if(b+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:y-b});break}for(var w=r+b*t,C=0;C<g;C++){0==i[w+C]?i[w+C]=c:(o||(o=[])).push({type:"collision",row:u,pos:c,n:g-C});var _=k&&k[C];if(_){var S=(w+C)%t*2,x=a[S];null==x||x!=_&&1==a[S+1]?(a[S]=_,a[S+1]=1):x==_&&a[S+1]++}}}r+=g,c+=d.nodeSize}for(var T=(u+1)*t,O=0;r<T;)0==i[r++]&&O++;O&&(o||(o=[])).push({type:"missing",row:u,n:O}),c++}for(var I=new p(t,n,i,o),E=!1,A=0;!E&&A<a.length;A+=2)null!=a[A]&&a[A+1]<n&&(E=!0);return E&&function(e,t,n){e.problems||(e.problems=[]);for(var i=0,r={};i<e.map.length;i++){var o=e.map[i];if(!r[o]){r[o]=!0;for(var a=n.nodeAt(o),s=null,l=0;l<a.attrs.colspan;l++){var u=t[(i+l)%e.width*2];null==u||a.attrs.colwidth&&a.attrs.colwidth[l]==u||((s||(s=v(a.attrs)))[l]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}}(I,a,e),I}(e))};var b=new o.PluginKey("selectingCells");function w(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function C(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function _(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:w(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(var r=e.nodeBefore,o=e.pos;r;r=r.lastChild,o--){var a=r.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(o-r.nodeSize)}}(t.$head)}function S(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function x(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function T(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function O(e){return p.get(e.node(-1)).findCell(e.pos-e.start(-1))}function I(e){return p.get(e.node(-1)).colCount(e.pos-e.start(-1))}function E(e,t,n){var i=e.start(-1),r=p.get(e.node(-1)).nextCell(e.pos-i,t,n);return null==r?null:e.node(0).resolve(i+r)}function A(e,t,n){var i={};for(var r in e)i[r]=e[r];return i[t]=n,i}function D(e,t,n){void 0===n&&(n=1);var i=A(e,"colspan",e.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some((function(e){return e>0}))||(i.colwidth=null)),i}function R(e,t,n){void 0===n&&(n=1);var i=A(e,"colspan",e.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(var r=0;r<n;r++)i.colwidth.splice(t,0,0)}return i}function M(e,t,n){for(var i=k(t.type.schema).header_cell,r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=i)return!1;return!0}var F=function(e){function t(t,n){void 0===n&&(n=t);var i=t.node(-1),r=p.get(i),a=t.start(-1),s=r.rectBetween(t.pos-a,n.pos-a),l=t.node(0),u=r.cellsInRect(s).filter((function(e){return e!=n.pos-a}));u.unshift(n.pos-a);var c=u.map((function(e){var t=i.nodeAt(e),n=e+a+1;return new o.SelectionRange(l.resolve(n),l.resolve(n+t.content.size))}));e.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.map=function(e,n){var i=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(S(i)&&S(r)&&T(i,r)){var a=this.$anchorCell.node(-1)!=i.node(-1);return a&&this.isRowSelection()?t.rowSelection(i,r):a&&this.isColSelection()?t.colSelection(i,r):new t(i,r)}return o.TextSelection.between(i,r)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=p.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[],s=i.top;s<i.bottom;s++){for(var l=[],u=s*t.width+i.left,c=i.left;c<i.right;c++,u++){var h=t.map[u];if(!r[h]){r[h]=!0;var f=t.findCell(h),d=e.nodeAt(h),v=i.left-f.left,m=f.right-i.right;if(v>0||m>0){var g=d.attrs;v>0&&(g=D(g,0,v)),m>0&&(g=D(g,g.colspan-m,m)),d=f.left<i.left?d.type.createAndFill(g):d.type.create(g,d.content)}if(f.top<i.top||f.bottom>i.bottom){var y=A(d.attrs,"rowspan",Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top));d=f.top<i.top?d.type.createAndFill(y):d.type.create(y,d.content)}l.push(d)}}o.push(e.child(s).copy(a.Fragment.from(l)))}var k=this.isColSelection()&&this.isRowSelection()?e:o;return new a.Slice(a.Fragment.from(k),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=a.Slice.empty);for(var i=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var s=r[o],l=s.$from,u=s.$to,c=t.mapping.slice(i);t.replace(c.map(l.pos),c.map(u.pos),o?a.Slice.empty:n)}var h=e.findFrom(t.doc.resolve(t.mapping.slice(i).map(this.to)),-1);h&&t.setSelection(h)},t.prototype.replaceWith=function(e,t){this.replace(e,new a.Slice(a.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=p.get(t),i=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),o=0;o<r.length;o++)e(t.nodeAt(r[o]),i+r[o])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var i=p.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),a=i.findCell(n.pos-r),s=e.node(0);return o.top<=a.top?(o.top>0&&(e=s.resolve(r+i.map[o.left])),a.bottom<i.height&&(n=s.resolve(r+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(r+i.map[a.left])),o.bottom<i.height&&(e=s.resolve(r+i.map[i.width*(i.height-1)+o.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=p.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),i=e.colCount(this.$headCell.pos-t);return!(Math.min(n,i)>0)&&Math.max(n+this.$anchorCell.nodeAfter.attrs.colspan,i+this.$headCell.nodeAfter.attrs.colspan)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var i=p.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),a=i.findCell(n.pos-r),s=e.node(0);return o.left<=a.left?(o.left>0&&(e=s.resolve(r+i.map[o.top*i.width])),a.right<i.width&&(n=s.resolve(r+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(r+i.map[a.top*i.width])),o.right<i.width&&(e=s.resolve(r+i.map[i.width*(o.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,i){return void 0===i&&(i=n),new t(e.resolve(n),e.resolve(i))},t.prototype.getBookmark=function(){return new P(this.$anchorCell.pos,this.$headCell.pos)},t}(o.Selection);F.prototype.visible=!1,o.Selection.jsonID("cell",F);var P=function(e,t){this.anchor=e,this.head=t};function z(e){if(!(e.selection instanceof F))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(l.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),l.DecorationSet.create(e.doc,t)}function N(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,i=e.openEnd;1==t.childCount&&(n>0&&i>0||"table"==t.firstChild.type.spec.tableRole);)n--,i--,t=t.firstChild.content;var r=t.firstChild,o=r.type.spec.tableRole,s=r.type.schema,l=[];if("row"==o)for(var u=0;u<t.childCount;u++){var c=t.child(u).content,h=u?0:Math.max(0,n-1),f=u<t.childCount-1?0:Math.max(0,i-1);(h||f)&&(c=L(k(s).row,new a.Slice(c,h,f)).content),l.push(c)}else{if("cell"!=o&&"header_cell"!=o)return null;l.push(n||i?L(k(s).row,new a.Slice(t,n,i)).content:t)}return function(e,t){for(var n=[],i=0;i<t.length;i++)for(var r=t[i],o=r.childCount-1;o>=0;o--)for(var s=r.child(o).attrs,l=s.rowspan,u=s.colspan,c=i;c<i+l;c++)n[c]=(n[c]||0)+u;for(var h=0,f=0;f<n.length;f++)h=Math.max(h,n[f]);for(var d=0;d<n.length;d++)if(d>=t.length&&t.push(a.Fragment.empty),n[d]<h){for(var p=k(e).cell.createAndFill(),v=[],m=n[d];m<h;m++)v.push(p);t[d]=t[d].append(a.Fragment.from(v))}return{height:t.length,width:h,rows:t}}(s,l)}function L(e,t){var n=e.createAndFill();return new u.f(n).replace(0,n.content.size,t).doc}function j(e,t,n){var i=e.width,r=e.height,o=e.rows;if(i!=t){for(var s=[],l=[],u=0;u<o.length;u++){for(var c=o[u],h=[],f=s[u]||0,d=0;f<t;d++){var p=c.child(d%c.childCount);f+p.attrs.colspan>t&&(p=p.type.create(D(p.attrs,p.attrs.colspan,f+p.attrs.colspan-t),p.content)),h.push(p),f+=p.attrs.colspan;for(var v=1;v<p.attrs.rowspan;v++)s[u+v]=(s[u+v]||0)+p.attrs.colspan}l.push(a.Fragment.from(h))}o=l,i=t}if(r!=n){for(var m=[],g=0,y=0;g<n;g++,y++){for(var k=[],b=o[y%r],w=0;w<b.childCount;w++){var C=b.child(w);g+C.attrs.rowspan>n&&(C=C.type.create(A(C.attrs,"rowspan",n-C.attrs.rowspan),C.content)),k.push(C)}m.push(a.Fragment.from(k))}o=m,r=n}return{width:i,height:r,rows:o}}function V(e,t,n,i,r,o,a,s){if(0==a||a==t.height)return!1;for(var l=!1,u=r;u<o;u++){var c=a*t.width+u,h=t.map[c];if(t.map[c-t.width]==h){l=!0;var f=n.nodeAt(h),d=t.findCell(h),p=d.top,v=d.left;e.setNodeMarkup(e.mapping.slice(s).map(h+i),null,A(f.attrs,"rowspan",a-p)),e.insert(e.mapping.slice(s).map(t.positionAt(a,v,n)),f.type.createAndFill(A(f.attrs,"rowspan",p+f.attrs.rowspan-a))),u+=f.attrs.colspan-1}}return l}function B(e,t,n,i,r,o,a,s){if(0==a||a==t.width)return!1;for(var l=!1,u=r;u<o;u++){var c=u*t.width+a,h=t.map[c];if(t.map[c-1]==h){l=!0;var f=n.nodeAt(h),d=t.colCount(h),p=e.mapping.slice(s).map(h+i);e.setNodeMarkup(p,null,D(f.attrs,a-d,f.attrs.colspan-(a-d))),e.insert(p+f.nodeSize,f.type.createAndFill(D(f.attrs,0,a-d))),u+=f.attrs.rowspan-1}}return l}function H(e,t,n,i,r){var o=n?e.doc.nodeAt(n-1):e.doc,s=p.get(o),l=i.top,u=i.left,c=u+r.width,h=l+r.height,f=e.tr,d=0;function v(){o=n?f.doc.nodeAt(n-1):f.doc,s=p.get(o),d=f.mapping.maps.length}(function(e,t,n,i,r,o,s){var l,u,c=k(e.doc.type.schema);if(r>t.width)for(var h=0,f=0;h<t.height;h++){var d=n.child(h);f+=d.nodeSize;var p,v=[];p=null==d.lastChild||d.lastChild.type==c.cell?l||(l=c.cell.createAndFill()):u||(u=c.header_cell.createAndFill());for(var m=t.width;m<r;m++)v.push(p);e.insert(e.mapping.slice(s).map(f-1+i),v)}if(o>t.height){for(var g=[],y=0,b=(t.height-1)*t.width;y<Math.max(t.width,r);y++){var w=!(y>=t.width)&&n.nodeAt(t.map[b+y]).type==c.header_cell;g.push(w?u||(u=c.header_cell.createAndFill()):l||(l=c.cell.createAndFill()))}for(var C=c.row.create(null,a.Fragment.from(g)),_=[],S=t.height;S<o;S++)_.push(C);e.insert(e.mapping.slice(s).map(i+n.nodeSize-2),_)}return!(!l&&!u)})(f,s,o,n,c,h,d)&&v(),V(f,s,o,n,u,c,l,d)&&v(),V(f,s,o,n,u,c,h,d)&&v(),B(f,s,o,n,l,h,u,d)&&v(),B(f,s,o,n,l,h,c,d)&&v();for(var m=l;m<h;m++){var g=s.positionAt(m,u,o),y=s.positionAt(m,c,o);f.replace(f.mapping.slice(d).map(g+n),f.mapping.slice(d).map(y+n),new a.Slice(r.rows[m-l],0,0))}v(),f.setSelection(new F(f.doc.resolve(n+s.positionAt(l,u,o)),f.doc.resolve(n+s.positionAt(h-1,c-1,o)))),t(f)}P.prototype.map=function(e){return new P(e.map(this.anchor),e.map(this.head))},P.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&T(t,n)?new F(t,n):o.Selection.near(n,1)};var G=Object(s.keydownHandler)({ArrowLeft:W("horiz",-1),ArrowRight:W("horiz",1),ArrowUp:W("vert",-1),ArrowDown:W("vert",1),"Shift-ArrowLeft":q("horiz",-1),"Shift-ArrowRight":q("horiz",1),"Shift-ArrowUp":q("vert",-1),"Shift-ArrowDown":q("vert",1),Backspace:$,"Mod-Backspace":$,Delete:$,"Mod-Delete":$});function U(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function W(e,t){return function(n,i,r){var a=n.selection;if(a instanceof F)return U(n,i,o.Selection.near(a.$headCell,t));if("horiz"!=e&&!a.empty)return!1;var s=Q(r,e,t);if(null==s)return!1;if("horiz"==e)return U(n,i,o.Selection.near(n.doc.resolve(a.head+t),t));var l,u=n.doc.resolve(s),c=E(u,e,t);return l=c?o.Selection.near(c,1):t<0?o.Selection.near(n.doc.resolve(u.before(-1)),-1):o.Selection.near(n.doc.resolve(u.after(-1)),1),U(n,i,l)}}function q(e,t){return function(n,i,r){var o=n.selection;if(!(o instanceof F)){var a=Q(r,e,t);if(null==a)return!1;o=new F(n.doc.resolve(a))}var s=E(o.$headCell,e,t);return!!s&&U(n,i,new F(o.$anchorCell,s))}}function $(e,t){var n=e.selection;if(!(n instanceof F))return!1;if(t){var i=e.tr,r=k(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(r)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new a.Slice(r,0,0))})),i.docChanged&&t(i)}return!0}function K(e,t){var n=w(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new F(n))),!0)}function Z(e,t,n){if(!C(e.state))return!1;var i=N(n),r=e.state.selection;if(r instanceof F){i||(i={width:1,height:1,rows:[a.Fragment.from(L(k(e.state.schema).cell,n))]});var o=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),l=p.get(o).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return i=j(i,l.right-l.left,l.bottom-l.top),H(e.state,e.dispatch,s,l,i),!0}if(i){var u=_(e.state),c=u.start(-1);return H(e.state,e.dispatch,c,p.get(u.node(-1)).findCell(u.pos-c),i),!0}return!1}function Y(e,t){if(!t.ctrlKey&&!t.metaKey){var n,i=J(e,t.target);if(t.shiftKey&&e.state.selection instanceof F)r(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&i&&null!=(n=w(e.state.selection.$anchor))&&X(e,t).pos!=n.pos)r(n,t),t.preventDefault();else if(!i)return;e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",a)}function r(t,n){var i=X(e,n),r=null==b.getState(e.state);if(!i||!T(t,i)){if(!r)return;i=t}var o=new F(t,i);if(r||!e.state.selection.eq(o)){var a=e.state.tr.setSelection(o);r&&a.setMeta(b,t.pos),e.dispatch(a)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",a),null!=b.getState(e.state)&&e.dispatch(e.state.tr.setMeta(b,-1))}function a(n){var a,s=b.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if(J(e,n.target)!=i&&!(a=X(e,t)))return o();a&&r(a,n)}}function Q(e,t,n){if(!(e.state.selection instanceof o.TextSelection))return null;for(var i=e.state.selection.$head,r=i.depth-1;r>=0;r--){var a=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var s=i.before(r);return e.endOfTextblock("vert"==t?n>0?"down":"up":n>0?"right":"left")?s:null}}return null}function J(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function X(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?w(e.state.doc.resolve(n.pos)):null}var ee=new o.PluginKey("fix-tables");function te(e,t){var n,i=function(t,i){"table"==t.type.spec.tableRole&&(n=function(e,t,n,i){var r=p.get(t);if(!r.problems)return i;i||(i=e.tr);for(var o,a,s=[],l=0;l<r.height;l++)s.push(0);for(var u=0;u<r.problems.length;u++){var c=r.problems[u];if("collision"==c.type){for(var h=t.nodeAt(c.pos),f=0;f<h.attrs.rowspan;f++)s[c.row+f]+=c.n;i.setNodeMarkup(i.mapping.map(n+1+c.pos),null,D(h.attrs,h.attrs.colspan-c.n,c.n))}else if("missing"==c.type)s[c.row]+=c.n;else if("overlong_rowspan"==c.type){var d=t.nodeAt(c.pos);i.setNodeMarkup(i.mapping.map(n+1+c.pos),null,A(d.attrs,"rowspan",d.attrs.rowspan-c.n))}else if("colwidth mismatch"==c.type){var v=t.nodeAt(c.pos);i.setNodeMarkup(i.mapping.map(n+1+c.pos),null,A(v.attrs,"colwidth",c.colwidth))}}for(var m=0;m<s.length;m++)s[m]&&(null==o&&(o=m),a=m);for(var g=0,y=n+1;g<r.height;g++){var b=t.child(g),w=y+b.nodeSize,C=s[g];if(C>0){var _="cell";b.firstChild&&(_=b.firstChild.type.spec.tableRole);for(var S=[],x=0;x<C;x++)S.push(k(e.schema)[_].createAndFill());i.insert(i.mapping.map(0!=g&&o!=g-1||a!=g?w-1:y+1),S)}y=w}return i.setMeta(ee,{fixTables:!0})}(e,t,i,n))};return t?t.doc!=e.doc&&function e(t,n,i,r){var o=t.childCount,a=n.childCount;e:for(var s=0,l=0;s<a;s++){for(var u=n.child(s),c=l,h=Math.min(o,s+3);c<h;c++)if(t.child(c)==u){l=c+1,i+=u.nodeSize;continue e}r(u,i),l<o&&t.child(l).sameMarkup(u)?e(t.child(l),u,i+1,r):u.nodesBetween(0,u.content.size,r,i+1),i+=u.nodeSize}}(t.doc,e.doc,0,i):e.doc.descendants(i),n}function ne(e){var t,n=e.selection,i=_(e),r=i.node(-1),o=i.start(-1),a=p.get(r);return(t=n instanceof F?a.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):a.findCell(i.pos-o)).tableStart=o,t.map=a,t.table=r,t}function ie(e,t,n){var i=t.map,r=t.tableStart,o=t.table,a=n>0?-1:0;M(i,o,n+a)&&(a=0==n||n==i.width?null:0);for(var s=0;s<i.height;s++){var l=s*i.width+n;if(n>0&&n<i.width&&i.map[l-1]==i.map[l]){var u=i.map[l],c=o.nodeAt(u);e.setNodeMarkup(e.mapping.map(r+u),null,R(c.attrs,n-i.colCount(u))),s+=c.attrs.rowspan-1}else{var h=null==a?k(o.type.schema).cell:o.nodeAt(i.map[l+a]).type,f=i.positionAt(s,n,o);e.insert(e.mapping.map(r+f),h.createAndFill())}}return e}function re(e,t){if(!C(e))return!1;if(t){var n=ne(e);t(ie(e.tr,n,n.left))}return!0}function oe(e,t){if(!C(e))return!1;if(t){var n=ne(e);t(ie(e.tr,n,n.right))}return!0}function ae(e,t,n){for(var i=t.map,r=t.table,o=t.tableStart,a=e.mapping.maps.length,s=0;s<i.height;){var l=s*i.width+n,u=i.map[l],c=r.nodeAt(u);if(n>0&&i.map[l-1]==u||n<i.width-1&&i.map[l+1]==u)e.setNodeMarkup(e.mapping.slice(a).map(o+u),null,D(c.attrs,n-i.colCount(u)));else{var h=e.mapping.slice(a).map(o+u);e.delete(h,h+c.nodeSize)}s+=c.attrs.rowspan}}function se(e,t){if(!C(e))return!1;if(t){var n=ne(e),i=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var r=n.right-1;ae(i,n,r),r!=n.left;r--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=p.get(n.table);t(i)}return!0}function le(e,t,n){for(var i=k(t.type.schema).header_cell,r=0;r<e.width;r++)if(t.nodeAt(e.map[r+n*e.width]).type!=i)return!1;return!0}function ue(e,t,n){for(var i=t.map,r=t.tableStart,o=t.table,a=r,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=[],u=n>0?-1:0;le(i,o,n+u)&&(u=0==n||n==i.height?null:0);for(var c=0,h=i.width*n;c<i.width;c++,h++)if(n>0&&n<i.height&&i.map[h]==i.map[h-i.width]){var f=i.map[h],d=o.nodeAt(f).attrs;e.setNodeMarkup(r+f,null,A(d,"rowspan",d.rowspan+1)),c+=d.colspan-1}else{var p=null==u?k(o.type.schema).cell:o.nodeAt(i.map[h+u*i.width]).type;l.push(p.createAndFill())}return e.insert(a,k(o.type.schema).row.create(null,l)),e}function ce(e,t){if(!C(e))return!1;if(t){var n=ne(e);t(ue(e.tr,n,n.top))}return!0}function he(e,t){if(!C(e))return!1;if(t){var n=ne(e);t(ue(e.tr,n,n.bottom))}return!0}function fe(e,t,n){for(var i=t.map,r=t.table,o=t.tableStart,a=0,s=0;s<n;s++)a+=r.child(s).nodeSize;var l=a+r.child(n).nodeSize,u=e.mapping.maps.length;e.delete(a+o,l+o);for(var c=0,h=n*i.width;c<i.width;c++,h++){var f=i.map[h];if(n>0&&f==i.map[h-i.width]){var d=r.nodeAt(f).attrs;e.setNodeMarkup(e.mapping.slice(u).map(f+o),null,A(d,"rowspan",d.rowspan-1)),c+=d.colspan-1}else if(n<i.width&&f==i.map[h+i.width]){var p=r.nodeAt(f),v=p.type.create(A(p.attrs,"rowspan",p.attrs.rowspan-1),p.content),m=i.positionAt(n+1,c,r);e.insert(e.mapping.slice(u).map(o+m),v),c+=p.attrs.colspan-1}}}function de(e,t){if(!C(e))return!1;if(t){var n=ne(e),i=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var r=n.bottom-1;fe(i,n,r),r!=n.top;r--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=p.get(n.table);t(i)}return!0}function pe(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function ve(e,t){var n=e.selection;if(!(n instanceof F)||n.$anchorCell.pos==n.$headCell.pos)return!1;var i=ne(e),r=i.map;if(function(e,t){for(var n=e.width,i=e.height,r=e.map,o=t.top*n+t.left,a=o,s=(t.bottom-1)*n+t.left,l=o+(t.right-t.left-1),u=t.top;u<t.bottom;u++){if(t.left>0&&r[a]==r[a-1]||t.right<n&&r[l]==r[l+1])return!0;a+=n,l+=n}for(var c=t.left;c<t.right;c++){if(t.top>0&&r[o]==r[o-n]||t.bottom<i&&r[s]==r[s+n])return!0;o++,s++}return!1}(r,i))return!1;if(t){for(var o,s,l=e.tr,u={},c=a.Fragment.empty,h=i.top;h<i.bottom;h++)for(var f=i.left;f<i.right;f++){var d=r.map[h*r.width+f],p=i.table.nodeAt(d);if(!u[d])if(u[d]=!0,null==o)o=d,s=p;else{pe(p)||(c=c.append(p.content));var v=l.mapping.map(d+i.tableStart);l.delete(v,v+p.nodeSize)}}if(l.setNodeMarkup(o+i.tableStart,null,A(R(s.attrs,s.attrs.colspan,i.right-i.left-s.attrs.colspan),"rowspan",i.bottom-i.top)),c.size){var m=o+1+s.content.size,g=pe(s)?o+1:m;l.replaceWith(g+i.tableStart,m+i.tableStart,c)}l.setSelection(new F(l.doc.resolve(o+i.tableStart))),t(l)}return!0}function me(e,t){var n=k(e.schema);return ge((function(e){return n[e.node.type.spec.tableRole]}))(e,t)}function ge(e){return function(t,n){var i,r,o=t.selection;if(o instanceof F){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,r=o.$anchorCell.pos}else{if(!(i=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(o.$from)))return!1;r=w(o.$from).pos}if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(n){var a=i.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=A(a,"rowspan",1)),a.colspan>1&&(a=A(a,"colspan",1));for(var u,c=ne(t),h=t.tr,f=0;f<c.right-c.left;f++)s.push(l?A(a,"colwidth",l&&l[f]?[l[f]]:null):a);for(var d=c.top;d<c.bottom;d++){var p=c.map.positionAt(d,c.left,c.table);d==c.top&&(p+=i.nodeSize);for(var v=c.left,m=0;v<c.right;v++,m++)v==c.left&&d==c.top||h.insert(u=h.mapping.map(p+c.tableStart,1),e({node:i,row:d,col:v}).createAndFill(s[m]))}h.setNodeMarkup(r,e({node:i,row:c.top,col:c.left}),s[0]),o instanceof F&&h.setSelection(new F(h.doc.resolve(o.$anchorCell.pos),u&&h.doc.resolve(u))),n(h)}return!0}}function ye(e,t){return function(n,i){if(!C(n))return!1;var r=_(n);if(r.nodeAfter.attrs[e]===t)return!1;if(i){var o=n.tr;n.selection instanceof F?n.selection.forEachCell((function(n,i){n.attrs[e]!==t&&o.setNodeMarkup(i,null,A(n.attrs,e,t))})):o.setNodeMarkup(r.pos,null,A(r.nodeAfter.attrs,e,t)),i(o)}return!0}}function ke(e,t,n){for(var i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),r=0;r<i.length;r++){var o=t.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function be(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!C(t))return!1;if(n){for(var i=k(t.schema),r=ne(t),o=t.tr,a=r.map.cellsInRect("column"==e?new d(r.left,0,r.right,r.map.height):"row"==e?new d(0,r.top,r.map.width,r.bottom):r),s=a.map((function(e){return r.table.nodeAt(e)})),l=0;l<a.length;l++)s[l].type==i.header_cell&&o.setNodeMarkup(r.tableStart+a[l],i.cell,s[l].attrs);if(0==o.steps.length)for(var u=0;u<a.length;u++)o.setNodeMarkup(r.tableStart+a[u],i.header_cell,s[u].attrs);n(o)}return!0}}(e):function(t,n){if(!C(t))return!1;if(n){var i=k(t.schema),r=ne(t),o=t.tr,a=ke("row",r,i),s=ke("column",r,i),l=("column"===e?a:"row"===e&&s)?1:0,u="column"==e?new d(0,l,1,r.map.height):"row"==e?new d(l,0,r.map.width,1):r,c="column"==e?s?i.cell:i.header_cell:"row"==e?a?i.cell:i.header_cell:i.cell;r.map.cellsInRect(u).forEach((function(e){var t=e+r.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,c,n.attrs)})),n(o)}return!0}}var we=be("row",{useDeprecatedLogic:!0}),Ce=be("column",{useDeprecatedLogic:!0}),_e=be("cell",{useDeprecatedLogic:!0});function Se(e){return function(t,n){if(!C(t))return!1;var i=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var i=e.index(-1)-1,r=e.before();i>=0;i--){var o=e.node(-1).child(i);if(o.childCount)return r-1-o.lastChild.nodeSize;r-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),l=e.after();s<a.childCount;s++){var u=a.child(s);if(u.childCount)return l+1;l+=u.nodeSize}}}(_(t),e);if(null!=i){if(n){var r=t.doc.resolve(i);n(t.tr.setSelection(o.TextSelection.between(r,x(r))).scrollIntoView())}return!0}}}function xe(e,t){for(var n=e.selection.$anchor,i=n.depth;i>0;i--)if("table"==n.node(i).type.spec.tableRole)return t&&t(e.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0;return!1}var Te=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Oe(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Oe(e,t,n,i,r,o){for(var a=0,s=!0,l=t.firstChild,u=e.firstChild,c=0,h=0;c<u.childCount;c++)for(var f=u.child(c).attrs,d=f.colspan,p=f.colwidth,v=0;v<d;v++,h++){var m=r==h?o:p&&p[v],g=m?m+"px":"";a+=m||i,m||(s=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=g}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Te.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,Oe(e,this.colgroup,this.table,this.cellMinWidth),!0)},Te.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var Ie=new o.PluginKey("tableColumnResizing");function Ee(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var i=e.View;void 0===i&&(i=Te);var r=e.lastColumnResizable;return void 0===r&&(r=!0),new o.Plugin({key:Ie,state:{init:function(e,t){return this.spec.props.nodeViews[k(t.schema).table.name]=function(e,t){return new i(e,n,t)},new Ae(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return Ie.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,i,r){var o=Ie.getState(e.state);if(!o.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var l=a.getBoundingClientRect(),u=l.right;t.clientX-l.left<=n?s=De(e,t,"left"):u-t.clientX<=n&&(s=De(e,t,"right"))}if(s!=o.activeHandle){if(!r&&-1!==s){var c=e.state.doc.resolve(s),h=c.node(-1),f=p.get(h),d=c.start(-1);if(f.colCount(c.pos-d)+c.nodeAfter.attrs.colspan-1==f.width-1)return}Me(e,s)}}}(e,n,t,0,r)},mouseleave:function(e){!function(e){var t=Ie.getState(e.state);t.activeHandle>-1&&!t.dragging&&Me(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var i=Ie.getState(e.state);if(-1==i.activeHandle||i.dragging)return!1;var r=e.state.doc.nodeAt(i.activeHandle),o=function(e,t,n){var i=n.colspan,r=n.colwidth,o=r&&r[r.length-1];if(o)return o;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,l=i;if(r)for(var u=0;u<i;u++)r[u]&&(s-=r[u],l--);return s/l}(e,i.activeHandle,r.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var i=Ie.getState(e.state);i.dragging&&(function(e,t,n){for(var i=e.state.doc.resolve(t),r=i.node(-1),o=p.get(r),a=i.start(-1),s=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=e.state.tr,u=0;u<o.height;u++){var c=u*o.width+s;if(!u||o.map[c]!=o.map[c-o.width]){var h=o.map[c],f=r.nodeAt(h).attrs,d=1==f.colspan?0:s-o.colCount(h);if(!f.colwidth||f.colwidth[d]!=n){var v=f.colwidth?f.colwidth.slice():Fe(f.colspan);v[d]=n,l.setNodeMarkup(a+h,null,A(f,"colwidth",v))}}}l.docChanged&&e.dispatch(l)}(e,i.activeHandle,Re(i.dragging,t,n)),e.dispatch(e.state.tr.setMeta(Ie,{setDragging:null})))}function s(t){if(!t.which)return a(t);var i=Ie.getState(e.state),r=Re(i.dragging,t,n);!function(e,t,n,i){for(var r=e.state.doc.resolve(t),o=r.node(-1),a=r.start(-1),s=p.get(o).colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.domAtPos(r.start(-1)).node;"TABLE"!=l.nodeName;)l=l.parentNode;Oe(o,l.firstChild,l,i,s,n)}(e,i.activeHandle,r,n)}e.dispatch(e.state.tr.setMeta(Ie,{setDragging:{startX:t.clientX,startWidth:o}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=Ie.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],i=e.doc.resolve(t),r=i.node(-1),o=p.get(r),a=i.start(-1),s=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan,u=0;u<o.height;u++){var c=s+u*o.width-1;if(!(s!=o.width&&o.map[c]==o.map[c+1]||0!=u&&o.map[c-1]==o.map[c-1-o.width])){var h=o.map[c],f=a+h+r.nodeAt(h).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(l.Decoration.widget(f,d))}}return l.DecorationSet.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})}var Ae=function(e,t){this.activeHandle=e,this.dragging=t};function De(e,t,n){var i=e.posAtCoords({left:t.clientX,top:t.clientY}),r=w(e.state.doc.resolve(i.pos));if(!r)return-1;if("right"==n)return r.pos;var o=p.get(r.node(-1)),a=r.start(-1),s=o.map.indexOf(r.pos-a);return s%o.width==0?-1:a+o.map[s-1]}function Re(e,t,n){return Math.max(n,e.startWidth+(t.clientX-e.startX))}function Me(e,t){e.dispatch(e.state.tr.setMeta(Ie,{setHandle:t}))}function Fe(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Pe(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new o.Plugin({key:b,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(b);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var i=e.mapping.mapResult(t);return i.deleted?null:i.pos}},props:{decorations:z,handleDOMEvents:{mousedown:Y},createSelectionBetween:function(e){if(null!=b.getState(e.state))return e.state.selection},handleTripleClick:K,handleKeyDown:G,handlePaste:Z},appendTransaction:function(e,n,i){return function(e,t,n){var i,r,a=(t||e).selection,s=(t||e).doc;if(a instanceof o.NodeSelection&&(r=a.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)i=F.create(s,a.from);else if("row"==r){var l=s.resolve(a.from+1);i=F.rowSelection(l,l)}else if(!n){var u=p.get(a.node),c=a.from+1;i=F.create(s,c+1,c+u.map[u.width*u.height-1])}}else a instanceof o.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var i=t.pos,r=n.pos,o=t.depth;o>=0&&!(t.after(o+1)<t.end(o));o--,i++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,r--);return i==r&&/row|table/.test(t.node(o).type.spec.tableRole)}(a)?i=o.TextSelection.create(s,a.from):a instanceof o.TextSelection&&function(e){for(var t,n,i=e.$from,r=e.$to,o=i.depth;o>0;o--){var a=i.node(o);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=r.depth;s>0;s--){var l=r.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===r.parentOffset}(a)&&(i=o.TextSelection.create(s,a.$from.start(),a.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}(i,te(i,n),t)}})}Ae.prototype.apply=function(e){var t=this,n=e.getMeta(Ie);if(n&&null!=n.setHandle)return new Ae(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Ae(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var i=e.mapping.map(t.activeHandle,-1);S(e.doc.resolve(i))||(i=null),t=new Ae(i,t.dragging)}return t}},W8i8:function(e,t,n){e.exports=n("V2qZ")},WOAq:function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),r=n("L3Qv"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.a.Buffer:void 0;t.a=(s?s.isBuffer:void 0)||r.a}).call(this,n("3UD+")(e))},XNSO:function(e,t,n){e.exports=n("hyZr")},XqMk:function(e,t,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;t.a=i},ahru:function(e,t,n){e.exports=n("UxO+")},fScX:function(e,t,n){e.exports=n("MEpN")},fwbU:function(e,t,n){"use strict";n.r(t),n.d(t,"keydownHandler",(function(){return y})),n.d(t,"keymap",(function(){return g}));for(var i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),u="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=o&&(l||+o[1]<57)||s&&l,h=0;h<10;h++)i[48+h]=i[96+h]=String(h);for(h=1;h<=24;h++)i[h+111]="F"+h;for(h=65;h<=90;h++)i[h]=String.fromCharCode(h+32),r[h]=String.fromCharCode(h);for(var f in i)r.hasOwnProperty(f)||(r[f]=i[f]);var d=n("UxO+"),p="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function v(e){var t,n,i,r,o=e.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(var s=0;s<o.length-1;s++){var l=o[s];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);p?r=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function m(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function g(e){return new d.Plugin({props:{handleKeyDown:y(e)}})}function y(e){var t=function(e){var t=Object.create(null);for(var n in e)t[v(n)]=e[n];return t}(e);return function(e,n){var o,s=function(e){var t=!(c&&(e.ctrlKey||e.altKey||e.metaKey)||(a||u)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:i)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),l=1==s.length&&" "!=s,h=t[m(s,n,!l)];if(h&&h(e.state,e.dispatch,e))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(o=i[n.keyCode])&&o!=s){var f=t[m(o,n,!0)];if(f&&f(e.state,e.dispatch,e))return!0}else if(l&&n.shiftKey){var d=t[m(s,n,!0)];if(d&&d(e.state,e.dispatch,e))return!0}return!1}}},g1Xn:function(e,t,n){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return r(t[a][1][e]||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,l,u=[],c=0,h=e.length,f=h,d="string"!==i.getTypeOf(e);c<e.length;)f=h-c,d?(t=e[c++],n=c<h?e[c++]:0,r=c<h?e[c++]:0):(t=e.charCodeAt(c++),n=c<h?e.charCodeAt(c++):0,r=c<h?e.charCodeAt(c++):0),a=(3&t)<<4|n>>4,s=f>1?(15&n)<<2|r>>6:64,l=f>2?63&r:64,u.push(o.charAt(t>>2)+o.charAt(a)+o.charAt(s)+o.charAt(l));return u.join("")},n.decode=function(e){var t,n,i,a,s,l,u=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)i=o.indexOf(e.charAt(u++)),t=(15&(a=o.indexOf(e.charAt(u++))))<<4|(s=o.indexOf(e.charAt(u++)))>>2,n=(3&s)<<6|(l=o.indexOf(e.charAt(u++))),h[c++]=i<<2|a>>4,64!==s&&(h[c++]=t),64!==l&&(h[c++]=n);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),a=e("./stream/Crc32Probe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}o=e("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,i){var o=r,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=i?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),a=e("../crc32"),s=e("../signature"),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},u=function(e,t,n,r,u,c){var h,f,d=e.file,p=e.compression,v=c!==o.utf8encode,m=i.transformTo("string",c(d.name)),g=i.transformTo("string",o.utf8encode(d.name)),y=d.comment,k=i.transformTo("string",c(y)),b=i.transformTo("string",o.utf8encode(y)),w=g.length!==d.name.length,C=b.length!==y.length,_="",S="",x="",T=d.dir,O=d.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),v||!w&&!C||(E|=2048);var A,D,R=0,M=0;T&&(R|=16),"UNIX"===u?(M=798,R|=(D=A=d.unixPermissions,A||(D=T?16893:33204),(65535&D)<<16)):(M=20,R|=63&(d.dosPermissions||0)),h=O.getUTCHours(),h<<=6,h|=O.getUTCMinutes(),h<<=5,h|=O.getUTCSeconds()/2,f=O.getUTCFullYear()-1980,f<<=4,f|=O.getUTCMonth()+1,f<<=5,f|=O.getUTCDate(),w&&(S=l(1,1)+l(a(m),4)+g,_+="up"+l(S.length,2)+S),C&&(x=l(1,1)+l(a(k),4)+b,_+="uc"+l(x.length,2)+x);var F="";return F+="\n\0",F+=l(E,2),F+=p.magic,F+=l(h,2),F+=l(f,2),F+=l(I.crc32,4),F+=l(I.compressedSize,4),F+=l(I.uncompressedSize,4),F+=l(m.length,2),F+=l(_.length,2),{fileRecord:s.LOCAL_FILE_HEADER+F+m+_,dirRecord:s.CENTRAL_FILE_HEADER+l(M,2)+F+l(k.length,2)+"\0\0\0\0"+l(R,4)+l(r,4)+m+_+k}},c=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function h(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(h,r),h.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=function(e,t,n,r,o){var a=i.transformTo("string",o(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},h.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},h.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.dir,l=n.date;n._compressWorker(r,n.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:s,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(s){o.error(s)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.5.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),a=(i=e("./utils"),e("./zipEntries")),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";var i=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),c=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),d=function(e,t,n){var i,a,c=r.getTypeOf(t),d=r.extend(n||{},s);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=v(e)),d.createFolders&&(i=p(e))&&m.call(this,i,!0),n&&void 0!==n.binary||(d.binary=!("string"===c&&!1===d.binary&&!1===d.base64)),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",c="string"),a=t instanceof l||t instanceof o?t:h.isNode&&h.isStream(t)?new f(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var g=new u(e,a,d);this.files[e]=g},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:s.createFolders,e=v(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1===arguments.length){if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return d.call(this,e=this.root+e,t,n),this},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=m.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),t=c.generateWorker(this,n,n.comment||this.comment||"")}catch(s){(t=new o("error")).error(s)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(h){}function c(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,i.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(h){this._worker=new o("error"),this._worker.error(h)}}c.prototype={accumulate:function(e){return t=this,n=e,new l.Promise((function(e,r){var o=[],s=t._internalType,l=t._outputType,u=t._mimeType;t.on("data",(function(e,t){o.push(e),n&&n(t)})).on("error",(function(e){o=[],r(e)})).on("end",(function(){try{var t=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),u);e(t)}catch(h){r(h)}o=[]})).resume()}));var t,n},on:function(e,t){var n=this;return this._worker.on(e,"data"===e?function(e){t.call(n,e.data,e.meta)}:function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if((r=e[t++])<128)l[n++]=r;else if((o=s[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<a;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(u,a),u.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),l=t;a!==t.length&&(r.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,i.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function l(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)i.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+n,o)):e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=c.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return c.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var d={};d.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},d.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return d[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,l){return s.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var c,h=n.getTypeOf(t);return h?("arraybuffer"===h?t=n.transformTo("uint8array",t):"string"===h&&(l?t=r.decode(t):o&&!0!==a&&(t=u(c=t,i.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(s.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){(t=new s("error")).error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)l.prototype[u[h]]=c;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}t.exports=function(e){1!==u.push(e)||i||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(r,i)}));"error"===a.status&&i(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}t.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)d(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},u.reject=function(e){var t=new this(r);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(r);++l<n;)c(e[l],l);return u;function c(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(u,a))}),(function(e){i||(i=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i=-1,a=new this(r);++i<t;)this.resolve(e[i]).then((function(e){n||(n=!0,o.resolve(a,e))}),(function(e){n||(n=!0,o.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,l,u,h,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,d.input="string"==typeof e?o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?new Uint8Array(e):e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(n=i.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(f="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===c.call(v)?new Uint8Array(v):v,n=i.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=p-u,u&&r.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)a.set(o=e[t],r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,u=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)u[i++]=r;else if((o=a[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(u[i++]=55296|(r-=65536)>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages");function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function m(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+258,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=258-(f-o),o=f-258,i>a){if(e.match_start=t,a=i,i>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=h[t&c])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function g(e){var t,n,i,o,l,u,c,h,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=p?i-p:0}while(--n);t=n=p;do{i=e.prev[--t],e.prev[t]=i>=p?i-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(c=e.window,h=e.strstart+e.lookahead,d=void 0,(d=(u=e.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(u.avail_in-=d,r.arraySet(c,u.input,u.next_in,d,h),1===u.state.wrap?u.adler=a(u.adler,c,d,h):2===u.state.wrap&&(u.adler=s(u.adler,c,d,h)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,i;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,i,r;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function _(e){var t,n=C(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,i,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||a<0||a>4)return u(e,-2);8===i&&(i=9);var l=new w;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,_(e)}i=[new b(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(g(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&d(e,!1),1)})),new b(4,4,8,4,y),new b(4,5,16,8,y),new b(4,6,32,32,y),new b(4,4,16,16,k),new b(8,16,32,32,k),new b(8,16,128,128,k),new b(8,32,128,256,k),new b(32,128,258,1024,k),new b(32,258,258,4096,k)],n.deflateInit=function(e,t){return S(e,t,8,15,8,0)},n.deflateInit2=S,n.deflateReset=_,n.deflateResetKeep=C,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},n.deflate=function(e,t){var n,r,a,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var m=8+(r.w_bits-8<<4)<<8;m|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=32),m+=31-m%31,r.status=113,v(r,m),0!==r.strstart&&(v(r,e.adler>>>16),v(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===r.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(g(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=258){if(g(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(v(r,e.adler>>>16),v(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},n.deflateSetDictionary=function(e,t){var n,i,o,s,l,u,c,f,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,g(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,a,s,l,u,c,h,f,d,p,v,m,g,y,k,b,w,C,_,S,x,T;x=e.input,r=(i=e.next_in)+(e.avail_in-5),T=e.output,a=(o=e.next_out)-(t-e.avail_out),s=o+(e.avail_out-257),l=(n=e.state).dmax,u=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=x[i++]<<p,d+=x[i++]<<(p+=8),p+=8),k=v[d&g];t:for(;;){if(d>>>=b=k>>>24,p-=b,0==(b=k>>>16&255))T[o++]=65535&k;else{if(!(16&b)){if(0==(64&b)){k=v[(65535&k)+(d&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&k,(b&=15)&&(p<b&&(d+=x[i++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=x[i++]<<p,d+=x[i++]<<(p+=8),p+=8),k=m[d&y];n:for(;;){if(d>>>=b=k>>>24,p-=b,!(16&(b=k>>>16&255))){if(0==(64&b)){k=m[(65535&k)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&k,p<(b&=15)&&(d+=x[i++]<<p,(p+=8)<b&&(d+=x[i++]<<p,p+=8)),(C+=d&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=b,p-=b,C>(b=o-a)){if((b=C-b)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,S=f,0===h){if(_+=u-b,b<w){w-=b;do{T[o++]=f[_++]}while(--b);_=o-C,S=T}}else if(h<b){if(_+=u+h-b,(b-=h)<w){w-=b;do{T[o++]=f[_++]}while(--b);if(_=0,h<w){w-=b=h;do{T[o++]=f[_++]}while(--b);_=o-C,S=T}}}else if(_+=h-b,b<w){w-=b;do{T[o++]=f[_++]}while(--b);_=o-C,S=T}for(;w>2;)T[o++]=S[_++],T[o++]=S[_++],T[o++]=S[_++],w-=3;w&&(T[o++]=S[_++],w>1&&(T[o++]=S[_++]))}else{_=o-C;do{T[o++]=T[_++],T[o++]=T[_++],T[o++]=T[_++],w-=3}while(w>2);w&&(T[o++]=T[_++],w>1&&(T[o++]=T[_++]))}break}}break}}while(i<r&&o<s);d&=(1<<(p-=(w=p>>3)<<3))-1,e.next_in=i-=w,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees");function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function f(e,t){var n,i;return e&&e.state?(t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==(i=e.state).window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,h(e))):-2}function d(e,t){var n,i;return e?(i=new u,e.state=i,i.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var p,v,m=!0;function g(e){if(m){var t;for(p=new i.Buf32(512),v=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,v,0,e.work,{bits:5}),m=!1}e.lencode=p,e.lenbits=9,e.distcode=v,e.distbits=5}function y(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=h,n.inflateReset2=f,n.inflateResetKeep=c,n.inflateInit=function(e){return d(e,15)},n.inflateInit2=d,n.inflate=function(e,t){var n,u,c,h,f,d,p,v,m,k,b,w,C,_,S,x,T,O,I,E,A,D,R,M,F=0,P=new i.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,c=e.output,h=e.next_in,u=e.input,v=n.hold,m=n.bits,k=d=e.avail_in,b=p=e.avail_out,D=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(2&n.wrap&&35615===v){n.check=0,P[0]=255&v,P[1]=v>>>8&255,n.check=o(n.check,P,2,0),v=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=30;break}if(m-=4,A=8+(15&(v>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<A,e.adler=n.check=1,n.mode=512&v?10:12,v=0,m=0;break;case 2:for(;m<16;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(P[0]=255&v,P[1]=v>>>8&255,n.check=o(n.check,P,2,0)),v=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}n.head&&(n.head.time=v),512&n.flags&&(P[0]=255&v,P[1]=v>>>8&255,P[2]=v>>>16&255,P[3]=v>>>24&255,n.check=o(n.check,P,4,0)),v=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(P[0]=255&v,P[1]=v>>>8&255,n.check=o(n.check,P,2,0)),v=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(P[0]=255&v,P[1]=v>>>8&255,n.check=o(n.check,P,2,0)),v=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>d&&(w=d),w&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,h,w,A)),512&n.flags&&(n.check=o(n.check,u,w,h)),d-=w,h+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;w=0;do{A=u[h+w++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&w<d);if(512&n.flags&&(n.check=o(n.check,u,w,h)),d-=w,h+=w,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;w=0;do{A=u[h+w++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&w<d);if(512&n.flags&&(n.check=o(n.check,u,w,h)),d-=w,h+=w,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}v=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}e.adler=n.check=l(v),v=0,m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,n.hold=v,n.bits=m,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}switch(n.last=1&v,m-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===t){v>>>=2,m-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}v>>>=2,m-=2;break;case 14:for(v>>>=7&m,m-=7&m;m<32;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,v=0,m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(w>d&&(w=d),w>p&&(w=p),0===w)break e;i.arraySet(c,u,h,w,f),d-=w,h+=w,p-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;m<14;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(n.nlen=257+(31&v),m-=5,n.ndist=1+(31&(v>>>=5)),m-=5,n.ncode=4+(15&(v>>>=5)),v>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}n.lens[z[n.have++]]=7&v,v>>>=3,m-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D=s(0,n.lens,0,19,n.lencode,0,n.work,R={bits:n.lenbits}),n.lenbits=R.bits,D){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;x=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,T=65535&F,!((S=F>>>24)<=m);){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(T<16)v>>>=S,m-=S,n.lens[n.have++]=T;else{if(16===T){for(M=S+2;m<M;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(v>>>=S,m-=S,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}A=n.lens[n.have-1],w=3+(3&v),v>>>=2,m-=2}else if(17===T){for(M=S+3;m<M;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}m-=S,A=0,w=3+(7&(v>>>=S)),v>>>=3,m-=3}else{for(M=S+7;m<M;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}m-=S,A=0,w=11+(127&(v>>>=S)),v>>>=7,m-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=A}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,D=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R={bits:n.lenbits}),n.lenbits=R.bits,D){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,D=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R={bits:n.distbits}),n.distbits=R.bits,D){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,n.hold=v,n.bits=m,a(e,b),f=e.next_out,c=e.output,p=e.avail_out,h=e.next_in,u=e.input,d=e.avail_in,v=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;x=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,T=65535&F,!((S=F>>>24)<=m);){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(x&&0==(240&x)){for(O=S,I=x,E=T;x=(F=n.lencode[E+((v&(1<<O+I)-1)>>O)])>>>16&255,T=65535&F,!(O+(S=F>>>24)<=m);){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}v>>>=O,m-=O,n.back+=O}if(v>>>=S,m-=S,n.back+=S,n.length=T,0===x){n.mode=26;break}if(32&x){n.back=-1,n.mode=12;break}if(64&x){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&x,n.mode=22;case 22:if(n.extra){for(M=n.extra;m<M;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;x=(F=n.distcode[v&(1<<n.distbits)-1])>>>16&255,T=65535&F,!((S=F>>>24)<=m);){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(0==(240&x)){for(O=S,I=x,E=T;x=(F=n.distcode[E+((v&(1<<O+I)-1)>>O)])>>>16&255,T=65535&F,!(O+(S=F>>>24)<=m);){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}v>>>=O,m-=O,n.back+=O}if(v>>>=S,m-=S,n.back+=S,64&x){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&x,n.mode=24;case 24:if(n.extra){for(M=n.extra;m<M;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(n.offset>(w=b-p)){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C=w>n.wnext?n.wsize-(w-=n.wnext):n.wnext-w,w>n.length&&(w=n.length),_=n.window}else _=c,C=f-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{c[f++]=_[C++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===d)break e;d--,v|=u[h++]<<m,m+=8}if(e.total_out+=b-=p,n.total+=b,b&&(e.adler=n.check=n.flags?o(n.check,c,b,f-b):r(n.check,c,b,f-b)),b=p,(n.flags?v:l(v))!==n.check){e.msg="incorrect data check",n.mode=30;break}v=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===d)break e;d--,v+=u[h++]<<m,m+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}v=0,m=0}n.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,n.hold=v,n.bits=m,(n.wsize||b!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,b-e.avail_out)?(n.mode=31,-4):(b-=e.avail_out,e.total_in+=k-=e.avail_in,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?o(n.check,c,b,e.next_out-b):r(n.check,c,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===b||4===t)&&0===D&&(D=-5),D)},n.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:y(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,h,f){var d,p,v,m,g,y,k,b,w,C=f.bits,_=0,S=0,x=0,T=0,O=0,I=0,E=0,A=0,D=0,R=0,M=null,F=0,P=new i.Buf16(16),z=new i.Buf16(16),N=null,L=0;for(_=0;_<=15;_++)P[_]=0;for(S=0;S<l;S++)P[t[n+S]]++;for(O=C,T=15;T>=1&&0===P[T];T--);if(O>T&&(O=T),0===T)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(x=1;x<T&&0===P[x];x++);for(O<x&&(O=x),A=1,_=1;_<=15;_++)if(A<<=1,(A-=P[_])<0)return-1;if(A>0&&(0===e||1!==T))return-1;for(z[1]=0,_=1;_<15;_++)z[_+1]=z[_]+P[_];for(S=0;S<l;S++)0!==t[n+S]&&(h[z[t[n+S]]++]=S);if(0===e?(M=N=h,y=19):1===e?(M=r,F-=257,N=o,L-=257,y=256):(M=a,N=s,y=-1),R=0,S=0,_=x,g=c,I=O,E=0,v=-1,m=(D=1<<O)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){k=_-E,h[S]<y?(b=0,w=h[S]):h[S]>y?(b=N[L+h[S]],w=M[F+h[S]]):(b=96,w=0),d=1<<_-E,x=p=1<<I;do{u[g+(R>>E)+(p-=d)]=k<<24|b<<16|w|0}while(0!==p);for(d=1<<_-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,S++,0==--P[_]){if(_===T)break;_=t[n+h[S]]}if(_>O&&(R&m)!==v){for(0===E&&(E=O),g+=x,A=1<<(I=_-E);I+E<T&&!((A-=P[I+E])<=0);)I++,A<<=1;if(D+=1<<I,1===e&&D>852||2===e&&D>592)return 1;u[v=R&m]=O<<24|I<<16|g-c|0}}return 0!==R&&(u[g+R]=_-E<<24|64<<16|0),f.bits=O,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,v,m,g=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function _(e,t,n){C(e,n[2*t],n[2*t+1])}function S(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function x(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=S(o[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function E(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&I(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!I(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function A(e,t,n){var i,r,s,l,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?_(e,r,t):(_(e,(s=f[r])+256+1,t),0!==(l=o[s])&&C(e,r-=d[s],l),_(e,s=b(--i),n),0!==(l=a[s])&&C(e,i-=g[s],l))}while(u<e.last_lit);_(e,256,t)}function D(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)E(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,E(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,v++),l[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=d&&(a=f[i-d]),e.opt_len+=(s=l[2*i])*(o+a),h&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),x(o,u,e.bl_count)}function R(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function M(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<u)do{_(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(_(e,r,e.bl_tree),s--),_(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(_(e,17,e.bl_tree),C(e,s-3,3)):(_(e,18,e.bl_tree),C(e,s-11,7));s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4)}}r(g);var F=!1;function P(e,t,n,r){C(e,0+(r?1:0),3),function(e,t,n,r){O(e),w(e,n),w(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(d[i]=n,e=0;e<1<<o[i];e++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(g[i]=r,e=0;e<1<<a[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(g[i]=r<<7,e=0;e<1<<a[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(x(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=S(e,5);p=new y(u,o,257,286,15),v=new y(c,a,0,30,15),m=new y(new Array(0),s,0,19,7)}(),F=!0),e.l_desc=new k(e.dyn_ltree,p),e.d_desc=new k(e.dyn_dtree,v),e.bl_desc=new k(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,T(e)},n._tr_stored_block=P,n._tr_flush_block=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?P(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),A(e,u,c)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*l[r]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),i&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){C(e,2,3),_(e,256,u),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},hyZr:function(e,t,n){"use strict";n.r(t),n.d(t,"HistoryState",(function(){return h})),n.d(t,"closeHistory",(function(){return k})),n.d(t,"history",(function(){return C})),n.d(t,"redo",(function(){return S})),n.d(t,"redoDepth",(function(){return T})),n.d(t,"undo",(function(){return _})),n.d(t,"undoDepth",(function(){return x}));var i=function(){};i.prototype.append=function(e){return e.length?(e=i.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},i.prototype.prepend=function(e){return e.length?i.from(e).append(this):this},i.prototype.appendInner=function(e){return new o(this,e)},i.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?i.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},i.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},i.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},i.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(t,n){return i.push(e(t,n))}),t,n),i},i.from=function(e){return e instanceof i?e:e&&e.length?new r(e):i.empty};var r=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var r=t;r<n;r++)if(!1===e(this.values[r],i+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],i+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(i);i.empty=new r([]);var o=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),i))&&!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,i+r))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,i){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,i+r))&&!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,i))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(i),a=i,s=n("CsC6"),l=n("UxO+"),u=function(e,t){this.items=e,this.eventCount=t};u.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var i,r,o=this.items.length;;o--)if(this.items.get(o-1).selection){--o;break}t&&(i=this.remapping(o,this.items.length),r=i.maps.length);var a,s,l=e.tr,h=[],f=[];return this.items.forEach((function(e,t){if(!e.step)return i||(i=n.remapping(o,t+1),r=i.maps.length),r--,void f.push(e);if(i){f.push(new c(e.map));var d,p=e.step.map(i.slice(r));p&&l.maybeStep(p).doc&&h.push(new c(d=l.mapping.maps[l.mapping.maps.length-1],null,null,h.length+f.length)),r--,d&&i.appendMap(d,r)}else l.maybeStep(e.step);return e.selection?(a=i?e.selection.map(i.slice(r)):e.selection,s=new u(n.items.slice(0,o).append(f.reverse().concat(h)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:a}},u.prototype.addTransform=function(e,t,n,i){for(var r=[],o=this.eventCount,a=this.items,s=!i&&a.length?a.get(a.length-1):null,l=0;l<e.steps.length;l++){var h,d=e.steps[l].invert(e.docs[l]),p=new c(e.mapping.maps[l],d,t);(h=s&&s.merge(p))&&(p=h,l?r.pop():a=a.slice(0,a.length-1)),r.push(p),t&&(o++,t=null),i||(s=p)}var v,m,g,y=o-n.depth;return y>f&&(m=y,(v=a).forEach((function(e,t){if(e.selection&&0==m--)return g=t,!1})),a=v.slice(g),o-=y),new u(a.append(r),o)},u.prototype.remapping=function(e,t){var n=new s.b;return this.items.forEach((function(t,i){n.appendMap(t.map,null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null)}),e,t),n},u.prototype.addMaps=function(e){return 0==this.eventCount?this:new u(this.items.append(e.map((function(e){return new c(e)}))),this.eventCount)},u.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),i);var s=t;this.items.forEach((function(t){var i=r.getMirror(--s);if(null!=i){o=Math.min(o,i);var l=r.maps[i];if(t.step){var u=e.steps[i].invert(e.docs[i]),h=t.selection&&t.selection.map(r.slice(s+1,i));h&&a++,n.push(new c(l,u,h))}else n.push(new c(l))}}),i);for(var l=[],h=t;h<o;h++)l.push(new c(r.maps[h]));var f=this.items.slice(0,i).append(l).append(n),d=new u(f,a);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},u.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},u.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,i=[],r=0;return this.items.forEach((function(o,a){if(a>=e)i.push(o),o.selection&&r++;else if(o.step){var s=o.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var u=o.selection&&o.selection.map(t.slice(n));u&&r++;var h,f=new c(l.invert(),s,u),d=i.length-1;(h=i.length&&i[d].merge(f))?i[d]=h:i.push(f)}}else o.map&&n--}),this.items.length,0),new u(a.from(i.reverse()),r)},u.empty=new u(a.empty,0);var c=function(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i};c.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new c(t.getMap().invert(),t,this.selection)}};var h=function(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i},f=20;function d(e){var t=[];return e.forEach((function(e,n,i,r){return t.push(i,r)})),t}function p(e,t){if(!e)return null;for(var n=[],i=0;i<e.length;i+=2){var r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}function v(e,t,n,i){var r=y(t),o=b.get(t).spec.config,a=(i?e.undone:e.done).popEvent(t,r);if(a){var s=a.selection.resolve(a.transform.doc),l=(i?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,r),u=new h(i?l:a.remaining,i?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(b,{redo:i,historyState:u}).scrollIntoView())}}var m=!1,g=null;function y(e){var t=e.plugins;if(g!=t){m=!1,g=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){m=!0;break}}return m}function k(e){return e.setMeta(w,!0)}var b=new l.PluginKey("history"),w=new l.PluginKey("closeHistory");function C(e){return new l.Plugin({key:b,state:{init:function(){return new h(u.empty,u.empty,null,0)},apply:function(t,n,i){return function(e,t,n,i){var r,o=n.getMeta(b);if(o)return o.historyState;n.getMeta(w)&&(e=new h(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(b))return a.getMeta(b).redo?new h(e.done.addTransform(n,null,i,y(t)),e.undone,d(n.mapping.maps[n.steps.length-1]),e.prevTime):new h(e.done,e.undone.addTransform(n,null,i,y(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new h(e.done.rebased(n,r),e.undone.rebased(n,r),p(e.prevRanges,n.mapping),e.prevTime):new h(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),p(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,i){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),l=a?p(e.prevRanges,n.mapping):d(n.mapping.maps[n.steps.length-1]);return new h(e.done.addTransform(n,s?t.selection.getBookmark():null,i,y(t)),u.empty,l,n.time)}(n,i,t,e)}},config:e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500}})}function _(e,t){var n=b.getState(e);return!(!n||0==n.done.eventCount||(t&&v(n,e,t,!1),0))}function S(e,t){var n=b.getState(e);return!(!n||0==n.undone.eventCount||(t&&v(n,e,t,!0),0))}function x(e){var t=b.getState(e);return t?t.done.eventCount:0}function T(e){var t=b.getState(e);return t?t.undone.eventCount:0}},"wSl+":function(e,t,n){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return r(t[a][1][e]||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)a.set(o=e[t],r),r+=o.length;return a}},a={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],2:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,u=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)u[i++]=r;else if((o=a[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(u[i++]=55296|(r-=65536)>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},{}],4:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages");function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function m(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+258,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=258-(f-o),o=f-258,i>a){if(e.match_start=t,a=i,i>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=h[t&c])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function g(e){var t,n,i,o,l,u,c,h,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=p?i-p:0}while(--n);t=n=p;do{i=e.prev[--t],e.prev[t]=i>=p?i-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(c=e.window,h=e.strstart+e.lookahead,d=void 0,(d=(u=e.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(u.avail_in-=d,r.arraySet(c,u.input,u.next_in,d,h),1===u.state.wrap?u.adler=a(u.adler,c,d,h):2===u.state.wrap&&(u.adler=s(u.adler,c,d,h)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,i;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,i,r;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function _(e){var t,n=C(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,i,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||a<0||a>4)return u(e,-2);8===i&&(i=9);var l=new w;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,_(e)}i=[new b(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(g(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&d(e,!1),1)})),new b(4,4,8,4,y),new b(4,5,16,8,y),new b(4,6,32,32,y),new b(4,4,16,16,k),new b(8,16,32,32,k),new b(8,16,128,128,k),new b(8,32,128,256,k),new b(32,128,258,1024,k),new b(32,258,258,4096,k)],n.deflateInit=function(e,t){return S(e,t,8,15,8,0)},n.deflateInit2=S,n.deflateReset=_,n.deflateResetKeep=C,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},n.deflate=function(e,t){var n,r,a,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var m=8+(r.w_bits-8<<4)<<8;m|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=32),m+=31-m%31,r.status=113,v(r,m),0!==r.strstart&&(v(r,e.adler>>>16),v(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),f(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===r.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(g(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=258){if(g(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(v(r,e.adler>>>16),v(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},n.deflateSetDictionary=function(e,t){var n,i,o,s,l,u,c,f,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,g(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,v,m,g=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function _(e,t,n){C(e,n[2*t],n[2*t+1])}function S(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function x(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=S(o[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function E(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&I(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!I(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function A(e,t,n){var i,r,s,l,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?_(e,r,t):(_(e,(s=f[r])+256+1,t),0!==(l=o[s])&&C(e,r-=d[s],l),_(e,s=b(--i),n),0!==(l=a[s])&&C(e,i-=g[s],l))}while(u<e.last_lit);_(e,256,t)}function D(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)E(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,E(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,v++),l[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=d&&(a=f[i-d]),e.opt_len+=(s=l[2*i])*(o+a),h&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),x(o,u,e.bl_count)}function R(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function M(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<u)do{_(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(_(e,r,e.bl_tree),s--),_(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(_(e,17,e.bl_tree),C(e,s-3,3)):(_(e,18,e.bl_tree),C(e,s-11,7));s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4)}}r(g);var F=!1;function P(e,t,n,r){C(e,0+(r?1:0),3),function(e,t,n,r){O(e),w(e,n),w(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(d[i]=n,e=0;e<1<<o[i];e++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(g[i]=r,e=0;e<1<<a[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(g[i]=r<<7,e=0;e<1<<a[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(x(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=S(e,5);p=new y(u,o,257,286,15),v=new y(c,a,0,30,15),m=new y(new Array(0),s,0,19,7)}(),F=!0),e.l_desc=new k(e.dyn_ltree,p),e.d_desc=new k(e.dyn_dtree,v),e.bl_desc=new k(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,T(e)},n._tr_stored_block=P,n._tr_flush_block=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?P(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),A(e,u,c)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*l[r]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),i&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){C(e,2,3),_(e,256,u),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":1}],8:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},xutz:function(e,t,n){"use strict";(function(e){var i=n("XqMk"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.a.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n("3UD+")(e))},zUnb:function(e,t,n){"use strict";var i,r,o,a,s,l,u,c,h;n.r(t);var f={};function d(e){return"function"==typeof e}n.r(f),n.d(f,"swing",(function(){return _R})),n.d(f,"linear",(function(){return SR})),n.d(f,"easeOutElastic",(function(){return xR}));var p=!1,v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=e},get useDeprecatedSynchronousErrorHandling(){return p}};function m(e){setTimeout((function(){throw e}),0)}var g={closed:!0,next:function(e){},error:function(e){if(v.useDeprecatedSynchronousErrorHandling)throw e;m(e)},complete:function(){}},y=Array.isArray||function(e){return e&&"number"==typeof e.length};function k(e){return null!==e&&"object"==typeof e}var b,w,C=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),_=((w=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(d(i))try{i.call(this)}catch(u){t=u instanceof C?S(u.errors):[u]}if(y(r))for(var a=-1,s=r.length;++a<s;){var l=r[a];if(k(l))try{l.unsubscribe()}catch(u){t=t||[],u instanceof C?t=t.concat(S(u.errors)):t.push(u)}}if(t)throw new C(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((b=new w).closed=!0,b),w);function S(e){return e.reduce((function(e,t){return e.concat(t instanceof C?t.errors:t)}),[])}var x="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=g;break;case 1:if(!e){o.destination=g;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new O(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new O(_assertThisInitialized(o),e,i,r)}return o}return _createClass(n,[{key:x,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(_),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a,s;_classCallCheck(this,n),(a=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(a);return d(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==g&&(d((l=Object.create(i)).unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=l,a._next=s,a._error=r,a._complete=o,a}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):m(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;m(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw n;m(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(m(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(T),I="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(e){return e}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return D(t)}function D(e){return 0===e.length?E:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var R,M=((R=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof T)return e;if(e[x])return e[x]()}return e||t||n?new T(e,t,n):new T(g)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||v.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),v.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof T?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=F(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:I,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:D(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=F(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new R(e)},R);function F(e){if(e||(e=v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var P,z=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),N=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(_),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).destination=e,i}return n}(T),j=((P=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:x,value:function(){return new L(this)}},{key:"lift",value:function(e){var t=new V(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new z;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new z;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new z;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new z;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new z;return this.hasError?(e.error(this.thrownError),_.EMPTY):this.isStopped?(e.complete(),_.EMPTY):(this.observers.push(e),new N(this,e))}},{key:"asObservable",value:function(){var e=new M;return e.source=this,e}}]),n}(M)).create=function(e,t){return new V(e,t)},P),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).destination=e,r.source=i,r}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):_.EMPTY}}]),n}(j);function B(e){return e&&"function"==typeof e.schedule}var H=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=i,o.outerIndex=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(T),G=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};var U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",W=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function q(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var K=function(e){if(e&&"function"==typeof e[I])return i=e,function(e){var t=i[I]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(W(e))return G(e);if(q(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,m),e};if(e&&"function"==typeof e[U])return t=e,function(e){for(var n=t[U]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,r=k(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function Z(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new H(e,n,i);if(!r.closed)return t instanceof M?t.subscribe(r):K(t)(r)}var Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(T);function Q(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new J(e,t))}}var J=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new X(e,this.project,this.thisArg))}}]),e}(),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=i,o.count=0,o.thisArg=r||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(T);function ee(e,t){return new M((function(n){var i=new _,r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function te(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[I]}(e))return function(e,t){return new M((function(n){var i=new _;return i.add(t.schedule((function(){var r=e[I]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(q(e))return function(e,t){return new M((function(n){var i=new _;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(W(e))return ee(e,t);if(function(e){return e&&"function"==typeof e[U]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new M((function(n){var i,r=new _;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[U](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof M?e:new M(K(e))}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(ne((function(n,i){return te(e(n,i)).pipe(Q((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ie(e,n))})}var ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new re(e,this.project,this.concurrent))}}]),e}(),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new H(this,t,n),r=this.destination;r.add(i);var o=Z(this,e,void 0,void 0,i);o!==i&&r.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(Y);function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return ne(E,e)}function ae(e,t){return t?ee(e,t):new M(G(e))}function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return B(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof o&&(i=t.pop()),null===r&&1===t.length&&t[0]instanceof M?t[0]:oe(i)(ae(t,r))}function le(){return function(e){return e.lift(new ce(e))}}var ue,ce=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new he(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),he=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(T),fe={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(ue=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new _).add(this.source.subscribe(new de(this.getSubject(),this))),e.closed&&(this._connection=null,e=_.EMPTY)),e}},{key:"refCount",value:function(){return le()(this)}}]),n}(M).prototype)._subscribe},_isComplete:{value:ue._isComplete,writable:!0},getSubject:{value:ue.getSubject},connect:{value:ue.connect},refCount:{value:ue.refCount}},de=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(L);function pe(){return new j}function ve(){return function(e){return le()((t=pe,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,fe);return i.source=e,i.subjectFactory=n,i})(e));var t}}function me(e){return{toString:e}.toString()}function ge(e,t,n){return me((function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var o=_construct(r,t);return a.annotation=o,a;function a(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}var ye=ge("Inject",(function(e){return{token:e}})),ke=ge("Optional"),be=ge("Self"),we=ge("SkipSelf"),Ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function _e(e){for(var t in e)if(e[t]===_e)return t;throw Error("Could not find renamed property on target object.")}function Se(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function xe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var Te=xe;function Oe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function Ie(e){return Ee(e,e[De])||Ee(e,e[Fe])}function Ee(e,t){return t&&t.token===e?t:null}function Ae(e){return e&&(e.hasOwnProperty(Re)||e.hasOwnProperty(Pe))?e[Re]:null}var De=_e({"\u0275prov":_e}),Re=_e({"\u0275inj":_e}),Me=_e({"\u0275provFallback":_e}),Fe=_e({ngInjectableDef:_e}),Pe=_e({ngInjectorDef:_e});function ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ne(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Le=_e({__forward_ref__:_e});function je(e){return e.__forward_ref__=je,e.toString=function(){return ze(this())},e}function Ve(e){return Be(e)?e():e}function Be(e){return"function"==typeof e&&e.hasOwnProperty(Le)&&e.__forward_ref__===je}var He,Ge="undefined"!=typeof globalThis&&globalThis,Ue="undefined"!=typeof window&&window,We="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qe="undefined"!=typeof global&&global,$e=Ge||qe||Ue||We,Ke=_e({"\u0275cmp":_e}),Ze=_e({"\u0275dir":_e}),Ye=_e({"\u0275pipe":_e}),Qe=_e({"\u0275mod":_e}),Je=_e({"\u0275loc":_e}),Xe=_e({"\u0275fac":_e}),et=_e({__NG_ELEMENT_ID__:_e}),tt=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),nt=new tt("INJECTOR",-1),it={},rt=/\n/gm,ot=_e({provide:String,useValue:_e}),at=void 0;function st(e){var t=at;return at=e,t}function lt(e){var t=He;return He=e,t}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce.Default;if(void 0===at)throw new Error("inject() must be called from an injection context");return null===at?ft(e,void 0,t):at.get(e,t&Ce.Optional?null:void 0,t)}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce.Default;return(He||ut)(Ve(e),t)}var ht=ct;function ft(e,t,n){var i=Ie(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&Ce.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(ze(e),"]"))}function dt(e){for(var t=[],n=0;n<e.length;n++){var i=Ve(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=Ce.Default,a=0;a<i.length;a++){var s=i[a];s instanceof ke||"Optional"===s.ngMetadataName||s===ke?o|=Ce.Optional:s instanceof we||"SkipSelf"===s.ngMetadataName||s===we?o|=Ce.SkipSelf:s instanceof be||"Self"===s.ngMetadataName||s===be?o|=Ce.Self:r=s instanceof ye||s===ye?s.token:s}t.push(ct(r,o))}else t.push(ct(i))}return t}var pt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;if(t===it){var n=new Error("NullInjectorError: No provider for ".concat(ze(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),vt=function e(){_classCallCheck(this,e)},mt=function e(){_classCallCheck(this,e)};function gt(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function yt(e,t){e.forEach((function(e){return Array.isArray(e)?yt(e,t):t(e)}))}function kt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function bt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wt(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function Ct(e,t,n){var i=St(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function _t(e,t){var n=St(e,t);if(n>=0)return e[1|n]}function St(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),a=e[o<<1];if(t===a)return o<<1;a>t?r=o:i=o+1}return~(r<<1)}(e,t)}var xt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Tt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ot={},It=[],Et=0;function At(e){return me((function(){var t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||It,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Tt.Emulated,id:"c",styles:e.styles||It,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return r.id+=Et++,r.inputs=Pt(e.inputs,i),r.outputs=Pt(e.outputs),a&&a.forEach((function(e){return e(r)})),r.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Dt)}:null,r.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Rt)}:null,r}))}function Dt(e){return Nt(e)||function(e){return e[Ze]||null}(e)}function Rt(e){return function(e){return e[Ye]||null}(e)}var Mt={};function Ft(e){var t={type:e.type,bootstrap:e.bootstrap||It,declarations:e.declarations||It,imports:e.imports||It,exports:e.exports||It,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&me((function(){Mt[e.id]=e.type})),t}function Pt(e,t){if(null==e)return Ot;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var zt=At;function Nt(e){return e[Ke]||null}function Lt(e,t){return e.hasOwnProperty(Xe)?e[Xe]:null}function jt(e,t){var n=e[Qe]||null;if(!n&&!0===t)throw new Error("Type ".concat(ze(e)," does not have '\u0275mod' property."));return n}function Vt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Bt(e){return Array.isArray(e)&&!0===e[1]}function Ht(e){return 0!=(8&e.flags)}function Gt(e){return 2==(2&e.flags)}function Ut(e){return 1==(1&e.flags)}function Wt(e){return null!==e.template}function qt(e){return 0!=(512&e[2])}var $t=void 0;function Kt(){return void 0!==$t?$t:"undefined"!=typeof document?document:void 0}function Zt(e){return!!e.listen}var Yt={createRenderer:function(e,t){return Kt()}};function Qt(e){for(;Array.isArray(e);)e=e[0];return e}function Jt(e,t){return Qt(t[e+20])}function Xt(e,t){return Qt(t[e.index])}function en(e,t){return e.data[t+20]}function tn(e,t){return e[t+20]}function nn(e,t){var n=t[e];return Vt(n)?n:n[0]}function rn(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function on(e){return 4==(4&e[2])}function an(e){return 128==(128&e[2])}function sn(e,t){return null===e||null==t?null:e[t]}function ln(e){e[18]=0}function un(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var cn={lFrame:Rn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function hn(){return cn.bindingsEnabled}function fn(){return cn.lFrame.lView}function dn(){return cn.lFrame.tView}function pn(e){cn.lFrame.contextLView=e}function vn(){return cn.lFrame.previousOrParentTNode}function mn(e,t){cn.lFrame.previousOrParentTNode=e,cn.lFrame.isParent=t}function gn(){return cn.lFrame.isParent}function yn(){cn.lFrame.isParent=!1}function kn(){return cn.checkNoChangesMode}function bn(e){cn.checkNoChangesMode=e}function wn(){var e=cn.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Cn(){return cn.lFrame.bindingIndex}function _n(){return cn.lFrame.bindingIndex++}function Sn(e){var t=cn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function xn(e,t){var n=cn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Tn(t)}function Tn(e){cn.lFrame.currentDirectiveIndex=e}function On(){return cn.lFrame.currentQueryIndex}function In(e){cn.lFrame.currentQueryIndex=e}function En(e,t){var n=Dn();cn.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function An(e,t){var n=Dn(),i=e[1];cn.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function Dn(){var e=cn.lFrame,t=null===e?null:e.child;return null===t?Rn(e):t}function Rn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Mn(){var e=cn.lFrame;return cn.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Fn=Mn;function Pn(){var e=Mn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zn(){return cn.lFrame.selectedIndex}function Nn(e){cn.lFrame.selectedIndex=e}function Ln(){var e=cn.lFrame;return en(e.tView,e.selectedIndex)}function jn(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n];r.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,r.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,r.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r.onDestroy)}}function Vn(e,t,n){Gn(e,t,3,n)}function Bn(e,t,n,i){(3&e[2])===n&&Gn(e,t,n,i)}function Hn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Gn(e,t,n,i){for(var r=null!=i?i:-1,o=0,a=void 0!==i?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=i&&o>=i)break}else t[a]<0&&(e[18]+=65536),(o<r||-1==r)&&(Un(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Un(e,t,n,i){var r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var Wn=function e(t,n,i){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function qn(e,t,n){for(var i=Zt(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var a=n[r++],s=n[r++],l=n[r++];i?e.setAttribute(t,s,l,a):t.setAttributeNS(a,s,l)}else{var u=o,c=n[++r];Kn(u)?i&&e.setProperty(t,u,c):i?e.setAttribute(t,u,c):t.setAttribute(u,c),r++}}return r}function $n(e){return 3===e||4===e||6===e}function Kn(e){return 64===e.charCodeAt(0)}function Zn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||Yn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function Yn(e,t,n,i,r){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function Qn(e){return-1!==e}function Jn(e){return 32767&e}function Xn(e){return e>>16}function ei(e,t){for(var n=Xn(e),i=t;n>0;)i=i[15],n--;return i}function ti(e){return"string"==typeof e?e:null==e?"":""+e}function ni(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ti(e)}var ii=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($e);function ri(e){return e instanceof Function?e():e}var oi=!0;function ai(e){var t=oi;return oi=e,t}var si=0;function li(e,t){var n=ci(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,ui(i.data,e),ui(t,null),ui(i.blueprint,null));var r=hi(e,t),o=e.injectorIndex;if(Qn(r))for(var a=Jn(r),s=ei(r,t),l=s[1].data,u=0;u<8;u++)t[o+u]=s[a+u]|l[a+u];return t[o+8]=r,o}function ui(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ci(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function hi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function fi(e,t,n){!function(e,t,n){var i="string"!=typeof n?n[et]:n.charCodeAt(0)||0;null==i&&(i=n[et]=si++);var r=255&i,o=1<<r,a=64&r,s=32&r,l=t.data;128&r?a?s?l[e+7]|=o:l[e+6]|=o:s?l[e+5]|=o:l[e+4]|=o:a?s?l[e+3]|=o:l[e+2]|=o:s?l[e+1]|=o:l[e]|=o}(e,t,n)}function di(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ce.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[et];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){En(t,e);try{var a=o();if(null!=a||i&Ce.Optional)return a;throw new Error("No provider for ".concat(ni(n),"!"))}finally{Fn()}}else if("number"==typeof o){if(-1===o)return new bi(e,t);var s=null,l=ci(e,t),u=-1,c=i&Ce.Host?t[16][6]:null;for((-1===l||i&Ce.SkipSelf)&&(u=-1===l?hi(e,t):t[l+8],ki(i,!1)?(s=t[1],l=Jn(u),t=ei(u,t)):l=-1);-1!==l;){u=t[l+8];var h=t[1];if(yi(o,l,h.data)){var f=vi(l,t,n,s,i,c);if(f!==pi)return f}ki(i,t[1].data[l+8]===c)&&yi(o,l,t)?(s=h,l=Jn(u),t=ei(u,t)):l=-1}}}if(i&Ce.Optional&&void 0===r&&(r=null),0==(i&(Ce.Self|Ce.Host))){var d=t[9],p=lt(void 0);try{return d?d.get(n,r,i&Ce.Optional):ft(n,r,i&Ce.Optional)}finally{lt(p)}}if(i&Ce.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(ni(n),"]"))}var pi={};function vi(e,t,n,i,r,o){var a=t[1],s=a.data[e+8],l=mi(s,a,n,null==i?Gt(s)&&oi:i!=a&&3===s.type,r&Ce.Host&&o===s);return null!==l?gi(t,a,l,s):pi}function mi(e,t,n,i,r){for(var o=e.providerIndexes,a=t.data,s=65535&o,l=e.directiveStart,u=o>>16,c=r?s+u:e.directiveEnd,h=i?s:s+u;h<c;h++){var f=a[h];if(h<l&&n===f||h>=l&&f.type===n)return h}if(r){var d=a[l];if(d&&Wt(d)&&d.type===n)return l}return null}function gi(e,t,n,i){var r=e[n],o=t.data;if(r instanceof Wn){var a=r;if(a.resolving)throw new Error("Circular dep for "+ni(o[n]));var s,l=ai(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=lt(a.injectImpl)),En(e,i);try{r=e[n]=a.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.onChanges,r=t.onInit,o=t.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&lt(s),ai(l),a.resolving=!1,Fn()}}return r}function yi(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function ki(e,t){return!(e&Ce.Self||e&Ce.Host&&t)}var bi=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return di(this._tNode,this._lView,e,void 0,t)}}]),e}();function wi(e){return me((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[Xe]||function e(t){var n=t;if(Be(t))return function(){var t=e(Ve(n));return t?t():null};var i=Lt(n);if(null===i){var r=Ae(n);i=r&&r.factory}return i||null}(t);return null!==n?n:function(e){return new e}}))}function Ci(e){return e.ngDebugContext}function _i(e){return e.ngOriginalError}function Si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var xi=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Si}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Ci(e)?Ci(e):this._findContext(_i(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=_i(e);t&&_i(t);)t=_i(t);return t}}]),e}(),Ti=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),Oi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ti),Ii=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ti),Ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ti),Ai=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ti),Di=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ti);function Ri(e){return e instanceof Ti?e.changingThisBreaksApplicationSecurity:e}function Mi(e,t){var n=Fi(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function Fi(e){return e instanceof Ti&&e.getTypeName()||null}var Pi=!0,zi=!1;function Ni(){return zi=!0,Pi}var Li=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),ji=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Vi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bi(e){return(e=String(e)).match(ji)||e.match(Vi)?e:(Ni()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Hi(e){var t,n={},i=_createForOfIteratorHelper(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function Gi(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Ui,Wi=Hi("area,br,col,hr,img,wbr"),qi=Hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$i=Hi("rp,rt"),Ki=Gi($i,qi),Zi=Gi(Wi,Gi(qi,Hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gi($i,Hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ki),Yi=Hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qi=Hi("srcset"),Ji=Gi(Yi,Qi,Hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xi=Hi("script,style,template"),er=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Zi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Xi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,r=0;r<i.length;r++){var o=i.item(r),a=o.name,s=a.toLowerCase();if(Ji.hasOwnProperty(s)){var l=o.value;Yi[s]&&(l=Bi(l)),Qi[s]&&(n=l,l=(n=String(n)).split(",").map((function(e){return Bi(e.trim())})).join(", ")),this.buf.push(" ",a,'="',ir(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Zi.hasOwnProperty(t)&&!Wi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(ir(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),tr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function ir(e){return e.replace(/&/g,"&amp;").replace(tr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(nr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rr(e,t){var n=null;try{Ui=Ui||new Li(e);var i=t?String(t):"";n=Ui.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Ui.getInertBodyElement(i)}while(i!==o);var a=new er,s=a.sanitizeChildren(or(n)||n);return Ni()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var l=or(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function or(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ar=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),sr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lr=/^url\(([^)]+)\)$/;function ur(e){var t=hr();return t?t.sanitize(ar.HTML,e)||"":Mi(e,"HTML")?Ri(e):rr(Kt(),ti(e))}function cr(e){var t=hr();return t?t.sanitize(ar.URL,e)||"":Mi(e,"URL")?Ri(e):Bi(ti(e))}function hr(){var e=fn();return e&&e[12]}function fr(e,t){e.__ngContext__=t}function dr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function pr(){throw new Error("Cannot mix multi providers and regular providers")}function vr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function mr(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==vr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function gr(e){return 0===e.type&&"ng-template"!==e.tagName}function yr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function kr(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if($n(e[t]))return t;return e.length}(r),a=!1,s=0;s<t.length;s++){var l=t[s];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!yr(e,l,n)||""===l&&1===t.length){if(br(i))return!1;a=!0}}else{var u=8&i?l:t[++s];if(8&i&&null!==e.attrs){if(!mr(e.attrs,u,n)){if(br(i))return!1;a=!0}continue}var c=wr(8&i?"class":l,r,gr(e),n);if(-1===c){if(br(i))return!1;a=!0;continue}if(""!==u){var h;h=c>o?"":r[c+1].toLowerCase();var f=8&i?h:null;if(f&&-1!==vr(f,u,0)||2&i&&u!==h){if(br(i))return!1;a=!0}}}}else{if(!a&&!br(i)&&!br(l))return!1;if(a&&br(l))continue;a=!1,i=l|1&i}}return br(i)||a}function br(e){return 0==(1&e)}function wr(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var a=t[r];if(a===e)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++r];"string"==typeof s;)s=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Cr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(kr(e,t[i],n))return!0;return!1}function _r(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Sr(e,t){return e?":not("+t.trim()+")":t}function xr(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&i){var s=e[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||br(a)||(t+=Sr(o,r),r=""),i=a,o=o||!br(i);n++}return""!==r&&(t+=Sr(o,r)),t}var Tr={};function Or(e){var t=e[3];return Bt(t)?t[3]:t}function Ir(e){return Ar(e[13])}function Er(e){return Ar(e[4])}function Ar(e){for(;null!==e&&!Bt(e);)e=e[4];return e}function Dr(e){Rr(dn(),fn(),zn()+e,kn())}function Rr(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&Vn(t,r,n)}else{var o=e.preOrderHooks;null!==o&&Bn(t,o,0,n)}Nn(n)}function Mr(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function Pr(e){return 2|e}function zr(e){return(131068&e)>>2}function Nr(e,t){return-131069&e|t<<2}function Lr(e){return 1|e}function jr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var a=e.data[o];In(r),a.contentQueries(2,t[o],o)}}}function Vr(e,t,n){return Zt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(e,t,n,i,r,o,a,s,l,u){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,ln(c),c[3]=c[15]=e,c[8]=n,c[10]=a||e&&e[10],c[11]=s||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function Hr(e,t,n,i,r,o){var a=n+20,s=e.data[a]||function(e,t,n,i,r,o){var a=vn(),s=gn(),l=s?a:a&&a.parent,u=e.data[n]=Jr(0,l&&l!==t?l:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=u),a&&(!s||null!=a.child||null===u.parent&&2!==a.type?s||(a.next=u):a.child=u),u}(e,t,a,i,r,o);return mn(s,!0),s}function Gr(e,t,n){An(t,t[6]);try{var i=e.viewQuery;null!==i&&Co(1,i,n);var r=e.template;null!==r&&qr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&jr(e,t),e.staticViewQueries&&Co(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)go(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Pn()}}function Ur(e,t,n,i){var r=t[2];if(256!=(256&r)){An(t,t[6]);var o=kn();try{ln(t),cn.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&qr(e,t,n,2,i);var a=3==(3&r);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Vn(t,s,null)}else{var l=e.preOrderHooks;null!==l&&Bn(t,l,0,null),Hn(t,0)}if(function(e){for(var t=Ir(e);null!==t;t=Er(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&un(o,1),r[2]|=1024}}(t),function(e){for(var t=Ir(e);null!==t;t=Er(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];an(i)&&Ur(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&jr(e,t),!o)if(a){var u=e.contentCheckHooks;null!==u&&Vn(t,u)}else{var c=e.contentHooks;null!==c&&Bn(t,c,1),Hn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Nn(0-a),r=i+=9+n[++o]):i+=a:(null!==a&&(xn(i,r),a(2,t[r])),r++)}}finally{Nn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)mo(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Co(2,f,i),!o)if(a){var d=e.viewCheckHooks;null!==d&&Vn(t,d)}else{var p=e.viewHooks;null!==p&&Bn(t,p,2),Hn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,un(t[3],-1))}finally{Pn()}}}function Wr(e,t,n,i){var r=t[10],o=!kn(),a=on(t);try{o&&!a&&r.begin&&r.begin(),a&&Gr(e,t,i),Ur(e,t,n,i)}finally{o&&!a&&r.end&&r.end()}}function qr(e,t,n,i,r){var o=zn();try{Nn(-1),2&i&&t.length>20&&Rr(e,t,0,kn()),n(i,r)}finally{Nn(o)}}function $r(e,t,n){if(Ht(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Kr(e,t,n){hn()&&(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||li(n,t),fr(i,t);for(var a=n.initialInputs,s=r;s<o;s++){var l=e.data[s],u=Wt(l);u&&co(t,n,l);var c=gi(t,e,s,n);fr(c,t),null!==a&&fo(0,s-r,c,l,0,a),u&&(nn(n.index,t)[8]=c)}}(e,t,n,Xt(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,l=cn.lFrame.currentDirectiveIndex;try{Nn(s);for(var u=i;u<r;u++){var c=e.data[u],h=t[u];Tn(u),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?ro(c,h):a&&o.push(null)}}finally{Nn(-1),Tn(l)}}(e,t,n))}function Zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt,i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var a=i[o+1],s=-1===a?n(t,e):e[a];e[r++]=s}}function Yr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qr(e,t,n,i,r,o,a,s,l,u){var c=20+i,h=c+r,f=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:Tr);return n}(c,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:u,incompleteFirstPass:!1}}function Jr(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function eo(e,t,n,i,r,o,a,s){var l,u,c=Xt(t,n),h=t.inputs;!s&&null!=h&&(l=h[i])?(Oo(e,n,l,i,r),Gt(t)&&function(e,t){var n=nn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=a?a(r,t.tagName||"",i):r,Zt(o)?o.setProperty(c,i,r):Kn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function to(e,t,n,i){var r=!1;if(hn()){var o=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var a=i[o];Cr(n,a.selectors,!1)&&(r||(r=[]),fi(li(n,t),e,a.type),Wt(a)?(2&n.flags&&dr(n),ao(e,n),r.unshift(a)):r.push(a))}return r}(e,t,n),a=null===i?null:{"":-1};if(null!==o){var s=0;r=!0,lo(n,e.data.length,o.length);for(var l=0;l<o.length;l++){var u=o[l];u.providersResolver&&u.providersResolver(u)}oo(e,n,o.length);for(var c=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Zn(n.mergedAttrs,d.hostAttrs),uo(e,t,d),so(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!c&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),c=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),no(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],a=null,s=null,l=t.directiveStart;l<n;l++){var u=i[l],c=u.inputs,h=null===r||gr(t)?null:po(c,r);o.push(h),a=Xr(c,l,a),s=Xr(u.outputs,l,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),io(e,t,s)}a&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Error("Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],o)}}(n,i,a)}return n.mergedAttrs=Zn(n.mergedAttrs,n.attrs),r}function no(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function io(e,t,n){for(var i=0;i<n;i++)t.push(Tr),e.blueprint.push(Tr),e.data.push(null)}function ro(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function oo(e,t,n){var i=20-t.index,r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function ao(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function so(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Wt(t)&&(n[""]=e)}}function lo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function uo(e,t,n){e.data.push(n);var i=n.factory||(n.factory=Lt(n.type)),r=new Wn(i,Wt(n),null);e.blueprint.push(r),t.push(r)}function co(e,t,n){var i=Xt(t,e),r=Yr(n),o=e[10],a=yo(e,Br(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=a}function ho(e,t,n,i,r,o){var a=Xt(e,t),s=t[11];if(null==i)Zt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var l=null==r?ti(i):r(i,e.tagName||"",n);Zt(s)?s.setAttribute(a,n,l,o):o?a.setAttributeNS(o,n,l):a.setAttribute(n,l)}}function fo(e,t,n,i,r,o){var a=o[t];if(null!==a)for(var s=i.setInput,l=0;l<a.length;){var u=a[l++],c=a[l++],h=a[l++];null!==s?i.setInput(n,h,u,c):n[c]=h}}function po(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function vo(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function mo(e,t){var n=nn(t,e);if(an(n)){var i=n[1];80&n[2]?Ur(i,n,i.template,n[8]):n[5]>0&&function e(t){for(var n=Ir(t);null!==n;n=Er(n))for(var i=10;i<n.length;i++){var r=n[i];if(1024&r[2]){var o=r[1];Ur(o,r,o.template,r[8])}else r[5]>0&&e(r)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var l=nn(a[s],t);an(l)&&l[5]>0&&e(l)}}(n)}}function go(e,t){var n=nn(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Gr(i,n,n[8])}function yo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ko(e){for(;e;){e[2]|=64;var t=Or(e);if(qt(e)&&!t)return e;e=t}return null}function bo(e,t,n){var i=t[10];i.begin&&i.begin();try{Ur(e,t,e.template,n)}catch(r){throw To(t,r),r}finally{i.end&&i.end()}}function wo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=rn(n),r=i[1];Wr(r,i,r.template,n)}}(e[8])}function Co(e,t,n){In(0),t(e,n)}var _o=Promise.resolve(null);function So(e){return e[7]||(e[7]=[])}function xo(e){return e.cleanup||(e.cleanup=[])}function To(e,t){var n=e[9],i=n?n.get(xi,null):null;i&&i.handleError(t)}function Oo(e,t,n,i,r){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],l=t[a],u=e.data[a];null!==u.setInput?u.setInput(l,r,i,s):l[s]=r}}function Io(e,t,n){var i=Jt(t,e),r=e[11];Zt(r)?r.setValue(i,n):i.textContent=n}function Eo(e,t){var n=t[3];return-1===e.index?Bt(n)?n:null:n}function Ao(e,t){var n=Eo(e,t);return n?Ho(t[11],n[7]):null}function Do(e,t,n,i,r){if(null!=i){var o,a=!1;Bt(i)?o=i:Vt(i)&&(a=!0,i=i[0]);var s=Qt(i);0===e&&null!==n?null==r?Vo(t,n,s):jo(t,n,s,r||null):1===e&&null!==n?jo(t,n,s,r||null):2===e?function(e,t,n){var i=Ho(e,t);i&&function(e,t,n,i){Zt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,i,r){var o=n[7];o!==Qt(n)&&Do(t,e,i,o,r);for(var a=10;a<n.length;a++){var s=n[a];$o(s[1],s,e,t,i,o)}}(t,e,o,n,r)}}function Ro(e,t,n,i){var r=Ao(e.node,t);r&&$o(e,t,t[11],n?1:2,r,i)}function Mo(e,t){var n=e[9],i=n.indexOf(t);1024&t[2]&&un(t[3],-1),n.splice(i,1)}function Fo(e,t){if(!(e.length<=10)){var n=10+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&Mo(r,i),t>0&&(e[n-1][4]=i[4]);var o=bt(e,10+t);Ro(i[1],i,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Po(e,t){if(!(256&t[2])){var n=t[11];Zt(n)&&n.destroyNode&&$o(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return No(e[1],e);for(;t;){var n=null;if(Vt(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Vt(t)&&No(t[1],t),t=zo(t,e);null===t&&(t=e),Vt(t)&&No(t[1],t),n=t&&t[4]}t=n}}(t)}}function zo(e,t){var n;return Vt(e)&&(n=e[6])&&2===n.type?Eo(n,e):e[3]===t?null:e[3]}function No(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof Wn)){var o=n[i+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(r[o[a]]);else o.call(r)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var i=t[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var o=n[r+1],a="function"==typeof o?o(t):Qt(t[o]),s=i[n[r+2]],l=n[r+3];"boolean"==typeof l?a.removeEventListener(n[r],s,l):l>=0?i[l]():i[-l].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Zt(t[11])&&t[11].destroy();var i=t[17];if(null!==i&&Bt(t[3])){i!==t[3]&&Mo(i,t);var r=t[19];null!==r&&r.detachView(e)}}}function Lo(e,t,n){for(var i=t.parent;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){var r=n[6];return 2===r.type?Ao(r,n):n[0]}if(t&&5===t.type&&4&t.flags)return Xt(t,n).parentNode;if(2&i.flags){var o=e.data,a=o[o[i.index].directiveStart].encapsulation;if(a!==Tt.ShadowDom&&a!==Tt.Native)return null}return Xt(i,n)}function jo(e,t,n,i){Zt(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Vo(e,t,n){Zt(e)?e.appendChild(t,n):t.appendChild(n)}function Bo(e,t,n,i){null!==i?jo(e,t,n,i):Vo(e,t,n)}function Ho(e,t){return Zt(e)?e.parentNode(t):t.parentNode}function Go(e,t){if(2===e.type){var n=Eo(e,t);return null===n?null:Wo(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Xt(e,t):null}function Uo(e,t,n,i){var r=Lo(e,i,t);if(null!=r){var o=t[11],a=Go(i.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Bo(o,r,n[s],a);else Bo(o,r,n,a)}}function Wo(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){var i=n.type;if(3===i)return Xt(n,t);if(0===i)return Wo(-1,t[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return e(t,r);var o=t[n.index];return Bt(o)?Wo(-1,o):Qt(o)}var a=t[16],s=a[6],l=Or(a),u=s.projection[n.projection];return null!=u?e(l,u):e(t,n.next)}return null}(i,r)}return t[7]}function qo(e,t,n,i,r,o,a){for(;null!=n;){var s=i[n.index],l=n.type;a&&0===t&&(s&&fr(Qt(s),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(qo(e,t,n.child,i,r,o,!1),Do(t,e,r,s,o)):1===l?Ko(e,t,i,n,r,o):Do(t,e,r,s,o)),n=a?n.projectionNext:n.next}}function $o(e,t,n,i,r,o){qo(n,i,e.node.child,t,r,o,!1)}function Ko(e,t,n,i,r,o){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var l=0;l<s.length;l++)Do(t,e,r,s[l],o);else qo(e,t,s,a[3],r,o,!0)}function Zo(e,t,n){Zt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Yo(e,t,n){Zt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Qo,Jo,Xo,ea=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Po(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,i;t=this._lView[1],i=e,So(n=this._lView).push(i),t.firstCreatePass&&xo(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){ko(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){bo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){bn(!0);try{bo(e,t,n)}finally{bn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,$o(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,i,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var a=n[i.index];if(null!==a&&r.push(Qt(a)),Bt(a))for(var s=10;s<a.length;s++){var l=a[s],u=l[1].firstChild;null!==u&&e(l[1],l,u,r)}var c=i.type;if(4===c||5===c)e(t,n,i.child,r);else if(1===c){var h=n[16],f=h[6].projection[i.projection];if(Array.isArray(f))r.push.apply(r,_toConsumableArray(f));else{var d=Or(h);e(d[1],d,f,r,!0)}}i=o?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),ta=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e))._view=e,i}return _createClass(n,[{key:"detectChanges",value:function(){wo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){bn(!0);try{wo(e)}finally{bn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ea);function na(e,t,n){return Qo||(Qo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Qo(Xt(t,n))}function ia(e,t,n,i){return Jo||(Jo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=i,o.elementRef=r,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Br(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Gr(t,n,e),new ea(n)}}]),n}(e)),0===n.type?new Jo(i,n,na(t,n,i)):null}function ra(e,t,n,i){var r;Xo||(Xo=function(e){_inherits(i,e);var n=_createSuper(i);function i(e,t,r){var o;return _classCallCheck(this,i),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=r,o}return _createClass(i,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){var a=o.get(vt,null);a&&(r=a)}var s=e.create(o,i,void 0,r);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Bt(n[3])){var r=this.indexOf(e);if(-1!==r)this.detach(r);else{var o=n[3],a=new Xo(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],kt(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,n,this._lContainer,s),Ro(i,n,!0,Wo(s,this._lContainer)),e.attachToViewContainerRef(this),kt(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Fo(e,t);n&&Po(n[1],n)}(this._lContainer,t),bt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Fo(this._lContainer,t);return n&&null!=bt(this._lContainer[8],t)?new ea(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return na(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new bi(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=hi(this._hostTNode,this._hostView),t=ei(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.parent.injectorIndex;)r=r.parent;return r}for(var o=Xn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Qn(e)&&null!=n?new bi(n,t):new bi(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),i}(e));var o=i[n.index];if(Bt(o))r=o;else{var a;if(4===n.type)a=Qt(o);else if(a=i[11].createComment(""),qt(i)){var s=i[11],l=Xt(n,i);jo(s,Ho(s,l),a,function(e,t){return Zt(e)?e.nextSibling(t):t.nextSibling}(s,l))}else Uo(i[1],i,a,n);i[n.index]=r=vo(o,i,a,n),yo(i,r)}return new Xo(r,n,i)}var oa=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return aa()},e}(),aa=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Gt(e)){var i=nn(e.index,t);return new ea(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new ea(t[16],t):null}(vn(),fn(),e)},sa=new tt("Set Injector scope."),la={},ua={},ca=[],ha=void 0;function fa(){return void 0===ha&&(ha=new pt),ha}function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new pa(e,n,t||fa(),i)}var pa=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&yt(n,(function(e){return r.processProvider(e,t,n)})),yt([t],(function(e){return r.processInjectorType(e,[],a)})),this.records.set(nt,ga(void 0,this));var s=this.records.get(sa);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:ze(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce.Default;this.assertNotDestroyed();var i,r=st(this);try{if(!(n&Ce.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(i=e)||"object"==typeof i&&i instanceof tt)&&Ie(e);o=a&&this.injectableDefInScope(a)?ga(va(e),la):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&Ce.Self?fa():this.parent).get(e,t=n&Ce.Optional&&t===it?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ze(e)),r)throw s;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=ze(t);if(Array.isArray(t))r=t.map(ze).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):ze(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(rt,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{st(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(ze(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=Ve(e)))return!1;var r=Ae(e),o=null==r&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(r=Ae(o)),null==r)return!1;if(null!=r.imports&&!s){var l;n.push(a);try{yt(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,r=t.providers;yt(r,(function(e){return i.processProvider(e,n,r||ca)}))},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(a),this.records.set(a,ga(r.factory,la));var h=r.providers;if(null!=h&&!s){var f=e;yt(h,(function(e){return i.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=ka(e=Ve(e))?e:Ve(e&&e.provide),r=function(e,t,n){return ya(e)?ga(void 0,e.useValue):ga(ma(e,t,n),la)}(e,t,n);if(ka(e)||!0!==e.multi){var o=this.records.get(i);o&&void 0!==o.multi&&pr()}else{var a=this.records.get(i);a?void 0===a.multi&&pr():((a=ga(void 0,la,!0)).factory=function(){return dt(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===ua?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(ze(e)):t.value===la&&(t.value=ua,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function va(e){var t=Ie(e),n=null!==t?t.factory:Lt(e);if(null!==n)return n;var i=Ae(e);if(null!==i)return i.factory;if(e instanceof tt)throw new Error("Token ".concat(ze(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=wt(t,"?");throw new Error("Can't resolve all parameters for ".concat(ze(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[De]||e[Fe]||e[Me]&&e[Me]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ma(e,t,n){var i,r=void 0;if(ka(e)){var o=Ve(e);return Lt(o)||va(o)}if(ya(e))r=function(){return Ve(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray(dt(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return ct(Ve(e.useExisting))};else{var a=Ve(e&&(e.useClass||e.provide));if(a||function(e,t,n){var i="";throw e&&t&&(i=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(ze(e),"'")+i)}(t,n,e),!function(e){return!!e.deps}(e))return Lt(a)||va(a);r=function(){return _construct(a,_toConsumableArray(dt(e.deps)))}}return r}function ga(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ya(e){return null!==e&&"object"==typeof e&&ot in e}function ka(e){return"function"==typeof e}var ba=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=da(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},wa=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ba(e,t,""):ba(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=it,e.NULL=new pt,e.\u0275prov=xe({token:e,providedIn:"any",factory:function(){return ct(nt)}}),e.__NG_ELEMENT_ID__=-1,e}(),Ca=new tt("AnalyzeForEntryComponents"),_a=new Map,Sa=new Set;function xa(e){return"string"==typeof e?e:e.text()}function Ta(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?r=Ne(r,s):2==o&&(i=Ne(i,s+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Oa=null;function Ia(){if(!Oa){var e=$e.Symbol;if(e&&e.iterator)Oa=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Oa=i)}}return Oa}function Ea(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Aa=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Da(e){return!!Ra(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ia()in e)}function Ra(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ma(e,t,n){return e[t]=n}function Fa(e,t){return e[t]}function Pa(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function za(e,t,n,i){var r=Pa(e,t,n);return Pa(e,t+1,i)||r}function Na(e,t,n,i,r){var o=za(e,t,n,i);return Pa(e,t+2,r)||o}function La(e,t,n,i,r,o){var a=za(e,t,n,i);return za(e,t+2,r,o)||a}function ja(e,t,n,i){var r=fn();return Pa(r,_n(),t)&&(dn(),ho(Ln(),r,e,t,n,i)),ja}function Va(e,t,n,i){return Pa(e,_n(),n)?t+ti(n)+i:Tr}function Ba(e,t,n,i,r,o,a,s){var l=fn(),u=dn(),c=e+20,h=u.firstCreatePass?function(e,t,n,i,r,o,a,s,l){var u=t.consts,c=Hr(t,n[6],e,0,a||null,sn(u,s));to(t,n,c,sn(u,l)),jn(t,c);var h=c.tViews=Qr(2,-1,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u),f=Jr(0,null,2,-1,null,null);return f.injectorIndex=c.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(e,u,l,t,n,i,r,o,a):u.data[c];mn(h,!1);var f=l[11].createComment("");Uo(u,l,f,h),fr(f,l),yo(l,l[c]=vo(f,l,f,h)),Ut(h)&&Kr(u,l,h),null!=a&&Zr(l,h,s)}function Ha(e){return tn(cn.lFrame.contextLView,e)}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce.Default,n=fn();return null==n?ct(e,t):di(vn(),n,Ve(e),t)}function Ua(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if($n(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}return null}(vn(),e)}function Wa(){throw new Error("invalid")}function qa(e,t,n){var i=fn();return Pa(i,_n(),t)&&eo(dn(),Ln(),i,e,t,i[11],n,!1),qa}function $a(e,t,n,i,r){var o=r?"class":"style";Oo(e,n,t.inputs[o],o,i)}function Ka(e,t,n,i){var r=fn(),o=dn(),a=20+e,s=r[11],l=r[a]=Vr(t,s,cn.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,i,r,o,a){var s=t.consts,l=sn(s,o),u=Hr(t,n[6],e,3,r,l);return to(t,n,u,sn(s,a)),null!==u.attrs&&Ta(u,u.attrs,!1),null!==u.mergedAttrs&&Ta(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(e,o,r,0,t,n,i):o.data[a];mn(u,!0);var c=u.mergedAttrs;null!==c&&qn(s,l,c);var h=u.classes;null!==h&&Yo(s,l,h);var f=u.styles;null!==f&&Zo(s,l,f),Uo(o,r,l,u),0===cn.lFrame.elementDepthCount&&fr(l,r),cn.lFrame.elementDepthCount++,Ut(u)&&(Kr(o,r,u),$r(o,u,r)),null!==i&&Zr(r,u)}function Za(){var e=vn();gn()?yn():mn(e=e.parent,!1);var t=e;cn.lFrame.elementDepthCount--;var n=dn();n.firstCreatePass&&(jn(n,e),Ht(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&$a(n,t,fn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&$a(n,t,fn(),t.stylesWithoutHost,!1)}function Ya(e,t,n,i){Ka(e,t,n,i),Za()}function Qa(e,t,n){var i=fn(),r=dn(),o=e+20,a=r.firstCreatePass?function(e,t,n,i,r){var o=t.consts,a=sn(o,i),s=Hr(t,n[6],e,4,"ng-container",a);return null!==a&&Ta(s,a,!0),to(t,n,s,sn(o,r)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,r,i,t,n):r.data[o];mn(a,!0);var s=i[o]=i[11].createComment("");Uo(r,i,s,a),fr(s,i),Ut(a)&&(Kr(r,i,a),$r(r,a,i)),null!=n&&Zr(i,a)}function Ja(){var e=vn(),t=dn();gn()?yn():mn(e=e.parent,!1),t.firstCreatePass&&(jn(t,e),Ht(e)&&t.queries.elementEnd(e))}function Xa(e,t,n){Qa(e,t,n),Ja()}function es(){return fn()}function ts(e){return!!e&&"function"==typeof e.then}function ns(e){return!!e&&"function"==typeof e.subscribe}function is(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=fn(),o=dn(),a=vn();return function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=Ut(i),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=So(t),h=!0;if(3===i.type){var f=Xt(i,t),d=s?s(f):Ot,p=d.target||f,v=c.length,m=s?function(e){return s(Qt(e[i.index])).target}:i.index;if(Zt(n)){var g=null;if(!s&&l&&(g=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var a=r[o];if(a===n&&r[o+1]===i){var s=t[7],l=r[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(e,t,r,i.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=os(i,t,o,!1);var y=n.listen(d.name||p,r,o);c.push(o,y),u&&u.push(r,m,v,v+1)}}else o=os(i,t,o,!0),p.addEventListener(r,o,a),c.push(o),u&&u.push(r,m,v,a)}var k,b=i.outputs;if(h&&null!==b&&(k=b[r])){var w=k.length;if(w)for(var C=0;C<w;C+=2){var _=t[k[C]][k[C+1]].subscribe(o),S=c.length;c.push(o,_),u&&u.push(r,i.index,S,-(S+1))}}}(o,r,r[11],a,e,t,n,i),is}function rs(e,t,n){try{return!1!==t(n)}catch(i){return To(e,i),!1}}function os(e,t,n,i){return function r(o){if(o===Function)return n;var a=2&e.flags?nn(e.index,t):t;0==(32&t[2])&&ko(a);for(var s=rs(t,n,o),l=r.__ngNextListenerFn__;l;)s=rs(t,l,o)&&s,l=l.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function as(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(cn.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,cn.lFrame.contextLView))[8]}(e)}function ss(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var o=t[r];if("*"!==o){if(null===i?Cr(e,o,!0):_r(i,o))return r}else n=r}return n}function ls(e){var t=fn()[16][6];if(!t.projection)for(var n=t.projection=wt(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var o=e?ss(r,e):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=fn(),r=dn(),o=Hr(r,i[6],e,1,null,n||null);null===o.projection&&(o.projection=t),yn(),function(e,t,n){Ko(t[11],0,t,n,Lo(e,n,t),Go(n.parent||t[6],t))}(r,i,o)}var cs=[];function hs(e,t,n,i,r){for(var o=e[n+1],a=null===t,s=i?Fr(o):zr(o),l=!1;0!==s&&(!1===l||a);){var u=e[s+1];fs(e[s],t)&&(l=!0,e[s+1]=i?Lr(u):Pr(u)),s=i?Fr(u):zr(u)}l&&(e[n+1]=i?Pr(o):Lr(o))}function fs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&St(e,t)>=0}var ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ps(e){return e.substring(ds.key,ds.keyEnd)}function vs(e,t){var n=ds.textEnd;return n===t?-1:(t=ds.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ds.key=t,n),ms(e,t,n))}function ms(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function gs(e,t,n){return ws(e,t,n,!1),gs}function ys(e,t){return ws(e,t,null,!0),ys}function ks(e){Cs(Ct,bs,e,!0)}function bs(e,t){for(var n=function(e){return function(e){ds.key=0,ds.keyEnd=0,ds.value=0,ds.valueEnd=0,ds.textEnd=e.length}(e),vs(e,ms(e,0,ds.textEnd))}(t);n>=0;n=vs(t,n))Ct(e,ps(t),!0)}function ws(e,t,n,i){var r,o,a=fn(),s=dn(),l=Sn(2);(s.firstUpdatePass&&Ss(s,e,l,i),t!==Tr&&Pa(a,l,t))&&(null==n&&(r=null===(o=cn.lFrame)?null:o.currentSanitizer)&&(n=r),Os(s,s.data[zn()+20],a,a[11],e,a[l+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=ze(Ri(e)))),e}(t,n),i,l))}function Cs(e,t,n,i){var r=dn(),o=Sn(2);r.firstUpdatePass&&Ss(r,null,o,i);var a=fn();if(n!==Tr&&Pa(a,o,n)){var s=r.data[zn()+20];if(As(s,i)&&!_s(r,o)){var l=i?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(n=Ne(l,n||"")),$a(r,s,a,n,i)}else!function(e,t,n,i,r,o,a,s){r===Tr&&(r=cs);for(var l=0,u=0,c=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var f=l<r.length?r[l+1]:void 0,d=u<o.length?o[u+1]:void 0,p=null,v=void 0;c===h?(l+=2,u+=2,f!==d&&(p=h,v=d)):null===h||null!==c&&c<h?(l+=2,p=c):(u+=2,p=h,v=d),null!==p&&Os(e,t,n,i,p,v,a,s),c=l<r.length?r[l]:null,h=u<o.length?o[u]:null}}(r,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return cs;var i=[],r=Ri(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&e(i,a,r[a]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}function _s(e,t){return t>=e.expandoStartIndex}function Ss(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[zn()+20],a=_s(e,n);As(o,i)&&null===t&&!a&&(t=!1),t=function(e,t,n,i){var r=function(e){var t=cn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Ts(n=xs(null,e,t,n,i),t.attrs,i),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==r)if(n=xs(r,e,t,n,i),null===o){var s=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==zr(i))return e[Fr(i)]}(e,t,i);void 0!==s&&Array.isArray(s)&&function(e,t,n,i){e[Fr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,s=Ts(s=xs(null,e,t,s[1],i),t.attrs,i))}else o=function(e,t,n){for(var i=void 0,r=t.directiveEnd,o=1+t.directiveStylingLast;o<r;o++)i=Ts(i,e[o].hostAttrs,n);return Ts(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){var a=o?t.classBindings:t.styleBindings,s=Fr(a),l=zr(a);e[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||St(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var f=Fr(e[s+1]);e[i+1]=Mr(f,s),0!==f&&(e[f+1]=Nr(e[f+1],i)),e[s+1]=131071&e[s+1]|i<<17}else e[i+1]=Mr(s,0),0!==s&&(e[s+1]=Nr(e[s+1],i)),s=i;else e[i+1]=Mr(l,0),0===s?s=i:e[l+1]=Nr(e[l+1],i),l=i;c&&(e[i+1]=Pr(e[i+1])),hs(e,u,i,!0),hs(e,u,i,!1),function(e,t,n,i,r){var o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&St(o,t)>=0&&(n[i+1]=Lr(n[i+1]))}(t,u,e,i,o),a=Mr(s,l),o?t.classBindings=a:t.styleBindings=a}(r,o,t,n,a,i)}}function xs(e,t,n,i,r){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=Ts(i,(o=t[s]).hostAttrs,r),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),i}function Ts(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?r=a:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ct(e,a,!!n||t[++o]))}return void 0===e?null:e}function Os(e,t,n,i,r,o,a,s){if(3===t.type){var l=e.data,u=l[s+1];Es(1==(1&u)?Is(l,t,n,r,zr(u),a):void 0)||(Es(o)||2==(2&u)&&(o=Is(l,null,n,r,s,a)),function(e,t,n,i,r){var o=Zt(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{var a=-1==i.indexOf("-")?void 0:2;null==r?o?e.removeStyle(n,i,a):n.style.removeProperty(i):o?e.setStyle(n,i,r,a):n.style.setProperty(i,r)}}(i,a,Jt(zn(),n),r,o))}}function Is(e,t,n,i,r,o){for(var a=null===t,s=void 0;r>0;){var l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,f=n[r+1];f===Tr&&(f=h?cs:void 0);var d=h?_t(f,i):c===i?f:void 0;if(u&&!Es(d)&&(d=_t(l,i)),Es(d)&&(s=d,a))return s;var p=e[r+1];r=a?Fr(p):zr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=_t(v,i))}return s}function Es(e){return void 0!==e}function As(e,t){return 0!=(e.flags&(t?16:32))}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=fn(),i=dn(),r=e+20,o=i.firstCreatePass?Hr(i,n[6],e,3,null,null):i.data[r],a=n[r]=function(e,t){return Zt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Uo(i,n,a,o),mn(o,!1)}function Rs(e){return Ms("",e,""),Rs}function Ms(e,t,n){var i=fn(),r=Va(i,e,t,n);return r!==Tr&&Io(i,zn(),r),Ms}function Fs(e,t,n,i,r){var o=fn(),a=function(e,t,n,i,r,o){var a=za(e,Cn(),n,r);return Sn(2),a?t+ti(n)+i+ti(r)+o:Tr}(o,e,t,n,i,r);return a!==Tr&&Io(o,zn(),a),Fs}function Ps(e,t,n,i,r,o,a,s,l,u,c){var h=fn(),f=function(e,t,n,i,r,o,a,s,l,u,c,h){var f=Cn(),d=La(e,f,n,r,a,l);return d=Pa(e,f+4,c)||d,Sn(5),d?t+ti(n)+i+ti(r)+o+ti(a)+s+ti(l)+u+ti(c)+h:Tr}(h,e,t,n,i,r,o,a,s,l,u,c);return f!==Tr&&Io(h,zn(),f),Ps}function zs(e,t,n){var i=fn();return Pa(i,_n(),t)&&eo(dn(),Ln(),i,e,t,i[11],n,!0),zs}function Ns(e,t){var n=rn(e)[1],i=n.data.length-1;jn(n,{directiveStart:i,directiveEnd:i+1})}function Ls(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(Wt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var o=e;o.inputs=js(e.inputs),o.declaredInputs=js(e.declaredInputs),o.outputs=js(e.outputs);var a=r.hostBindings;a&&Hs(e,a);var s=r.viewQuery,l=r.contentQueries;if(s&&Vs(e,s),l&&Bs(e,l),Se(e.inputs,r.inputs),Se(e.declaredInputs,r.declaredInputs),Se(e.outputs,r.outputs),Wt(r)&&r.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}o.afterContentChecked=o.afterContentChecked||r.afterContentChecked,o.afterContentInit=e.afterContentInit||r.afterContentInit,o.afterViewChecked=e.afterViewChecked||r.afterViewChecked,o.afterViewInit=e.afterViewInit||r.afterViewInit,o.doCheck=e.doCheck||r.doCheck,o.onDestroy=e.onDestroy||r.onDestroy,o.onInit=e.onInit||r.onInit}var c=r.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Ls&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Zn(r.hostAttrs,n=Zn(n,r.hostAttrs))}}(i)}function js(e){return e===Ot?{}:e===It?[]:e}function Vs(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function Bs(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function Hs(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Gs=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Us(e){e.type.prototype.ngOnChanges&&(e.setInput=Ws,e.onChanges=function(){var e=qs(this),t=e&&e.current;if(t){var n=e.previous;if(n===Ot)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}})}function Ws(e,t,n,i){var r=qs(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ot,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[n],l=a[s];o[s]=new Gs(l&&l.currentValue,t,a===Ot),e[i]=t}function qs(e){return e.__ngSimpleChanges__||null}function $s(e,t,n,i,r){if(e=Ve(e),Array.isArray(e))for(var o=0;o<e.length;o++)$s(e[o],t,n,i,r);else{var a=dn(),s=fn(),l=ka(e)?e:Ve(e.provide),u=ma(e),c=vn(),h=65535&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>16;if(ka(e)||!e.multi){var p=new Wn(u,r,Ga),v=Ys(l,t,r?h:h+d,f);-1===v?(fi(li(c,s),a,l),Ks(a,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var m=Ys(l,t,h+d,f),g=Ys(l,t,h,h+d),y=m>=0&&n[m],k=g>=0&&n[g];if(r&&!k||!r&&!y){fi(li(c,s),a,l);var b=function(e,t,n,i,r){var o=new Wn(e,n,Ga);return o.multi=[],o.index=t,o.componentProviders=0,Zs(o,r,i&&!n),o}(r?Js:Qs,n.length,r,i,u);!r&&k&&(n[g].providerFactory=b),Ks(a,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(b),s.push(b)}else Ks(a,e,m>-1?m:g,Zs(n[r?g:m],u,!r&&i));!r&&i&&k&&n[g].componentProviders++}}}function Ks(e,t,n,i){var r=ka(t);if(r||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,o]):a[s+1].push(i,o)}else a.push(n,o)}}}function Zs(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ys(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function Qs(e,t,n,i){return Xs(this.multi,[])}function Js(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=gi(n,n[1],this.providerFactory.index,i);Xs(o,r=s.slice(0,a));for(var l=a;l<s.length;l++)r.push(s[l])}else Xs(o,r=[]);return r}function Xs(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function el(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=dn();if(i.firstCreatePass){var r=Wt(e);$s(n,i.data,i.blueprint,r,!0),$s(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}Us.ngInherit=!0;var tl=function e(){_classCallCheck(this,e)},nl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ze(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),il=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new nl,e}(),rl=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return ol(e)},e}(),ol=function(e){return na(e,vn(),fn())},al=function e(){_classCallCheck(this,e)},sl=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ll=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ul()},e}(),ul=function(){var e=fn(),t=nn(vn().index,e);return function(e){var t=e[11];if(Zt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(t)?t:e)},cl=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return null}}),e}(),hl=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.11"),fl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Da(e)}},{key:"create",value:function(e){return new pl(e)}}]),e}(),dl=function(e,t){return t},pl=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||dl}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<yl(n,i,r)?t:n,a=yl(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var l=a-i,u=s-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,f=h+c;u<=f&&f<l&&(r[c]=h+1)}r[o.previousIndex]=u-l}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Da(e))throw new Error("Error trying to diff '".concat(ze(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=e[s],r=this._trackByFn(s,i),null!==o&&Ea(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),Ea(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Ia()]();!(i=r.next()).done;)t(i.value)}(e,(function(e){r=t._trackByFn(n,e),null!==o&&Ea(o.trackById,r)?(a&&(o=t._verifyReinsertion(o,e,r,n)),Ea(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ea(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ea(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new vl(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new gl),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),vl=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ml=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ea(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),gl=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ml,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function yl(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var kl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Ra(e)}},{key:"create",value:function(){return new bl}}]),e}(),bl=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ra(e)))throw new Error("Error trying to diff '".concat(ze(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new wl(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Ea(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),wl=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Cl=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new we,new ke]]}}}]),e}();return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return new e([new fl])}}),e}(),_l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new we,new ke]]}}}]),e}();return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return new e([new kl])}}),e}(),Sl=[new kl],xl=new Cl([new fl]),Tl=new _l(Sl),Ol=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Il(e,rl)},e}(),Il=function(e,t){return ia(e,t,vn(),fn())},El=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Al(e,rl)},e}(),Al=function(e,t){return ra(e,t,vn(),fn())},Dl={},Rl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).ngModule=e,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Nt(e);return new Pl(t,this.ngModule)}}]),n}(il);function Ml(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Fl=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ii}}),Pl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(xr).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _createClass(n,[{key:"create",value:function(e,t,n,i){var r,o,a=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,Dl,r);return o!==Dl||i===Dl?o:t.get(n,i,r)}}}(e,i.injector):e,s=a.get(al,Yt),l=a.get(cl,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Zt(e))return e.selectRootElement(t,n===Tt.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,n,this.componentDef.encapsulation):Vr(c,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:ii,clean:_o,playerHandler:null,flags:0},v=Qr(0,-1,null,1,0,null,null,null,null,null),m=Br(null,v,p,f,null,null,s,u,l,a);An(m,null);try{var g=function(e,t,n,i,r,o){var a=n[1];n[20]=e;var s=Hr(a,null,0,3,null,null),l=s.mergedAttrs=t.hostAttrs;null!==l&&(Ta(s,l,!0),null!==e&&(qn(r,e,l),null!==s.classes&&Yo(r,e,s.classes),null!==s.styles&&Zo(r,e,s.styles)));var u=i.createRenderer(e,t),c=Br(n,Yr(t),null,t.onPush?64:16,n[20],s,i,u,void 0);return a.firstCreatePass&&(fi(li(s,n),a,t.type),ao(a,s),lo(s,n.length,1)),yo(n,c),n[20]=c}(h,this.componentDef,m,s,u);if(h)if(n)qn(u,h,["ng-version",hl.full]);else{var y=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!br(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),k=y.attrs,b=y.classes;k&&qn(u,h,k),b&&b.length>0&&Yo(u,h,b.join(" "))}if(o=en(v,0),void 0!==t)for(var w=o.projection=[],C=0;C<this.ngContentSelectors.length;C++){var _=t[C];w.push(null!=_?Array.from(_):null)}r=function(e,t,n,i,r){var o=n[1],a=function(e,t,n){var i=vn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),oo(e,i,1),uo(e,t,n));var r=gi(t,e,t.length-1,i);fr(r,t);var o=Xt(i,t);return o&&fr(o,t),r}(o,n,t);i.components.push(a),e[8]=a,r&&r.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=vn();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Nn(s.index-20);var l=n[1];no(l,t),io(l,n,t.hostVars),ro(t,a)}return a}(g,this.componentDef,m,p,[Ns]),Gr(v,m,null)}finally{Pn()}var S=new zl(this.componentType,r,na(rl,o,m),m,o);return n&&!d||(v.node.child=o),S}},{key:"inputs",get:function(){return Ml(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ml(this.componentDef.outputs)}}]),n}(tl),zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s,l,u,c;return _classCallCheck(this,n),(s=t.call(this)).location=r,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=i,s.hostView=s.changeDetectorRef=new ta(o),l=o[1],u=o,null==(c=l.node)&&(l.node=c=Jr(0,null,2,-1,null,null)),u[6]=c,s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new bi(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Nl=void 0,Ll=["en",[["a","p"],["AM","PM"],Nl],[["AM","PM"],Nl,Nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nl,"{1} 'at' {0}",Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],jl={};function Vl(e){return e in jl||(jl[e]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[e]),jl[e]}var Bl=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Hl=/\ufffd(\d+):?\d*\ufffd/gi,Gl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Ul(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[null,null],o=e.split(Hl),a=0,s=0;s<o.length;s++){var l=o[s];if(1&s){var u=parseInt(l,10);r.push(-1-u),a|=Wl(u)}else""!==l&&r.push(l)}return r.push(t<<2|(n?1:0)),n&&r.push(n,i),r[0]=a,r[1]=r.length-2,r}function Wl(e){return 1<<Math.min(e,31)}function ql(e,t){!function(e,t,n,i){for(var r=vn().index-20,o=[],a=0;a<i.length;a+=2)for(var s=i[a],l=i[a+1].split(Gl),u=0;u<l.length;u++){var c=l[u];if(1&u)throw new Error("ICU expressions are not yet supported in attributes");if(""!==c)if(c.match(Hl))t.firstCreatePass&&null===t.data[n+20]&&gt(Ul(c,r,s),o);else{var h=en(t,r);3===h.type&&ho(h,e,s,c,null,null);var f=null!==h.inputs&&h.inputs[s];f&&Oo(t,e,f,s,c)}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=o)}(fn(),dn(),e,t)}function $l(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Kl=new Map,Zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new Rl(_assertThisInitialized(r));var o=jt(e),a=e[Je]||null;return a&&$l(a),r._bootstrapComponents=ri(o.bootstrap),r._r3Injector=da(e,i,[{provide:vt,useValue:_assertThisInitialized(r)},{provide:il,useValue:r.componentFactoryResolver}],ze(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wa.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce.Default;return e===wa||e===vt||e===nt?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(vt),Yl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).moduleType=e,null!==jt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ze(t)," vs ").concat(ze(t.name)))})(n,Kl.get(n),t),Kl.set(n,t)}var i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(e),i}return _createClass(n,[{key:"create",value:function(e){return new Zl(this.moduleType,e)}}]),n}(mt);function Ql(e,t,n){var i=wn()+e,r=fn();return r[i]===Tr?Ma(r,i,n?t.call(n):t()):Fa(r,i)}function Jl(e,t,n,i){return function(e,t,n,i,r,o){var a=t+n;return Pa(e,a,r)?Ma(e,a+1,o?i.call(o,r):i(r)):ru(e,a+1)}(fn(),wn(),e,t,n,i)}function Xl(e,t,n,i,r){return function(e,t,n,i,r,o,a){var s=t+n;return za(e,s,r,o)?Ma(e,s+2,a?i.call(a,r,o):i(r,o)):ru(e,s+2)}(fn(),wn(),e,t,n,i,r)}function eu(e,t,n,i,r,o){return ou(fn(),wn(),e,t,n,i,r,o)}function tu(e,t,n,i,r,o,a){return function(e,t,n,i,r,o,a,s,l){var u=t+n;return La(e,u,r,o,a,s)?Ma(e,u+4,l?i.call(l,r,o,a,s):i(r,o,a,s)):ru(e,u+4)}(fn(),wn(),e,t,n,i,r,o,a)}function nu(e,t,n,i,r,o,a,s,l){var u=wn()+e,c=fn(),h=La(c,u,n,i,r,o);return za(c,u+4,a,s)||h?Ma(c,u+6,l?t.call(l,n,i,r,o,a,s):t(n,i,r,o,a,s)):Fa(c,u+6)}function iu(e,t,n,i,r,o,a,s,l,u){var c=wn()+e,h=fn(),f=La(h,c,n,i,r,o);return Na(h,c+4,a,s,l)||f?Ma(h,c+7,u?t.call(u,n,i,r,o,a,s,l):t(n,i,r,o,a,s,l)):Fa(h,c+7)}function ru(e,t){var n=e[t];return n===Tr?void 0:n}function ou(e,t,n,i,r,o,a,s){var l=t+n;return Na(e,l,r,o,a)?Ma(e,l+3,s?i.call(s,r,o,a):i(r,o,a)):ru(e,l+3)}function au(e,t){var n,i=dn(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=Lt(n.type)),a=lt(Ga),s=ai(!1),l=o();return ai(s),lt(a),function(e,t,n,i){var r=n+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(i,fn(),e,l),l}function su(e,t,n,i,r){var o=fn(),a=tn(o,e);return function(e,t){return Aa.isWrapped(t)&&(t=Aa.unwrap(t),e[Cn()]=Tr),t}(o,function(e,t){return e[1].data[t+20].pure}(o,e)?ou(o,wn(),t,a.transform,n,i,r,a):a.transform(n,i,r))}var lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=i,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var r,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),i&&(a=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,o,a);return e instanceof _&&e.add(s),s}}]),n}(j);function uu(){return this._results[Ia()]()}var cu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new lu,this.length=0;var t=Ia(),n=e.prototype;n[t]||(n[t]=uu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),hu=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var a=n.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Eu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),du=function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=i,this.read=r},pu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),vu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,mu(t,n[i]));else{var r=this.metadata.predicate;r===Ol?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,mi(t,e,r,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===rl||i===El||i===Ol&&0===t.type)this.addMatch(t.index,-2);else{var r=mi(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function mu(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function gu(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?na(rl,e,t):0===e.type?ia(Ol,rl,e,t):null}(t,e):-2===n?function(e,t,n){return n===rl?na(rl,t,e):n===Ol?ia(Ol,rl,t,e):n===El?ra(El,rl,t,e):void 0}(e,t,i):gi(e,e[1],n,t)}function yu(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var o=e.data,a=n.matches,s=[],l=0;l<a.length;l+=2){var u=a[l];s.push(u<0?null:gu(t,o[u],a[l+1],n.metadata.read))}r.matches=s}return r.matches}function ku(e){var t=fn(),n=dn(),i=On();In(i+1);var r=Eu(n,i);if(e.dirty&&on(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{var o=r.crossesNgTemplate?function e(t,n,i,r){var o=t.queries.getByIndex(i),a=o.matches;if(null!==a)for(var s=yu(t,n,o,i),l=0;l<a.length;l+=2){var u=a[l];if(u>0)r.push(s[l/2]);else{for(var c=a[l+1],h=n[-u],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,c,r)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var m=p[v];e(m[1],m,c,r)}}}return r}(n,t,i,[]):yu(n,t,r,i);e.reset(o),e.notifyOnChanges()}return!0}return!1}function bu(e,t,n){Cu(dn(),fn(),e,t,n,!0)}function wu(e,t,n){Cu(dn(),fn(),e,t,n,!1)}function Cu(e,t,n,i,r,o){e.firstCreatePass&&(Iu(e,new du(n,i,o,r),-1),o&&(e.staticViewQueries=!0)),Ou(e,t)}function _u(e,t,n,i){xu(dn(),fn(),t,n,i,!1,vn(),e)}function Su(e,t,n,i){xu(dn(),fn(),t,n,i,!0,vn(),e)}function xu(e,t,n,i,r,o,a,s){e.firstCreatePass&&(Iu(e,new du(n,i,o,r),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),Ou(e,t)}function Tu(){return e=fn(),t=On(),e[19].queries[t].queryList;var e,t}function Ou(e,t){var n=new cu;!function(e,t,n,i){var r=So(t);r.push(n),e.firstCreatePass&&xo(e).push(i,r.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new fu),t[19].queries.push(new hu(n))}function Iu(e,t,n){null===e.queries&&(e.queries=new pu),e.queries.track(new vu(t,n))}function Eu(e,t){return e.queries.getByIndex(t)}function Au(e,t){return ia(Ol,rl,e,t)}var Du=new tt("Application Initializer"),Ru=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();ts(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(Du,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Mu=new tt("AppId"),Fu={provide:Mu,useFactory:function(){return"".concat(Pu()).concat(Pu()).concat(Pu())},deps:[]};function Pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var zu=new tt("Platform Initializer"),Nu=new tt("Platform ID"),Lu=new tt("appBootstrapListener"),ju=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Vu=new tt("LocaleId"),Bu=new tt("DefaultCurrencyCode"),Hu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Gu=function(e){return new Yl(e)},Uu=Gu,Wu=function(e){return Promise.resolve(Gu(e))},qu=function(e){var t=Gu(e),n=ri(jt(e).declarations).reduce((function(e,t){var n=Nt(t);return n&&e.push(new Pl(n)),e}),[]);return new Hu(t,n)},$u=qu,Ku=function(e){return Promise.resolve(qu(e))},Zu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Uu,this.compileModuleAsync=Wu,this.compileModuleAndAllComponentsSync=$u,this.compileModuleAndAllComponentsAsync=Ku}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Yu=new tt("compilerOptions"),Qu=Promise.resolve(0);function Ju(e){"undefined"==typeof Zone?Qu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Xu=function(){function e(t){var n,i,r=t.enableLongStackTrace,o=void 0!==r&&r,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=$e.requestAnimationFrame,t=$e.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($e,(function(){e.lastRequestAnimationFrameId=-1,ic(e),nc(e)})),ic(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,r,o,a,s){try{return rc(n),e.invokeTask(r,o,a,s)}finally{i&&"eventTask"===o.type&&i(),oc(n)}},onInvoke:function(e,t,i,r,o,a,s){try{return rc(n),e.invoke(i,r,o,a,s)}finally{oc(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,ic(n),nc(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,tc,ec,ec);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function ec(){}var tc={};function nc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function ic(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function rc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function oc(e){e._nesting--,nc(e)}var ac,sc=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),lc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Xu.assertNotInAngularZone(),Ju((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Ju((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(Xu))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),uc=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,cc.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return cc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),cc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),hc=function(e,t,n){var i=e.get(Yu,[]).concat(t),r=new Yl(n);if(0===_a.size)return Promise.resolve(r);var o,a,s=(o=i.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(r);var l=function(){var e=$e.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),u=wa.create({providers:s}).get(l.ResourceLoader);return function(e){var t=[],n=new Map;function i(e){var t=n.get(e);if(!t){var i=function(e){return Promise.resolve(u.get(e))}(e);n.set(e,t=i.then(xa))}return t}return _a.forEach((function(e,n){var r=[];e.templateUrl&&r.push(i(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),r.push(i(t).then((function(i){a[s+n]=i,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var l=Promise.all(r).then((function(){return function(e){Sa.delete(e)}(n)}));t.push(l)})),_a=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},fc=new tt("AllowMultipleToken"),dc=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function pc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+t,r=new tt(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=vc();if(!o||o.injector.get(fc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var a=n.concat(t).concat({provide:r,useValue:!0},{provide:sa,useValue:"platform"});!function(e){if(ac&&!ac.destroyed&&!ac.injector.get(fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ac=e.get(mc);var t=e.get(zu,null);t&&t.forEach((function(e){return e()}))}(wa.create({providers:a,name:i}))}return function(e){var t=vc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function vc(){return ac&&!ac.destroyed?ac:null}var mc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,o=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new sc:("zone.js"===n?void 0:n)||new Xu({enableLongStackTrace:Ni(),shouldCoalesceEventChangeDetection:i})),a=[{provide:Xu,useValue:o}];return o.run((function(){var t=wa.create({providers:a,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(xi,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return bc(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var o=((a=n.injector.get(Ru)).runInitializers(),a.donePromise.then((function(){return $l(n.injector.get(Vu,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return ts(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(i,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=gc({},n);return hc(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(kc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ze(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(wa))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function gc(e,t){return Array.isArray(t)?t.reduce(gc,e):Object.assign(Object.assign({},e),t)}var yc,kc=((yc=function(){function e(t,n,i,r,o,a){var s=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ni(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var l=new M((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),u=new M((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Xu.assertNotInAngularZone(),Ju((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Xu.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=se(l,u.pipe(ve()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof tl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(vt),o=n.create(wa.NULL,[],t||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var a=o.injector.get(lc,null);return a&&o.injector.get(uc).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Ni()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var i,r=_createForOfIteratorHelper(this._views);try{for(r.s();!(i=r.n()).done;)i.value.checkNoChanges()}catch(o){r.e(o)}finally{r.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;bc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Lu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),bc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||yc)(ct(Xu),ct(ju),ct(wa),ct(xi),ct(il),ct(Ru))},yc.\u0275prov=xe({token:yc,factory:yc.\u0275fac}),yc);function bc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var wc=function e(){_classCallCheck(this,e)},Cc=function e(){_classCallCheck(this,e)},_c={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Sc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||_c}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=_slicedToArray(e.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),n("zn8P")(r).then((function(e){return e[o]})).then((function(e){return xc(e,r,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),i=t[0],r=t[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[r+o]})).then((function(e){return xc(e,i,r)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(Zu),ct(Cc,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function xc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Tc=pc(null,"core",[{provide:Nu,useValue:"unknown"},{provide:mc,deps:[wa]},{provide:uc,deps:[]},{provide:ju,deps:[]}]),Oc=[{provide:kc,useClass:kc,deps:[Xu,ju,wa,xi,il,Ru]},{provide:Fl,deps:[Xu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Ru,useClass:Ru,deps:[[new ke,Du]]},{provide:Zu,useClass:Zu,deps:[]},Fu,{provide:Cl,useFactory:function(){return xl},deps:[]},{provide:_l,useFactory:function(){return Tl},deps:[]},{provide:Vu,useFactory:function(e){return $l(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ye(Vu),new ke,new we]]},{provide:Bu,useValue:"USD"}],Ic=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Ft({type:e}),e.\u0275inj=Oe({factory:function(t){return new(t||e)(ct(kc))},providers:Oc}),e}(),Ec=null;function Ac(){return Ec}var Dc,Rc=new tt("DocumentToken"),Mc=((Dc=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Dc)},Dc.\u0275prov=xe({factory:Fc,token:Dc,providedIn:"platform"}),Dc);function Fc(){return ct(Nc)}var Pc,zc=new tt("Location Initialized"),Nc=((Pc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=Ac().getLocation(),this._history=Ac().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Ac().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Ac().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Ac().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Lc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Lc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Mc)).\u0275fac=function(e){return new(e||Pc)(ct(Rc))},Pc.\u0275prov=xe({factory:jc,token:Pc,providedIn:"platform"}),Pc);function Lc(){return!!window.history.pushState}function jc(){return new Nc(ct(Rc))}function Vc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Bc(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Hc(e){return e&&"?"!==e[0]?"?"+e:e}var Gc,Uc=((Gc=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Gc)},Gc.\u0275prov=xe({factory:Wc,token:Gc,providedIn:"root"}),Gc);function Wc(e){var t=ct(Rc).location;return new Yc(ct(Mc),t&&t.origin||"")}var qc,$c,Kc,Zc=new tt("appBaseHref"),Yc=((Kc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;if(_classCallCheck(this,n),(r=t.call(this))._platformLocation=e,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,_possibleConstructorReturn(r)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Vc(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Hc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Hc(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Hc(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Uc)).\u0275fac=function(e){return new(e||Kc)(ct(Mc),ct(Zc,8))},Kc.\u0275prov=xe({token:Kc,factory:Kc.\u0275fac}),Kc),Qc=(($c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",null!=i&&(r._baseHref=i),r}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Vc(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Hc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+Hc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Uc)).\u0275fac=function(e){return new(e||$c)(ct(Mc),ct(Zc,8))},$c.\u0275prov=xe({token:$c,factory:$c.\u0275fac}),$c),Jc=((qc=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new lu,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Bc(eh(r)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Hc(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,eh(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hc(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hc(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||qc)(ct(Uc),ct(Mc))},qc.normalizeQueryParams=Hc,qc.joinWithSlash=Vc,qc.stripTrailingSlash=Bc,qc.\u0275prov=xe({factory:Xc,token:qc,providedIn:"root"}),qc);function Xc(){return new Jc(ct(Uc),ct(Mc))}function eh(e){return e.replace(/\/index.html$/,"")}var th,nh,ih,rh,oh=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ah=function e(){_classCallCheck(this,e)},sh=((nh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Vl(t);if(n)return n;var i=t.split("-")[0];if(n=Vl(i))return n;if("en"===i)return Ll;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[Bl.PluralCase]}(t||this.locale)(e)){case oh.Zero:return"zero";case oh.One:return"one";case oh.Two:return"two";case oh.Few:return"few";case oh.Many:return"many";default:return"other"}}}]),n}(ah)).\u0275fac=function(e){return new(e||nh)(ct(Vu))},nh.\u0275prov=xe({token:nh,factory:nh.\u0275fac}),nh),lh=((th=function(){function e(t,n,i,r){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ze(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Da(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}()).\u0275fac=function(e){return new(e||th)(Ga(Cl),Ga(_l),Ga(rl),Ga(ll))},th.\u0275dir=zt({type:th,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),th),uh=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),ch=((ih=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new uh(null,t._ngForOf,-1,-1),null===r?void 0:r),a=new hh(e,o);n.push(a)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=t._viewContainer.get(i);t._viewContainer.move(s,r);var l=new hh(e,s);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Ni()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||ih)(Ga(El),Ga(Ol),Ga(Cl))},ih.\u0275dir=zt({type:ih,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),ih),hh=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},fh=((rh=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new dh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){ph("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){ph("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||rh)(Ga(El),Ga(Ol))},rh.\u0275dir=zt({type:rh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),rh),dh=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function ph(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ze(t),"'."))}var vh,mh,gh,yh,kh,bh,wh,Ch,_h,Sh,xh,Th=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Oh=((wh=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}()).\u0275fac=function(e){return new(e||wh)},wh.\u0275dir=zt({type:wh,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),wh),Ih=((bh=function(){function e(t,n,i){_classCallCheck(this,e),this.ngSwitch=i,i._addCase(),this._view=new Th(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||bh)(Ga(El),Ga(Ol),Ga(Oh,1))},bh.\u0275dir=zt({type:bh,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),bh),Eh=((kh=function e(t,n,i){_classCallCheck(this,e),i._addDefault(new Th(t,n))}).\u0275fac=function(e){return new(e||kh)(Ga(El),Ga(Ol),Ga(Oh,1))},kh.\u0275dir=zt({type:kh,selectors:[["","ngSwitchDefault",""]]}),kh),Ah=((yh=function(){function e(t,n,i){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),i=n[0],r=n[1];null!=(t=null!=t&&r?"".concat(t).concat(r):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}()).\u0275fac=function(e){return new(e||yh)(Ga(rl),Ga(_l),Ga(ll))},yh.\u0275dir=zt({type:yh,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),yh),Dh=((gh=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,r=_createForOfIteratorHelper(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(-1===t.indexOf(o))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}()).\u0275fac=function(e){return new(e||gh)(Ga(El))},gh.\u0275dir=zt({type:gh,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Us]}),gh),Rh=((mh=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:mh}),mh.\u0275inj=Oe({factory:function(e){return new(e||mh)},providers:[{provide:ah,useClass:sh}]}),mh),Mh=((vh=function e(){_classCallCheck(this,e)}).\u0275prov=xe({token:vh,providedIn:"root",factory:function(){return new Fh(ct(Rc),window,ct(xi))}}),vh),Fh=function(){function e(t,n,i){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Ph=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=zh||(zh=document.querySelector("base"))?zh.getAttribute("href"):null;return null==n?null:(t=n,Ch||(Ch=document.createElement("a")),Ch.setAttribute("href",t),"/"===Ch.pathname.charAt(0)?Ch.pathname:"/"+Ch.pathname)}},{key:"resetBaseElement",value:function(){zh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,i=_createForOfIteratorHelper(e.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),a=_slicedToArray(-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],2),s=a[0],l=a[1];if(s.trim()===t)return decodeURIComponent(l)}}catch(u){i.e(u)}finally{i.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Ec||(Ec=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),zh=null,Nh=new tt("TRANSITION_ID"),Lh=[{provide:Du,useFactory:function(e,t,n){return function(){n.get(Ru).donePromise.then((function(){var n=Ac();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Nh,Rc,wa],multi:!0}],jh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){$e.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},$e.getAllAngularTestabilities=function(){return e.getAllTestabilities()},$e.getAllAngularRootElements=function(){return e.getAllRootElements()},$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push((function(e){var t=$e.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Ac().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){cc=e}(new e)}}]),e}(),Vh=new tt("EventManagerPlugins"),Bh=((_h=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||_h)(ct(Vh),ct(Xu))},_h.\u0275prov=xe({token:_h,factory:_h.\u0275fac}),_h),Hh=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Ac().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),Gh=((xh=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||xh)},xh.\u0275prov=xe({token:xh,factory:xh.\u0275fac}),xh),Uh=((Sh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Ac().remove(e)}))}}]),n}(Gh)).\u0275fac=function(e){return new(e||Sh)(ct(Rc))},Sh.\u0275prov=xe({token:Sh,factory:Sh.\u0275fac}),Sh),Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qh=/%COMP%/g;function $h(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?$h(e,r,n):(r=r.replace(qh,e),n.push(r))}return n}function Kh(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Zh,Yh,Qh,Jh,Xh,ef,tf=((Zh=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nf(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Tt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new rf(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case Tt.Native:case Tt.ShadowDom:return new of(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=$h(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Zh)(ct(Bh),ct(Uh),ct(Mu))},Zh.\u0275prov=xe({token:Zh,factory:Zh.\u0275fac}),Zh),nf=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Wh[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=Wh[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=Wh[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&sl.DashCase?e.style.setProperty(t,n,i&sl.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&sl.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kh(n)):this.eventManager.addEventListener(e,t,Kh(n))}}]),e}(),rf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=r;var s,l=$h(o+"-"+r.id,r.styles,[]);return i.addStyles(l),a.contentAttr="_ngcontent-%COMP%".replace(qh,o+"-"+r.id),a.hostAttr=(s=o+"-"+r.id,"_nghost-%COMP%".replace(qh,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(nf),of=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=i,a.hostEl=r,a.component=o,a.shadowRoot=o.encapsulation===Tt.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=$h(o.id,o.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],a.shadowRoot.appendChild(u)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(nf),af=((Yh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Hh)).\u0275fac=function(e){return new(e||Yh)(ct(Rc))},Yh.\u0275prov=xe({token:Yh,factory:Yh.\u0275fac}),Yh),sf=["alt","control","meta","shift"],lf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cf={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},hf=((Xh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Ac().onAndCancel(e,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),o="";if(sf.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=r,0!=t.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&uf.hasOwnProperty(t)&&(t=uf[t]))}return lf[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),sf.forEach((function(i){i!=n&&(0,cf[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded((function(){return t(r)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Hh)).\u0275fac=function(e){return new(e||Xh)(ct(Rc))},Xh.\u0275prov=xe({token:Xh,factory:Xh.\u0275fac}),Xh),ff=((Jh=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Jh)},Jh.\u0275prov=xe({factory:function(){return ct(df)},token:Jh,providedIn:"root"}),Jh),df=((Qh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case ar.NONE:return t;case ar.HTML:return Mi(t,"HTML")?Ri(t):rr(this._doc,String(t));case ar.STYLE:return Mi(t,"Style")?Ri(t):function(e){if(!(e=String(e).trim()))return"";var t=e.match(lr);return t&&Bi(t[1])===t[1]||e.match(sr)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(Ni()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t);case ar.SCRIPT:if(Mi(t,"Script"))return Ri(t);throw new Error("unsafe value used in a script context");case ar.URL:return Fi(t),Mi(t,"URL")?Ri(t):Bi(String(t));case ar.RESOURCE_URL:if(Mi(t,"ResourceURL"))return Ri(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new Oi(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Ii(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new Ei(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Ai(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Di(e)}}]),n}(ff)).\u0275fac=function(e){return new(e||Qh)(ct(Rc))},Qh.\u0275prov=xe({factory:function(){return e=ct(nt),new df(e.get(Rc));var e},token:Qh,providedIn:"root"}),Qh),pf=pc(Tc,"browser",[{provide:Nu,useValue:"browser"},{provide:zu,useValue:function(){Ph.makeCurrent(),jh.init()},multi:!0},{provide:Rc,useFactory:function(){return function(e){$t=e}(document),document},deps:[]}]),vf=[[],{provide:sa,useValue:"root"},{provide:xi,useFactory:function(){return new xi},deps:[]},{provide:Vh,useClass:af,multi:!0,deps:[Rc,Xu,Nu]},{provide:Vh,useClass:hf,multi:!0,deps:[Rc]},[],{provide:tf,useClass:tf,deps:[Bh,Uh,Mu]},{provide:al,useExisting:tf},{provide:Gh,useExisting:Uh},{provide:Uh,useClass:Uh,deps:[Rc]},{provide:lc,useClass:lc,deps:[Xu]},{provide:Bh,useClass:Bh,deps:[Vh,Xu]},[]],mf=((ef=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Mu,useValue:t.appId},{provide:Nh,useExisting:Mu},Lh]}}}]),e}()).\u0275mod=Ft({type:ef}),ef.\u0275inj=Oe({factory:function(e){return new(e||ef)(ct(ef,12))},providers:vf,imports:[Rh,Ic]}),ef);function gf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return B(i)?(t.pop(),ee(t,i)):ae(t)}"undefined"!=typeof window&&window;var yf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._value=e,i}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(j),kf=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),bf={};function wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=null,r=null;return B(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&y(t[0])&&(t=t[0]),ae(t,r).lift(new Cf(i))}var Cf=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _f(e,this.resultSelector))}}]),e}(),_f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _createClass(n,[{key:"_next",value:function(e){this.values.push(bf),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Z(this,i,i,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){var o=this.values,a=this.toRespond?o[n]===bf?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Y),Sf=new M((function(e){return e.complete()}));function xf(e){return e?function(e){return new M((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Sf}function Tf(e){return new M((function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?te(n):xf()).subscribe(t)}))}function Of(){return oe(1)}function If(e,t){return function(n){return n.lift(new Ef(e,t))}}var Ef=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Af(e,this.predicate,this.thisArg))}}]),e}(),Af=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=i,o.thisArg=r,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(T),Df=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Rf(e){return function(t){return 0===e?xf():t.lift(new Mf(e))}}var Mf=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Df}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ff(e,this.total))}}]),e}(),Ff=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()}}]),n}(T);function Pf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lf;return function(t){return t.lift(new zf(e))}}var zf=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nf(e,this.errorFactory))}}]),e}(),Nf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(T);function Lf(){return new kf}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Vf(e))}}var Vf=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Bf(e,this.defaultValue))}}]),e}(),Bf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(T);function Hf(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?If((function(t,n){return e(t,n,i)})):E,Rf(1),n?jf(t):Pf((function(){return new kf})))}}function Gf(e){return function(t){var n=new Uf(e),i=t.lift(n);return n.caught=i}}var Uf=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wf(e,this.selector,this.caught))}}]),e}(),Wf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=i,o.caught=r,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new H(this,void 0,void 0);this.add(i);var r=Z(this,t,void 0,void 0,i);r!==i&&this.add(r)}}}]),n}(Y);function qf(e){return function(t){return 0===e?xf():t.lift(new $f(e))}}var $f=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Df}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Kf(e,this.total))}}]),e}(),Kf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(T);function Zf(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?If((function(t,n){return e(t,n,i)})):E,qf(1),n?jf(t):Pf((function(){return new kf})))}}var Yf=function(){function e(t,n,i){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Qf(e,this.predicate,this.thisArg,this.source))}}]),e}(),Qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=i,a.thisArg=r,a.source=o,a.index=0,a.thisArg=r||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(T);function Jf(e,t){return"function"==typeof t?function(n){return n.pipe(Jf((function(n,i){return te(e(n,i)).pipe(Q((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new Xf(e))}}var Xf=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ed(e,this.project))}}]),e}(),ed=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new H(this,t,n),o=this.destination;o.add(r),this.innerSubscription=Z(this,e,void 0,void 0,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}}]),n}(Y);function td(){return Of()(gf.apply(void 0,arguments))}function nd(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new id(e,t,n))}}var id=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new rd(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),rd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(T);function od(e,t){return ne(e,t,1)}function ad(){}function sd(e,t,n){return function(i){return i.lift(new ud(e,t,n))}}var ld,ud=function(){function e(t,n,i){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new cd(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._tapNext=ad,a._tapError=ad,a._tapComplete=ad,a._tapError=r||ad,a._tapComplete=o||ad,d(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||ad,a._tapError=i.error||ad,a._tapComplete=i.complete||ad),a}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(T),hd=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new fd(e,this.callback))}}]),e}(),fd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).add(new _(i)),r}return n}(T),dd=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},pd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(r=t.call(this,e,i)).navigationTrigger=o,r.restoredState=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(dd),vd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(dd),md=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).reason=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(dd),gd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).error=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(dd),yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(dd),kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(dd),bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(dd),wd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(dd),Cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(dd),_d=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Sd=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),xd=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Td=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Od=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Id=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ed=function(){function e(t,n,i){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Ad=((ld=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ld)},ld.\u0275cmp=At({type:ld,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ya(0,"router-outlet")},directives:function(){return[Bv]},encapsulation:2}),ld),Dd=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Rd(e){return new Dd(e)}function Md(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Fd(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=e[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}var Pd=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function zd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];Nd(i,Ld(t,i))}}function Nd(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&zd(e.children,t)}function Ld(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function jd(e){var t=e.children&&e.children.map(jd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ad),n}function Vd(e,t){var n,i=Object.keys(e),r=Object.keys(t);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!Bd(e[n=i[o]],t[n]))return!1;return!0}function Bd(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Hd(e){return Array.prototype.concat.apply([],e)}function Gd(e){return e.length>0?e[e.length-1]:null}function Ud(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Wd(e){return ns(e)?e:ts(e)?te(Promise.resolve(e)):gf(e)}function qd(e,t,n){return n?function(e,t){return Vd(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Yd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Bd(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!Yd(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Yd(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!e(n.children[o],i.children[o]))return!1}return!0}var a=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Yd(n.segments,a)&&!!n.children.primary&&t(n.children.primary,i,s)}(t,n,n.segments)}(e.root,t.root)}var $d=function(){function e(t,n,i){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=i}return _createClass(e,[{key:"toString",value:function(){return ep.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Rd(this.queryParams)),this._queryParamMap}}]),e}(),Kd=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Ud(n,(function(e,t){return e.parent=i}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return tp(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Zd=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return sp(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Rd(this.parameters)),this._parameterMap}}]),e}();function Yd(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Qd(e,t){var n=[];return Ud(e.children,(function(e,i){"primary"===i&&(n=n.concat(t(e,i)))})),Ud(e.children,(function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))})),n}var Jd=function e(){_classCallCheck(this,e)},Xd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new fp(e);return new $d(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return tp(t);if(n){var i=t.children.primary?e(t.children.primary,!1):"",r=[];return Ud(t.children,(function(t,n){"primary"!==n&&r.push("".concat(n,":").concat(e(t,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var o=Qd(t,(function(n,i){return"primary"===i?[e(t.children.primary,!1)]:["".concat(i,":").concat(e(n,!1))]}));return"".concat(tp(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(ip(e),"=").concat(ip(t))})).join("&"):"".concat(ip(e),"=").concat(ip(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),ep=new Xd;function tp(e){return e.segments.map((function(e){return sp(e)})).join("/")}function np(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ip(e){return np(e).replace(/%3B/gi,";")}function rp(e){return np(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function op(e){return decodeURIComponent(e)}function ap(e){return op(e.replace(/\+/g,"%20"))}function sp(e){return"".concat(rp(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(rp(e),"=").concat(rp(t[e]))})).join("")));var t}var lp=/^[^\/()?;=#]+/;function up(e){var t=e.match(lp);return t?t[0]:""}var cp=/^[^=?&#]+/,hp=/^[^?&#]+/,fp=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kd([],{}):new Kd([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Kd(e,t)),n}},{key:"parseSegment",value:function(){var e=up(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Zd(op(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=up(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=up(this.remaining);i&&(n=i,this.capture(n))}e[op(t)]=op(n)}}},{key:"parseQueryParam",value:function(e){var t,n,i=(t=this.remaining,(n=t.match(cp))?n[0]:"");if(i){this.capture(i);var r="";if(this.consumeOptional("=")){var o=function(e){var t=e.match(hp);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}var a=ap(i),s=ap(r);if(e.hasOwnProperty(a)){var l=e[a];Array.isArray(l)||(l=[l],e[a]=l),l.push(s)}else e[a]=s}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=up(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");var o=this.parseChildren();t[r]=1===Object.keys(o).length?o.primary:new Kd([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),dp=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=pp(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=pp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=vp(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return vp(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function pp(e,t){if(e===t.value)return t;var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=pp(e,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function vp(e,t){if(e===t.value)return[t];var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=vp(e,n.value);if(r.length)return r.unshift(t),r}}catch(o){i.e(o)}finally{i.f()}return[]}var mp=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function gp(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).snapshot=i,Sp(_assertThisInitialized(r),e),r}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(dp);function kp(e,t){var n=function(e,t){var n=new Cp([],{},{},"",{},"primary",t,null,e.root,-1,{});return new _p("",new mp(n,[]))}(e,t),i=new yf([new Zd("",{})]),r=new yf({}),o=new yf({}),a=new yf({}),s=new yf(""),l=new bp(i,r,a,s,o,"primary",t,n.root);return l.snapshot=n.root,new yp(new mp(l,[]),n)}var bp=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=l}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Q((function(e){return Rd(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q((function(e){return Rd(e)})))),this._queryParamMap}}]),e}();function wp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var Cp=function(){function e(t,n,i,r,o,a,s,l,u,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Rd(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Rd(this.queryParams)),this._queryParamMap}}]),e}(),_p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,i)).url=e,Sp(_assertThisInitialized(r),i),r}return _createClass(n,[{key:"toString",value:function(){return xp(this._root)}}]),n}(dp);function Sp(e,t){t.value._routerState=e,t.children.forEach((function(t){return Sp(e,t)}))}function xp(e){var t=e.children.length>0?" { ".concat(e.children.map(xp).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Tp(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Vd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Vd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Vd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Vd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Op(e,t){var n,i;return Vd(e.params,t.params)&&Yd(n=e.url,i=t.url)&&n.every((function(e,t){return Vd(e.parameters,i[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Op(e.parent,t.parent))}function Ip(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ep(e,t,n,i,r){var o={};return i&&Ud(i,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new $d(n.root===e?t:function e(t,n,i){var r={};return Ud(t.children,(function(t,o){r[o]=t===n?i:e(t,n,i)})),new Kd(t.segments,r)}(n.root,e,t),o,r)}var Ap=function(){function e(t,n,i){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Ip(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(r&&r!==Gd(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Dp=function e(t,n,i){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function Rp(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Mp(e,t,n){if(e||(e=new Kd([],{})),0===e.segments.length&&e.hasChildren())return Fp(e,t,n);var i=function(e,t,n){for(var i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return o;var a=e.segments[r],s=Rp(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!Lp(s,l,a))return o;i+=2}else{if(!Lp(s,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var o=new Kd(e.segments.slice(0,i.pathIndex),{});return o.children.primary=new Kd(e.segments.slice(i.pathIndex),e.children),Fp(o,0,r)}return i.match&&0===r.length?new Kd(e.segments,{}):i.match&&!e.hasChildren()?Pp(e,t,n):i.match?Fp(e,0,r):Pp(e,t,n)}function Fp(e,t,n){if(0===n.length)return new Kd(e.segments,{});var i=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),r={};return Ud(i,(function(n,i){null!==n&&(r[i]=Mp(e.children[i],t,n))})),Ud(e.children,(function(e,t){void 0===i[t]&&(r[t]=e)})),new Kd(e.segments,r)}function Pp(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=zp(n[r].outlets);return new Kd(i,o)}if(0===r&&Ip(n[0]))i.push(new Zd(e.segments[t].path,n[0])),r++;else{var a=Rp(n[r]),s=r<n.length-1?n[r+1]:null;a&&s&&Ip(s)?(i.push(new Zd(a,Np(s))),r+=2):(i.push(new Zd(a,{})),r++)}}return new Kd(i,{})}function zp(e){var t={};return Ud(e,(function(e,n){null!==e&&(t[n]=Pp(new Kd([],{}),0,e))})),t}function Np(e){var t={};return Ud(e,(function(e,n){return t[n]=""+e})),t}function Lp(e,t,n){return e==n.path&&Vd(t,n.parameters)}var jp=function(){function e(t,n,i,r){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Tp(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=gp(t);e.children.forEach((function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]})),Ud(r,(function(e,t){i.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var r=gp(e),o=e.value.component?i.children:t;Ud(r,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=gp(t);e.children.forEach((function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new Id(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Td(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(Tp(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Vp(s.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Vp(e){Tp(e.value),e.children.forEach(Vp)}function Bp(e){return"function"==typeof e}function Hp(e){return e instanceof $d}var Gp=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Up=function e(t){_classCallCheck(this,e),this.urlTree=t};function Wp(e){return new M((function(t){return t.error(new Gp(e))}))}function qp(e){return new M((function(t){return t.error(new Up(e))}))}function $p(e){return new M((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Kp=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(vt)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Q((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Gf((function(t){if(t instanceof Up)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Gp)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Q((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Gf((function(e){if(e instanceof Gp)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Kd([],{primary:e}):e;return new $d(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Q((function(e){return new Kd([],e)}))):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return gf({});var o=[],a=[],s={};return Ud(n,(function(n,r){var l,u,c=(l=r,u=n,i.expandSegmentGroup(e,t,u,l)).pipe(Q((function(e){return s[r]=e})));"primary"===r?o.push(c):a.push(c)})),gf.apply(null,o.concat(a)).pipe(Of(),Hf(),Q((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,r,o){var a=this;return gf.apply(void 0,_toConsumableArray(n)).pipe(Q((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,i,r,o).pipe(Gf((function(e){if(e instanceof Gp)return gf(null);throw e})))})),Of(),Zf((function(e){return!!e})),Gf((function(e,n){if(e instanceof kf||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,i,r))return gf(new Kd([],{}));throw new Gp(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,o,a){return Jp(i)!==o?Wp(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o):Wp(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qp(o):this.lineralizeSegments(n,o).pipe(ne((function(n){var o=new Kd(n,{});return r.expandSegment(e,o,t,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){var a=this,s=Zp(t,i,r),l=s.matched,u=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!l)return Wp(t);var f=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?qp(f):this.lineralizeSegments(i,f).pipe(ne((function(i){return a.expandSegment(e,t,n,i.concat(r.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Q((function(e){return n._loadedConfig=e,new Kd(i,{})}))):gf(new Kd(i,{}));var o=Zp(t,n,i),a=o.matched,s=o.consumedSegments,l=o.lastChild;if(!a)return Wp(t);var u=i.slice(l);return this.getChildConfig(e,n,i).pipe(ne((function(e){var n=e.module,i=e.routes,o=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some((function(n){return Qp(e,t,n)&&"primary"!==Jp(n)}))}(e,n,i)?{segmentGroup:Yp(new Kd(t,function(e,t){var n={};n.primary=t;var i,r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;""===o.path&&"primary"!==Jp(o)&&(n[Jp(o)]=new Kd([],{}))}}catch(a){r.e(a)}finally{r.f()}return n}(i,new Kd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Qp(e,t,n)}))}(e,n,i)?{segmentGroup:Yp(new Kd(e.segments,function(e,t,n,i){var r,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;Qp(e,t,s)&&!i[Jp(s)]&&(o[Jp(s)]=new Kd([],{}))}}catch(l){a.e(l)}finally{a.f()}return Object.assign(Object.assign({},i),o)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,u,i),a=o.segmentGroup,l=o.slicedSegments;return 0===l.length&&a.hasChildren()?r.expandChildren(n,i,a).pipe(Q((function(e){return new Kd(s,e)}))):0===i.length&&0===l.length?gf(new Kd(s,{})):r.expandSegment(n,a,i,l,"primary",!0).pipe(Q((function(e){return new Kd(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?gf(new Pd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gf(t._loadedConfig):function(e,t,n){var i,r=t.canLoad;return r&&0!==r.length?te(r).pipe(Q((function(i){var r,o=e.get(i);if(function(e){return e&&Bp(e.canLoad)}(o))r=o.canLoad(t,n);else{if(!Bp(o))throw new Error("Invalid CanLoad guard");r=o(t,n)}return Wd(r)}))).pipe(Of(),(i=function(e){return!0===e},function(e){return e.lift(new Yf(i,void 0,e))})):gf(!0)}(e.injector,t,n).pipe(ne((function(n){return n?i.configLoader.load(e.injector,t).pipe(Q((function(e){return t._loadedConfig=e,e}))):function(e){return new M((function(t){return t.error(Md("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):gf(new Pd([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return gf(n);if(i.numberOfChildren>1||!i.children.primary)return $p(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new $d(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Ud(e,(function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,o=this.createSegments(e,t.segments,n,i),a={};return Ud(t.children,(function(t,o){a[o]=r.createSegmentGroup(e,t,n,i)})),new Kd(o,a)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map((function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return e}}]),e}();function Zp(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||Fd)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yp(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Kd(e.segments.concat(t.segments),t.children)}return e}function Qp(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Jp(e){return e.outlet||"primary"}var Xp=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},ev=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function tv(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function nv(e,t,n){var i=gp(e),r=e.value;Ud(i,(function(e,i){nv(e,r.component?t?t.children.getContext(i):null:t,n)})),n.canDeactivateChecks.push(new ev(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var iv=Symbol("INITIAL_VALUE");function rv(){return Jf((function(e){return wf.apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(qf(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return B(i)?(t.pop(),function(e){return td(t,e,i)}):function(e){return td(t,e)}}(iv))})))).pipe(nd((function(e,t){var n=!1;return t.reduce((function(e,i,r){if(e!==iv)return e;if(i===iv&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||Hp(i))return i}return e}),e)}),iv),If((function(e){return e!==iv})),Q((function(e){return Hp(e)?e:!0===e})),qf(1))}))}function ov(e,t){return null!==e&&t&&t(new Od(e)),gf(!0)}function av(e,t){return null!==e&&t&&t(new xd(e)),gf(!0)}function sv(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?gf(i.map((function(i){return Tf((function(){var r,o=tv(i,t,n);if(function(e){return e&&Bp(e.canActivate)}(o))r=Wd(o.canActivate(t,e));else{if(!Bp(o))throw new Error("Invalid CanActivate guard");r=Wd(o(t,e))}return r.pipe(Zf())}))}))).pipe(rv()):gf(!0)}function lv(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Tf((function(){return gf(t.guards.map((function(r){var o,a=tv(r,t.node,n);if(function(e){return e&&Bp(e.canActivateChild)}(a))o=Wd(a.canActivateChild(i,e));else{if(!Bp(a))throw new Error("Invalid CanActivateChild guard");o=Wd(a(i,e))}return o.pipe(Zf())}))).pipe(rv())}))}));return gf(r).pipe(rv())}var uv=function e(){_classCallCheck(this,e)},cv=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=dv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Cp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new mp(n,t),r=new _p(this.url,i);return this.inheritParamsAndData(r._root),gf(r)}catch(o){return new M((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=wp(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,r=Qd(t,(function(t,n){return i.processSegmentGroup(e,t,n)}));return n={},r.forEach((function(e){var t=n[e.value.outlet];if(t){var i=t.url.map((function(e){return e.toString()})).join("/"),r=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[e.value.outlet]=e.value})),r.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),r}},{key:"processSegment",value:function(e,t,n,i){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{return this.processSegmentAgainstRoute(a,t,n,i)}catch(s){if(!(s instanceof uv))throw s}}}catch(l){o.e(l)}finally{o.f()}if(this.noLeftoversInUrl(t,n,i))return[];throw new uv}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new uv;if((e.outlet||"primary")!==i)throw new uv;var r,o=[],a=[];if("**"===e.path){var s=n.length>0?Gd(n).parameters:{};r=new Cp(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mv(e),i,e.component,e,hv(t),fv(t)+n.length,gv(e))}else{var l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new uv;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||Fd)(n,e,t);if(!i)throw new uv;var r={};Ud(i.posParams,(function(e,t){r[t]=e.path}));var o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(t,e,n);o=l.consumedSegments,a=n.slice(l.lastChild),r=new Cp(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mv(e),i,e.component,e,hv(t),fv(t)+o.length,gv(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=dv(t,o,a,u,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(u,h);return[new mp(r,d)]}if(0===u.length&&0===f.length)return[new mp(r,[])];var p=this.processSegment(u,h,f,"primary");return[new mp(r,p)]}}]),e}();function hv(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function fv(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function dv(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some((function(n){return pv(e,t,n)&&"primary"!==vv(n)}))}(e,n,i)){var o=new Kd(t,function(e,t,n,i){var r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==vv(s)){var l=new Kd([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,r[vv(s)]=l}}}catch(u){a.e(u)}finally{a.f()}return r}(e,t,i,new Kd(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return pv(e,t,n)}))}(e,n,i)){var a=new Kd(e.segments,function(e,t,n,i,r,o){var a,s={},l=_createForOfIteratorHelper(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(pv(e,n,u)&&!r[vv(u)]){var c=new Kd([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[vv(u)]=c}}}catch(h){l.e(h)}finally{l.f()}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Kd(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function pv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function vv(e){return e.outlet||"primary"}function mv(e){return e.data||{}}function gv(e){return e.resolve||{}}function yv(e,t,n,i){var r=tv(e,t,i);return Wd(r.resolve?r.resolve(t,n):r(t,n))}function kv(e){return function(t){return t.pipe(Jf((function(t){var n=e(t);return n?te(n).pipe(Q((function(){return t}))):te([t])})))}}var bv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),wv=new tt("ROUTES"),Cv=function(){function e(t,n,i,r){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Q((function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var r=i.create(e);return new Pd(Hd(r.injector.get(wv)).map(jd),r)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?te(this.loader.load(e)):Wd(e()).pipe(ne((function(e){return e instanceof mt?gf(e):te(t.compiler.compileModuleAsync(e))})))}}]),e}(),_v=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Sv(e){throw e}function xv(e,t,n){return t.parse("/")}function Tv(e,t){return gf(null)}var Ov,Iv,Ev,Av=((Ev=function(){function e(t,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=Sv,this.malformedUriErrorHandler=xv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Tv,afterPreactivation:Tv},this.urlHandlingStrategy=new _v,this.routeReuseStrategy=new bv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(vt),this.console=o.get(ju);var c=o.get(Xu);this.isNgZoneEnabled=c instanceof Xu,this.resetConfig(l),this.currentUrlTree=new $d(new Kd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cv(a,s,(function(e){return u.triggerEvent(new _d(e))}),(function(e){return u.triggerEvent(new Sd(e))})),this.routerState=kp(this.currentUrlTree,this.rootComponentType),this.transitions=new yf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(If((function(e){return 0!==e.id})),Q((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Jf((function(e){var i,r,o,a,s=!1,l=!1;return gf(e).pipe(sd((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Jf((function(e){var i,r,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return gf(e).pipe(Jf((function(e){var i=t.transitions.getValue();return n.next(new pd(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?Sf:[e]})),Jf((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,r=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Jf((function(e){return function(e,t,n,i,r){return new Kp(e,t,n,i,r).apply()}(i,r,o,e.extractedUrl,a).pipe(Q((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),sd((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,i,r,o){return function(i){return i.pipe(ne((function(i){return function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new cv(e,t,n,i,r,o).recognize()}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),r,o).pipe(Q((function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),sd((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),sd((function(e){var i=new yd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,u=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new pd(l,t.serializeUrl(u),c,h);n.next(d);var p=kp(u,t.rootComponentType).snapshot;return gf(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Sf})),kv((function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,l=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!l})})),sd((function(e){var n=new kd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Q((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,i=e.currentSnapshot,r=t.rootContexts,o=n._root,function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=gp(n);return t.children.forEach((function(t){!function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,l=i?i.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Yd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yd(e.url,t.url)||!Vd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(e,t)||!Vd(e.queryParams,t.queryParams);case"paramsChange":default:return!Op(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Xp(r)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?l?l.children:null:i,r,o),u&&o.canDeactivateChecks.push(new ev(l&&l.outlet&&l.outlet.component||null,s))}else s&&nv(n,l,o),o.canActivateChecks.push(new Xp(r)),e(t,null,a.component?l?l.children:null:i,r,o)}(t,a[t.value.outlet],i,r.concat([t.value]),o),delete a[t.value.outlet]})),Ud(a,(function(e,t){return nv(e,i.getContext(t),o)})),o}(o,i?i._root:null,r,[o.value]))});var n,i,r,o})),function(e,t){return function(n){return n.pipe(ne((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?gf(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return te(e).pipe(ne((function(e){return function(e,t,n,i,r){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?gf(o.map((function(o){var a,s=tv(o,t,r);if(function(e){return e&&Bp(e.canDeactivate)}(s))a=Wd(s.canDeactivate(e,t,n,i));else{if(!Bp(s))throw new Error("Invalid CanDeactivate guard");a=Wd(s(e,t,n,i))}return a.pipe(Zf())}))).pipe(rv()):gf(!0)}(e.component,e.route,n,t,i)})),Zf((function(e){return!0!==e}),!0))}(s,i,r,e).pipe(ne((function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return te(t).pipe(od((function(t){return te([av(t.route.parent,i),ov(t.route,i),lv(e,t.path,n),sv(e,t.route,n)]).pipe(Of(),Zf((function(e){return!0!==e}),!0))})),Zf((function(e){return!0!==e}),!0))}(i,a,e,t):gf(n)})),Q((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),sd((function(e){if(Hp(e.guardsResult)){var n=Md('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),sd((function(e){var n=new bd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),If((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new md(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0})),kv((function(e){if(e.guards.canActivateChecks.length)return gf(e).pipe(sd((function(e){var n=new wd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(ne((function(e){var t=e.targetSnapshot,r=e.guards.canActivateChecks;return r.length?te(r).pipe(od((function(e){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return gf({});if(1===r.length){var o=r[0];return yv(e[o],t,n,i).pipe(Q((function(e){return _defineProperty({},o,e)})))}var a={};return te(r).pipe(ne((function(r){return yv(e[r],t,n,i).pipe(Q((function(e){return a[r]=e,e})))}))).pipe(Hf(),Q((function(){return a})))}(e._resolve,e,t,i).pipe(Q((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),wp(e,n).resolve),null})))}(e.route,t,n,i)})),function(e,t){return arguments.length>=2?function(n){return A(nd(e,t),Rf(1),jf(t))(n)}:function(t){return A(nd((function(t,n,i){return e(t,n,i+1)})),Rf(1))(t)}}((function(e,t){return e})),Q((function(t){return e}))):gf(e)})))}),sd((function(e){var n=new Cd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,i})),kv((function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,l=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!l})})),Q((function(e){var n=function(e,t,n){var i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var o=function(t,n,i){return n.children.map((function(n){var r,o=_createForOfIteratorHelper(i.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,i);return new mp(r,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,s),s}var l,u=new bp(new yf((l=n.value).url),new yf(l.params),new yf(l.queryParams),new yf(l.fragment),new yf(l.data),l.outlet,l.component,l),c=n.children.map((function(n){return e(t,n)}));return new mp(u,c)}(e,t._root,n?n._root:void 0);return new yp(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),sd((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Q((function(e){return new jp(o,e.targetRouterState,e.currentRouterState,a).activate(r),e}))),sd({next:function(){s=!0},complete:function(){s=!0}}),(i=function(){if(!s&&!l){t.resetUrlToCurrentUrlTree();var i=new md(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new hd(i))}),Gf((function(i){if(l=!0,(s=i)&&s.ngNavigationCancelingError){var r=Hp(i.url);r||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new md(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(o),r?setTimeout((function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new gd(e.id,t.serializeUrl(e.extractedUrl),i);n.next(a);try{e.resolve(t.errorHandler(i))}catch(u){e.reject(u)}}var s;return Sf})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),i="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){zd(e),this.config=e.map(jd),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,r=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;Ni()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=s?this.currentUrlTree.fragment:r,c=null;if(a)switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=o?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,r){if(0===n.length)return Ep(t.root,t.root,t,i,r);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ap(!0,0,e);var t=0,n=!1,i=e.reduce((function(e,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return Ud(i.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(i.segmentPath)return[].concat(_toConsumableArray(e),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(e),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))})),e):[].concat(_toConsumableArray(e),[i])}),[]);return new Ap(n,t,i)}(n);if(o.toRoot())return Ep(t.root,new Kd([],{}),t,i,r);var a=function(e,t,n){if(e.isAbsolute)return new Dp(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Dp(n.snapshot._urlSegment,!0,0);var i=Ip(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new Dp(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?Fp(a.segmentGroup,a.index,o.commands):Mp(a.segmentGroup,a.index,o.commands);return Ep(a.segmentGroup,s,t,i,r)}(l,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Ni()&&this.isNgZoneEnabled&&!Xu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Hp(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Hp(e))return qd(this.currentUrlTree,e,t);var n=this.parseUrl(e);return qd(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new vd(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,i,r){var o,a,s,l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);r?(o=r.resolve,a=r.reject,s=r.promise):s=new Promise((function(e,t){o=e,a=t}));var u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,i){var r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){Wa()},Ev.\u0275dir=zt({type:Ev}),Ev),Dv=((Iv=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:Mv(this.skipLocationChange),replaceUrl:Mv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ni()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mv(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mv(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Iv)(Ga(Av),Ga(bp),Ua("tabindex"),Ga(ll),Ga(rl))},Iv.\u0275dir=zt({type:Iv,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&is("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),Iv),Rv=((Ov=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof vd&&r.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:Mv(this.skipLocationChange),replaceUrl:Mv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ni()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mv(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mv(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Ov)(Ga(Av),Ga(bp),Ga(Uc))},Ov.\u0275dir=zt({type:Ov,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(zs("href",t.href,cr),ja("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Us]}),Ov);function Mv(e){return""===e||!!e}var Fv,Pv,zv,Nv,Lv=((Fv=function(){function e(t,n,i,r,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=i,this.link=r,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof vd&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}()).\u0275fac=function(e){return new(e||Fv)(Ga(Av),Ga(rl),Ga(ll),Ga(Dv,8),Ga(Rv,8))},Fv.\u0275dir=zt({type:Fv,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,Dv,!0),_u(n,Rv,!0)),2&e&&(ku(i=Tu())&&(t.links=i),ku(i=Tu())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Us]}),Fv),jv=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Vv,this.attachRef=null},Vv=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new jv,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Bv=((Pv=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new lu,this.deactivateEvents=new lu,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Hv(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||Pv)(Ga(Vv),Ga(El),Ga(il),Ua("name"),Ga(oa))},Pv.\u0275dir=zt({type:Pv,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Pv),Hv=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=i}return _createClass(e,[{key:"get",value:function(e,t){return e===bp?this.route:e===Vv?this.childContexts:this.parent.get(e,t)}}]),e}(),Gv=function e(){_classCallCheck(this,e)},Uv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return gf(null)}}]),e}(),Wv=((Nv=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new Cv(n,i,(function(e){return t.triggerEvent(new _d(e))}),(function(e){return t.triggerEvent(new Sd(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(If((function(e){return e instanceof vd})),od((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(vt);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children))}}catch(s){r.e(s)}finally{r.f()}return te(i).pipe(oe(),Q((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(ne((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Nv)(ct(Av),ct(wc),ct(Zu),ct(wa),ct(Gv))},Nv.\u0275prov=xe({token:Nv,factory:Nv.\u0275fac}),Nv),qv=((zv=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof pd?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vd&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Ed&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Ed(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Wa()},zv.\u0275dir=zt({type:zv}),zv),$v=new tt("ROUTER_CONFIGURATION"),Kv=new tt("ROUTER_FORROOT_GUARD"),Zv=[Jc,{provide:Jd,useClass:Xd},{provide:Av,useFactory:function(e,t,n,i,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,c=new Av(null,e,t,n,i,r,o,Hd(a));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),s.errorHandler&&(c.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(c.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=Ac();c.events.subscribe((function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(c.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(c.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(c.relativeLinkResolution=s.relativeLinkResolution),c},deps:[Jd,Vv,Jc,wa,wc,Zu,wv,$v,[function(){return function e(){_classCallCheck(this,e)}}(),new ke],[function(){return function e(){_classCallCheck(this,e)}}(),new ke]]},Vv,{provide:bp,useFactory:function(e){return e.routerState.root},deps:[Av]},{provide:wc,useClass:Sc},Wv,Uv,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Gf((function(){return gf(null)})))}}]),e}(),{provide:$v,useValue:{enableTracing:!1}}];function Yv(){return new dc("Router",Av)}var Qv,Jv=((Qv=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Zv,nm(t),{provide:Kv,useFactory:tm,deps:[[Av,new ke,new we]]},{provide:$v,useValue:n||{}},{provide:Uc,useFactory:em,deps:[Mc,[new ye(Zc),new ke],$v]},{provide:qv,useFactory:Xv,deps:[Av,Mh,$v]},{provide:Gv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Uv},{provide:dc,multi:!0,useFactory:Yv},[rm,{provide:Du,multi:!0,useFactory:om,deps:[rm]},{provide:sm,useFactory:am,deps:[rm]},{provide:Lu,multi:!0,useExisting:sm}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[nm(t)]}}}]),e}()).\u0275mod=Ft({type:Qv}),Qv.\u0275inj=Oe({factory:function(e){return new(e||Qv)(ct(Kv,8),ct(Av,8))}}),Qv);function Xv(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new qv(e,t,n)}function em(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Qc(e,t):new Yc(e,t)}function tm(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nm(e){return[{provide:Ca,multi:!0,useValue:e},{provide:wv,multi:!0,useValue:e}]}var im,rm=((im=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new j}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(zc,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),i=e.injector.get(Av),r=e.injector.get($v);if(e.isLegacyDisabled(r)||e.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return e.initNavigation?gf(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get($v),n=this.injector.get(Wv),i=this.injector.get(qv),r=this.injector.get(Av),o=this.injector.get(kc);e===o.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||im)(ct(wa))},im.\u0275prov=xe({token:im,factory:im.\u0275fac}),im);function om(e){return e.appInitializer.bind(e)}function am(e){return e.bootstrapListener.bind(e)}var sm=new tt("Router Initializer"),lm=function e(){_classCallCheck(this,e)};function um(e,t){return{type:7,name:e,definitions:t,options:{}}}function cm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function hm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function fm(e){return{type:6,styles:e,offset:null}}function dm(e,t,n){return{type:0,name:e,styles:t,options:n}}function pm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function vm(e){Promise.resolve(null).then(e)}var mm,gm,ym,km=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;vm((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),bm=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,o=0,a=this.players.length;0==a?vm((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==a&&n._onFinish()})),e.onDestroy((function(){++r==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),wm=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cm(e,this.total))}}]),e}(),Cm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(T),_m=((gm=function(){function e(){_classCallCheck(this,e),this.changes=new j}return _createClass(e,[{key:"notify",value:function(e){this.changes.next({rtl:e})}},{key:"get",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||gm)},gm.\u0275prov=xe({token:gm,factory:gm.\u0275fac}),gm),Sm=((mm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.register(e),Object.keys(e).some((function(t){return!e[t].isFirstChange()}))&&this.service.notifyChanges()}},{key:"ngOnInit",value:function(){var e=this;this.subscription=this.service.changes.pipe((function(e){return e.lift(new wm(1))})).subscribe((function(){return e.register(e)}))}},{key:"register",value:function(e){var t=this;Object.keys(e).forEach((function(e){return t.service.register(e,t[e],t.override)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"override",get:function(){return!1}}]),e}()).\u0275fac=function(e){return new(e||mm)},mm.\u0275dir=zt({type:mm,features:[Us]}),mm),xm=new tt("Kendo UI Right-to-Left token"),Tm=new tt("Localization key prefix"),Om=((ym=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.prefix=t,this.messageService=n,this._rtl=i,this.changes=new yf({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe(Q((function(e){var t=e.rtl;return void 0!==t?t:r._rtl})),sd((function(e){return r._rtl=e}))).subscribe((function(e){r.dictionary={},r.changes.next({rtl:e})})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"get",value:function(e){var t=this.key(e);return this.dictionary[t]}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.key(e),r=t;if(!n){if(this.dictionary.hasOwnProperty(i))return;r=this.defaultValue(i,t)}this.dictionary[i]=r}},{key:"notifyChanges",value:function(){this.changes.next({rtl:this.rtl})}},{key:"key",value:function(e){return this.prefix+"."+e}},{key:"defaultValue",value:function(e,t){if(!this.messageService)return t;var n=this.messageService.get(e);return void 0===n?t:n}},{key:"rtl",get:function(){return this._rtl}}]),e}()).\u0275fac=function(e){return new(e||ym)(ct(Tm),ct(_m,8),ct(xm,8))},ym.\u0275prov=xe({token:ym,factory:ym.\u0275fac}),ym),Im=["container"],Em=["closeTitle",$localize(_templateObject())];function Am(e,t){1&e&&Ya(0,"span",9),2&e&&qa("ngClass",as().typeIconClass())}function Dm(e,t){}function Rm(e,t){1&e&&Ds(0),2&e&&Ms(" ",as().templateString," ")}function Mm(e,t){if(1&e){var n=es();Ka(0,"a",10),is("click",(function(){return pn(n),as().onCloseClick()})),Za()}2&e&&ja("title",as().closeButtonTitle)}var Fm,Pm,zm,Nm,Lm,jm=["group"],Vm=((Pm=function(){function e(t,n,i,r,o){var a=this;_classCallCheck(this,e),this.cdr=t,this.element=n,this.renderer=i,this.builder=r,this.localizationService=o,this.close=new lu,this.width=null,this.height=null,this.defaultHideAfter=5e3,this.animationEnd=new lu,this.rtl=!1,this.dynamicRTLSubscription=o.changes.subscribe((function(e){var t=e.rtl;a.rtl=t,a.direction=a.rtl?"rtl":"ltr"}))}return _createClass(e,[{key:"notificationClasses",value:function(){return"".concat(this.type?this.typeClass():"","\n            ").concat(this.closable?"k-notification-closable":"")}},{key:"ngOnInit",value:function(){clearTimeout(this.hideTimeout)}},{key:"ngOnDestroy",value:function(){clearTimeout(this.hideTimeout),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.closable||this.animation||this.setHideTimeout(),!this.closable&&this.animation&&this.animationEnd.pipe(qf(1)).subscribe((function(){return e.setHideTimeout()})),this.animation&&this.animate(this.animation)}},{key:"typeClass",value:function(){return{none:"",success:"k-notification-success",warning:"k-notification-warning",error:"k-notification-error",info:"k-notification-info"}[this.type.style]}},{key:"typeIconClass",value:function(){return{none:"",success:"k-i-success",warning:"k-i-warning",error:"k-i-error",info:"k-i-info"}[this.type.style]}},{key:"onCloseClick",value:function(){clearTimeout(this.hideTimeout),this.hide()}},{key:"hide",value:function(e){var t=this,n=getComputedStyle(this.element.nativeElement).height;if(this.animation&&n)return this.animate(this.animation,!0),void this.animationEnd.subscribe((function(){t.emitClose(e)}));this.emitClose(e)}},{key:"setHideTimeout",value:function(){var e=this;this.hideTimeout=window.setTimeout((function(){return e.onCloseClick()}),this.hideAfter||this.defaultHideAfter)}},{key:"emitClose",value:function(e){e&&e.destroy(),this.close.emit()}},{key:"play",value:function(e,t){var n=this,i=this.builder.build(e),r=this.element.nativeElement;this.renderer.addClass(r,"k-notification-container-animating");var o=i.create(t);o.onDone((function(){n.renderer.removeClass(r,"k-notification-container-animating"),n.animationEnd.emit(),o&&(o.destroy(),o=null)})),o.play()}},{key:"animate",value:function(e,t){var n=this.element.nativeElement,i=e.duration,r="slide"===e.type?this.slideAnimation(n.offsetHeight,i,t):this.fadeAnimation(i,t);this.play(r,n)}},{key:"slideAnimation",value:function(e,t,n){return n?function(e,t){return[fm({height:e+"px"}),cm(t+"ms ease-in",fm({overflow:"hidden",height:0}))]}(e,t):function(e,t){return[fm({overflow:"hidden",height:0}),cm(t+"ms ease-in",fm({height:e+"px"}))]}(e,t)}},{key:"fadeAnimation",value:function(e,t){return t?function(e){return[fm({opacity:1}),cm(e+"ms ease-in",fm({opacity:0}))]}(e):function(e){return[fm({opacity:0}),cm(e+"ms ease-in",fm({opacity:1}))]}(e)}},{key:"containerClass",get:function(){return!0}},{key:"closeButtonTitle",get:function(){return this.closeTitle||this.localizationService.get("closeTitle")}}]),e}()).\u0275fac=function(e){return new(e||Pm)(Ga(oa),Ga(rl),Ga(ll),Ga(lm),Ga(Om))},Pm.\u0275cmp=At({type:Pm,selectors:[["kendo-notification"]],viewQuery:function(e,t){var n;1&e&&bu(Im,!0,El),2&e&&ku(n=Tu())&&(t.container=n.first)},hostVars:3,hostBindings:function(e,t){2&e&&(ja("dir",t.direction),ys("k-notification-container",t.containerClass))},inputs:{width:"width",height:"height",templateRef:"templateRef",templateString:"templateString",cssClass:"cssClass",hideAfter:"hideAfter",closable:"closable",type:"type",animation:"animation"},features:[el([Om,{provide:Tm,useValue:"kendo.notification"}])],decls:11,vars:13,consts:[["kendoNotificationLocalizedMessages","",6,"closeTitle"],[3,"ngClass"],[1,"k-notification-wrap"],["class","k-icon",3,"ngClass",4,"ngIf"],[1,"k-notification-content"],[3,"ngIf","ngTemplateOutlet"],[3,"ngIf"],["container",""],["class","k-icon k-i-close",3,"click",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-icon","k-i-close",3,"click"]],template:function(e,t){var n;1&e&&(Qa(0,0),ql(1,Em),Ja(),Ka(2,"div",1),Ka(3,"div",2),Ba(4,Am,1,1,"span",3),Ka(5,"div",4),Ba(6,Dm,0,0,"ng-template",5),Ba(7,Rm,1,1,"ng-template",6),Xa(8,null,7),Za(),Ba(10,Mm,1,1,"a",8),Za(),Za()),2&e&&(Dr(2),n=t.notificationClasses(),Cs(Ct,bs,Va(fn(),"k-widget k-notification ",n,""),!0),gs("height",t.height,"px")("width",t.width,"px"),qa("ngClass",t.cssClass),Dr(2),qa("ngIf",t.type&&t.type.icon&&"none"!==t.type.style),Dr(2),qa("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef),Dr(1),qa("ngIf",t.templateString),Dr(3),qa("ngIf",t.closable))},directives:function(){return[Um,lh,fh,Dh]},encapsulation:2}),Pm),Bm=((Fm=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.renderer=n,this.resolver=i,this.id="",this.notifications=[]}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.notifications.forEach((function(e){e.closeClickSubscription&&e.closeClickSubscription.unsubscribe()})),this.notifications=[]}},{key:"addNotification",value:function(e){this.position=e.position,this.id="".concat(this.position.horizontal," ").concat(this.position.vertical);var t=this.resolver.resolveComponentFactory(Vm),n=this.container.createComponent(t);this.applySettings(n,e);var i=null;if("function"==typeof e.content){var r=this.resolver.resolveComponentFactory(e.content);i=n.instance.container.createComponent(r)}return n.changeDetectorRef.detectChanges(),this.notifications.push(n.instance),e.appendTo&&this.applyAbsolutePosition(e.appendTo),this.applyPosition(),this.applyContainerWrap(),{afterHide:n.instance.close,hide:function(){return n.instance.hide(i)},notification:n,content:i||null}}},{key:"hide",value:function(e){var t=e.instance,n=this.notifications.indexOf(t);this.notifications.splice(n,1),t.closeClickSubscription&&t.closeClickSubscription.unsubscribe(),t.templateRef=null,t.templateString=null,e.destroy()}},{key:"applyContainerWrap",value:function(){this.renderer.setStyle(this.group.nativeElement,"flex-wrap","right"===this.position.horizontal?"wrap-reverse":"wrap")}},{key:"applySettings",value:function(e,t){var n=this,i=e.instance,r=t.content,o=t.animation||null;i.closeClickSubscription=i.close.subscribe((function(){return n.hide(e)})),"string"==typeof r&&(i.templateString=r),r instanceof Ol&&(i.templateRef=r),i.animation=o;var a=t.type;a&&void 0===a.style&&(a.style="none"),a&&void 0===a.icon&&(a.icon=!0),i.type=a,i.closeTitle=t.closeTitle,t.cssClass&&(i.cssClass=t.cssClass),i.closable=t.closable,i.hideAfter=t.hideAfter,i.width=t.width,i.height=t.height}},{key:"applyAbsolutePosition",value:function(e){var t=e.element.nativeElement,n=this.element.nativeElement.children[0];"static"===window.getComputedStyle(t).position&&this.renderer.setStyle(t,"position","relative"),this.renderer.setStyle(n,"position","absolute")}},{key:"applyPosition",value:function(){var e=this.element.nativeElement.children[0],t=e.getBoundingClientRect().width/2,n=this.setContainerPosition(this.position,t);Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}},{key:"setContainerPosition",value:function(e,t){var n={horizontal:{left:{left:0,alignItems:"flex-start"},right:{right:0,alignItems:"flex-start"},center:{left:"50%",marginLeft:-t+"px",alignItems:"center"}},vertical:{top:{top:0},bottom:{bottom:0}}};return Object.assign({},n.horizontal[e.horizontal],n.vertical[e.vertical])}}]),e}()).\u0275fac=function(e){return new(e||Fm)(Ga(rl),Ga(ll),Ga(il))},Fm.\u0275cmp=At({type:Fm,selectors:[["kendo-notification-container"]],viewQuery:function(e,t){var n;1&e&&(bu(Im,!0,El),bu(jm,!0)),2&e&&(ku(n=Tu())&&(t.container=n.first),ku(n=Tu())&&(t.group=n.first))},inputs:{id:"id"},decls:4,vars:0,consts:[[1,"k-notification-group"],["group",""],["container",""]],template:function(e,t){1&e&&(Ka(0,"div",0,1),Xa(2,null,2),Za())},encapsulation:2}),Fm),Hm=new tt("Notification Container"),Gm=((Lm=function(){function e(t,n,i){_classCallCheck(this,e),this.resolver=t,this.injector=n,this.container=i,this.notificationContainers=[],this.position={horizontal:"right",vertical:"top"}}return _createClass(e,[{key:"show",value:function(e){if(!e)throw new Error("NotificationSettings settings are required");var t,n=this.findGroupContainer(e),i=e.position||this.position,r="".concat(i.horizontal," ").concat(i.vertical),o=this.notificationContainers.find((function(e){return n.nativeElement.contains(e.element.nativeElement)&&e.id===r}));if(!o){o=(t=this.resolver.resolveComponentFactory(Bm).create(this.injector)).instance,this.appRef.attachView(t.hostView);var a=t.location.nativeElement,s=this.findGroupContainer(e);if(!s)throw new Error("\n                    View Container not found! Inject the NOTIFICATION_CONTAINER or define a specific ViewContainerRef via\n                    the appendTo option. See http://www.telerik.com/kendo-angular-ui/components/notification/api/NOTIFICATION_CONTAINER/\n                    for more details.\n                ");s.nativeElement.appendChild(a),this.notificationContainers.push(o)}return e.position=i,o.addNotification(e)}},{key:"findGroupContainer",value:function(e){var t;if(e.appendTo)t=e.appendTo.element;else if(this.container)t=this.container;else{var n=this.appRef.components&&this.appRef.components[0];t=n?n.location:null}return t}},{key:"appRef",get:function(){return this.applicationRef||(this.applicationRef=this.injector.get(kc)),this.applicationRef}}]),e}()).\u0275fac=function(e){return new(e||Lm)(ct(il),ct(wa),ct(Hm,8))},Lm.\u0275prov=xe({token:Lm,factory:Lm.\u0275fac}),Lm),Um=((Nm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(Sm)).\u0275fac=function(e){return new(e||Nm)(Ga(Om))},Nm.\u0275dir=zt({type:Nm,selectors:[["","kendoNotificationLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[el([{provide:Sm,useExisting:je((function(){return Nm}))}]),Ls]}),Nm),Wm=((zm=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:zm}),zm.\u0275inj=Oe({factory:function(e){return new(e||zm)},providers:[Gm],imports:[[Rh]]}),zm);function qm(e){return e.ownerDocument||e.document||e}var $m=function(e){return qm(e).defaultView},Km=function(e){return qm(e).documentElement},Zm=0;function Ym(){if(!Zm&&"undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),Zm=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return Zm}function Qm(e){var t=$m(e),n=Km(e),i={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=Ym()),i}var Jm=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||Km(e)},Xm=function(e){var t=e.getBoundingClientRect(),n=t,i=n.left,r=n.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,i=t.left,r=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var o=e.getBoundingClientRect();return e.style.display=n,e.style.left=i,e.style.position=r,o}(e)),{top:r,left:i,height:t.height,width:t.width}},eg=function(e,t){for(var n=[],i=e.parentNode;i&&(n.push(i),i!==t);)i=i.parentNode;return n};function tg(e){var t=Km(e),n=$m(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var ng=function(e){return e===(e.ownerDocument||{}).body?tg(e):{x:e.scrollLeft,y:e.scrollTop}},ig=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t?Jm(t):null,r=function(e,t){var n=$m(e),i=n.getComputedStyle(e),r=Xm(e),o=t||Jm(e),a=e.ownerDocument,s={top:0,left:0};if("fixed"!==i.position&&o!==a.body&&o!==a.documentElement){var l=n.getComputedStyle(o);(s=Xm(o)).top+=parseInt(l.borderTopWidth,10),s.left+=parseInt(l.borderLeftWidth,10)}return{top:r.top-s.top,left:r.left-s.left,height:r.height,width:r.width}}(e,i),o=r.top,a=r.left,s=r.height,l=r.width,u=function(e,t){return e?ng(e):function(e){var t=Jm(e);return t?ng(t):{x:0,y:0}}(t)}(i,e),c=u.x,h=u.y,f=e.ownerDocument,d=i===f.body||i===f.documentElement?1:n;return{top:o+h*d,left:a+c*d,height:s,width:l}},rg=function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},og=function(e){var t=e.offset,n=e.size,i=e.anchorSize,r=e.viewPortSize,o=e.anchorAlignPoint,a=e.elementAlignPoint,s=0,l=2*e.margin;if(a!==o&&"center"!==a&&"middle"!==a&&"center"!==o&&"middle"!==o){var u="top"===o||"left"===o;t<0&&u?t+(s=n+i+l)+n>r&&(s=0):t>=0&&!u&&(t+n>r&&(s+=-(i+n+l)),t+s<0&&(s=0))}return s},ag=function(e){for(var t=[],n=e.parentNode.firstElementChild;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t},sg=function(e,t){return function(n){return t(e(n))}},lg=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},ug=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},cg=function(){},hg=function(e){return e.preventDefault()},fg=/touch/;function dg(e){return e.type.match(fg)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var pg,vg=((pg=function(){function e(t){var n=this,i=t.press,r=void 0===i?cg:i,o=t.drag,a=void 0===o?cg:o,s=t.release,l=void 0===s?cg:s,u=t.mouseOnly,c=void 0!==u&&u;_classCallCheck(this,e),this._pressHandler=sg(dg,r),this._dragHandler=sg(dg,a),this._releaseHandler=sg(dg,l),this._ignoreMouse=!1,this._mouseOnly=c,this._touchstart=function(e){1===e.touches.length&&n._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&n._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(n._releaseHandler(e),n._ignoreMouse=!0,setTimeout(n._restoreMouse,2e3))},this._restoreMouse=function(){n._ignoreMouse=!1},this._mousedown=function(e){var t=e.which;t&&t>1||n._ignoreMouse||(lg(document,"mousemove",n._mousemove),lg(document,"mouseup",n._mouseup),n._pressHandler(e))},this._mousemove=function(e){n._dragHandler(e)},this._mouseup=function(e){ug(document,"mousemove",n._mousemove),ug(document,"mouseup",n._mouseup),n._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(lg(document,"pointermove",n._pointermove),lg(document,"pointerup",n._pointerup),lg(document,"pointercancel",n._pointerup),lg(document,"contextmenu",hg),n._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&n._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(ug(document,"pointermove",n._pointermove),ug(document,"pointerup",n._pointerup),ug(document,"pointercancel",n._pointerup),ug(document,"contextmenu",hg),n._releaseHandler(e))}}return _createClass(e,null,[{key:"supportPointerEvent",value:function(){return"undefined"!=typeof window&&window.PointerEvent}}]),_createClass(e,[{key:"bindTo",value:function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}},{key:"_bindToCurrent",value:function(){var e=this._element;this._usePointers()?lg(e,"pointerdown",this._pointerdown):(lg(e,"mousedown",this._mousedown),this._mouseOnly||(lg(e,"touchstart",this._touchstart),lg(e,"touchmove",this._touchmove),lg(e,"touchend",this._touchend)))}},{key:"_unbindFromCurrent",value:function(){var e=this._element;if(this._usePointers())return ug(e,"pointerdown",this._pointerdown),ug(document,"pointermove",this._pointermove),ug(document,"pointerup",this._pointerup),ug(document,"contextmenu",hg),void ug(document,"pointercancel",this._pointerup);ug(e,"mousedown",this._mousedown),this._mouseOnly||(ug(e,"touchstart",this._touchstart),ug(e,"touchmove",this._touchmove),ug(e,"touchend",this._touchend))}},{key:"_usePointers",value:function(){return!this._mouseOnly&&e.supportPointerEvent()}},{key:"update",value:function(e){var t=e.press,n=void 0===t?cg:t,i=e.drag,r=void 0===i?cg:i,o=e.release,a=void 0===o?cg:o,s=e.mouseOnly,l=void 0!==s&&s;this._pressHandler=sg(dg,n),this._dragHandler=sg(dg,r),this._releaseHandler=sg(dg,a),this._mouseOnly=l}},{key:"destroy",value:function(){this._unbindFromCurrent(),this._element=null}}]),e}()).default=pg,pg),mg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(_)),gg=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),yg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gg.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():r()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(gg),kg=new yg(mg),bg=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wg(e,this.durationSelector))}}]),e}(),wg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Z(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Y);function Cg(e){return!y(e)&&e-parseFloat(e)+1>=0}function _g(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function Sg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Cg(t)?i=Number(t)<1?1:Number(t):B(t)&&(n=t),B(n)||(n=kg),new M((function(t){var r=Cg(e)?e:+e-n.now();return n.schedule(_g,r,{index:0,period:i,subscriber:t})}))}(e,n)},function(e){return e.lift(new bg(t))}}function xg(e,t,n,i){return d(n)&&(i=n,n=void 0),i?xg(e,t,n).pipe(Q((function(e){return y(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new M((function(i){!function e(t,n,i,r,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,i,o),a=function(){return s.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,i),a=function(){return l.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,i),a=function(){return u.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,i,r,o)}r.add(a)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}var Tg,Og,Ig,Eg,Ag,Dg,Rg,Mg=function(){return"undefined"!=typeof document},Fg=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)},Pg=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.some((function(e){return Fg(e,t,n)}))},zg=function(e){return e&&e.observers.length>0},Ng=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},Lg=((Eg=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.enableDrag=!0,this.kendoPress=new lu,this.kendoDrag=new lu,this.kendoRelease=new lu}return _createClass(e,[{key:"ngOnInit",value:function(){this.toggleDraggable()}},{key:"ngOnChanges",value:function(e){Fg("enableDrag",e)&&this.toggleDraggable()}},{key:"ngOnDestroy",value:function(){this.destroyDraggable()}},{key:"toggleDraggable",value:function(){var e=this;Mg()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new vg({drag:function(t){return e.kendoDrag.next(t)},press:function(t){return e.kendoPress.next(t)},release:function(t){return e.kendoRelease.next(t)}}),this.ngZone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))))}},{key:"destroyDraggable",value:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}]),e}()).\u0275fac=function(e){return new(e||Eg)(Ga(rl),Ga(Xu))},Eg.\u0275dir=zt({type:Eg,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[Us]}),Eg),jg=((Ig=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Ig}),Ig.\u0275inj=Oe({factory:function(e){return new(e||Ig)},imports:[[Rh]]}),Ig),Vg=((Og=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.events={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,e.scope?t[n].bind(e.scope):t[n]))}))}}},{key:"ngOnDestroy",value:function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}]),e}()).\u0275fac=function(e){return new(e||Og)(Ga(rl),Ga(Xu),Ga(ll))},Og.\u0275dir=zt({type:Og,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),Og),Bg=((Tg=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Tg}),Tg.\u0275inj=Oe({factory:function(e){return new(e||Tg)}}),Tg),Hg=function(){function e(t){_classCallCheck(this,e),this.resizeBatchService=t,this.resize=new lu,this.acceptedSize=!1,this.state=0}return _createClass(e,[{key:"acceptSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.measure();this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}},{key:"checkChanges",value:function(){Mg()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}},{key:"destroy",value:function(){this.resizeBatchService.cancel(this)}},{key:"checkSize",value:function(){if(this.parentElement){var e=this.measure(),t=e.width,n=e.height;return t===this.lastWidth&&n===this.lastHeight?void 0:(this.lastWidth=t,this.lastHeight=n,this.acceptedSize=!1,this.resize.emit(),!0)}}},{key:"initSize",value:function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}},{key:"measure",value:function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}]),e}(),Gg=function(e){var t=document.createElement("div");return t.style.cssText=e,t},Ug="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",Wg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).element=i,o.ngZone=r,o}return _createClass(n,[{key:"checkChanges",value:function(){2!==this.state?_get(_getPrototypeOf(n.prototype),"checkChanges",this).call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}},{key:"destroy",value:function(){if(_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}},{key:"checkSize",value:function(){if(_get(_getPrototypeOf(n.prototype),"checkSize",this).call(this))return this.reset(),!0}},{key:"init",value:function(){var e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}},{key:"render",value:function(){var e=this.element.nativeElement;e.style.cssText=Ug,e.setAttribute("dir","ltr"),this.expand=Gg(Ug),this.expandChild=Gg("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=Gg(Ug);var t=Gg("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}},{key:"reset",value:function(){var e=this.expandChild;e.style.width="100000px",e.style.height="100000px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}},{key:"subscribe",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=se(xg(e.shrink,"scroll"),xg(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))}}]),n}(Hg),qg="undefined"!=typeof ResizeObserver,$g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).element=i,o.ngZone=r,o}return _createClass(n,[{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}},{key:"init",value:function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))}}],[{key:"supported",value:function(){return qg}}]),n}(Hg),Kg=((Rg=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return _createClass(e,[{key:"schedule",value:function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=te(n.resolvedPromise).subscribe(n.flush)}))}},{key:"isScheduled",value:function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))}},{key:"cancel",value:function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"flush",value:function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Rg)(ct(Xu))},Rg.\u0275prov=xe({token:Rg,factory:Rg.\u0275fac}),Rg),Zg=((Dg=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.rateLimit=10,this.resize=new lu;var o=$g.supported()?$g:Wg;this.resizeService=new o(t,n,i),this.subscription=this.resizeService.resize.pipe(Sg(1e3/(this.rateLimit||10))).subscribe((function(){r.resizeService.acceptedSize||r.resize.emit()}))}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.resizeService.checkChanges()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.resizeService.destroy()}},{key:"acceptSize",value:function(e){this.resizeService.acceptSize(e)}}]),e}()).\u0275fac=function(e){return new(e||Dg)(Ga(Kg),Ga(rl),Ga(Xu))},Dg.\u0275cmp=At({type:Dg,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Dg),Yg=((Ag=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Ag}),Ag.\u0275inj=Oe({factory:function(e){return new(e||Ag)},providers:[Kg]}),Ag),Qg=function e(){_classCallCheck(this,e)},Jg=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({}),Xg=["container"];function ey(e,t){}var ty=["*"],ny=function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},iy=function(){return"undefined"!=typeof window},ry=/auto|scroll/,oy=function(e){return function(e){return"".concat(e.style.overflow).concat(e.style.overflowX).concat(e.style.overflowY)}(e)||function(e){var t=window.getComputedStyle(e);return"".concat(t.overflow).concat(t.overflowX).concat(t.overflowY)}(e)};var ay,sy,ly,uy,cy,hy,fy,dy,py,vy,my,gy,yy=(ay=function(){if(!Mg()&&null!==document.body)return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t},ly=!1,function(){return ly||(sy=ay.apply(void 0,arguments),ly=!0),sy}),ky=function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},by=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],wy=((uy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addOffset",value:function(e,t){return{left:e.left+t.left,top:e.top+t.top}}},{key:"addScroll",value:function(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}},{key:"align",value:function(e){return n=(t=e).anchorRect,i=t.anchorAlign,r=t.elementRect,o=t.elementAlign,a=t.margin,s=void 0===a?{}:a,l=i.horizontal,u=i.vertical,c=o.horizontal,h=o.vertical,f=s.horizontal||0,d=s.vertical||0,p=n.top,v=n.left,"bottom"===u&&(p+=n.height),"center"!==u&&"middle"!==u||(p+=Math.round(n.height/2)),"bottom"===h&&(p-=r.height,d*=-1),"center"!==h&&"middle"!==h||(p-=Math.round(r.height/2),d*=-1),"right"===l&&(v+=n.width),"center"!==l&&"middle"!==l||(v+=Math.round(n.width/2)),"right"===c&&(v-=r.width,f*=-1),"center"!==c&&"middle"!==c||(v-=Math.round(r.width/2),f*=-1),{top:p+d,left:v+f};var t,n,i,r,o,a,s,l,u,c,h,f,d,p,v}},{key:"boundingOffset",value:function(e){return function(e){if(!e.getBoundingClientRect){var t=Qm(e);return{bottom:t.height,left:0,right:t.width,top:0}}var n=e.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}}(this.nativeElement(e))}},{key:"getFontStyles",value:function(e){var t=this.getWindow();if(!t||!e)return[];var n=t.getComputedStyle(this.nativeElement(e));return by.map((function(e){return{key:e,value:n[e]}}))}},{key:"getWindow",value:function(){return iy()?window:null}},{key:"hasOffsetParent",value:function(e){return!!e&&!!this.nativeElement(e).offsetParent}},{key:"offset",value:function(e){return e?Xm(this.nativeElement(e)):null}},{key:"offsetAtPoint",value:function(e,t){if(!e)return null;var n=this.nativeElement(e),i=n.style,r=i.left,o=i.top,a=i.transition;n.style.transition="none",n.style.left=t.left+"px",n.style.top=t.top+"px";var s=Xm(n);return n.style.left=r,n.style.top=o,n.style.transition=a,s}},{key:"nativeElement",value:function(e){return e?e.nativeElement||e:null}},{key:"position",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e&&t?ig(this.nativeElement(e),this.nativeElement(t),n):null}},{key:"removeScroll",value:function(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}},{key:"restrictToView",value:function(e){return function(e){var t=e.anchorRect,n=e.anchorAlign,i=e.elementRect,r=e.elementAlign,o=e.collisions,a=e.viewPort,s=e.margin,l=void 0===s?{}:s,u=i.top,c=i.left,h=i.height,f=i.width,d=a.height,p=a.width,v=l.horizontal||0,m=l.vertical||0,g=0,y=0,k="flip"===o.horizontal,b="flip"===o.vertical;"fit"===o.vertical&&(y+=rg(u,h,d)),"fit"===o.horizontal&&(g+=rg(c,f,p)),b&&(y+=og({margin:m,offset:u,size:h,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:r.vertical})),k&&(g+=og({margin:v,offset:c,size:f,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:n.horizontal,elementAlignPoint:r.horizontal}));var w=k&&0!==g,C=b&&0!==y;return{flipped:w||C,flip:{horizontal:w,vertical:C},offset:{left:g,top:y}}}(e)}},{key:"scrollPosition",value:function(e){return tg(this.nativeElement(e))}},{key:"scrollableParents",value:function(e){return function(e){var t=[];if(!Mg()||!iy())return t;for(var n=e.parentElement;n;)(ry.test(oy(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t}(this.nativeElement(e))}},{key:"stackingElementOffset",value:function(e){var t=this.getRelativeContextElement(e);return t?Xm(t):null}},{key:"stackingElementScroll",value:function(e){var t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}},{key:"getRelativeContextElement",value:function(e){if(!e||!yy())return null;for(var t=this.nativeElement(e).parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}},{key:"useRelativePosition",value:function(e){return!!this.getRelativeContextElement(e)}},{key:"windowViewPort",value:function(e){return Qm(this.nativeElement(e))}},{key:"zIndex",value:function(e,t){return function(e,t){if(!e||!Mg()||!iy())return null;var n=function(e,t){for(var n,i,r=eg(e),o=t;o&&(n=ag(o),!(i=r.reduce((function(e,t){return e.concat(n.filter((function(e){return e===t})))}),[])[0]));)o=o.parentElement;return i}(e,t);if(!n)return null;var i=[e].concat(eg(e,n)).reduce((function(e,t){var n=t.style.zIndex||window.getComputedStyle(t).zIndex,i=parseInt(n,10);return i>e?i:e}),0);return i?i+1:null}(this.nativeElement(e),this.nativeElement(t))}},{key:"zoomLevel",value:function(){return Mg()&&iy()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}},{key:"isZoomed",value:function(){return this.zoomLevel()>1}}]),e}()).\u0275fac=function(e){return new(e||uy)},uy.\u0275prov=xe({token:uy,factory:uy.\u0275fac}),uy),Cy=new tt("Popup Document Scale"),_y=((dy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=n}return _createClass(e,[{key:"alignElement",value:function(e){var t=e.anchor,n=e.element,i=e.anchorAlign,r=e.elementAlign,o=e.margin,a=e.offset,s=e.positionMode,l=this.scale||1,u="fixed"!==s&&this._dom.hasOffsetParent(n)?this.relativeRect(t,n,a,l):this.absoluteRect(t,n,a,l),c=ky(this._dom.offset(n),l);return this._dom.align({anchorAlign:i,anchorRect:u,elementAlign:r,elementRect:c,margin:o})}},{key:"absoluteRect",value:function(e,t,n,i){var r=this.elementScrollPosition(e,t),o=ny(this._dom.offset(e),n),a=2*i,s=this._dom.stackingElementScroll(t);1!==i&&s&&(s.x/=a,s.y/=a);var l=this._dom.stackingElementOffset(t);return 1!==i&&l&&(l.left/=a,l.top/=a),this._dom.removeScroll(this._dom.addScroll(function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e}(ky(o,i),l),s),r)}},{key:"elementScrollPosition",value:function(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}},{key:"relativeRect",value:function(e,t,n,i){var r=ny(this._dom.position(e,t,i),n);return ky(r,i)}}]),e}()).\u0275fac=function(e){return new(e||dy)(ct(wy),ct(Cy,8))},dy.\u0275prov=xe({token:dy,factory:dy.\u0275fac}),dy),Sy=((fy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=n}return _createClass(e,[{key:"positionElement",value:function(e){var t=e.anchor,n=e.currentLocation,i=e.element,r=e.anchorAlign,o=e.elementAlign,a=e.collisions,s=e.margin,l=this._dom,u=this.scale||1,c=l.offsetAtPoint(i,n),h=ky(c,u),f=ky(l.offset(t),u),d=ny(f,n),p=e.viewPort||l.windowViewPort(i);p.width=p.width/u,p.height=p.height/u;var v=l.restrictToView({anchorAlign:r,anchorRect:d,collisions:a,elementAlign:o,elementRect:h,margin:s,viewPort:p}),m=l.addOffset(n,v.offset);return{flip:v.flip,flipped:v.flipped,offset:m}}}]),e}()).\u0275fac=function(e){return new(e||fy)(ct(wy),ct(Cy,8))},fy.\u0275prov=xe({token:fy,factory:fy.\u0275fac}),fy),xy=((hy=function(){function e(t,n){_classCallCheck(this,e),this._dom=t,this._zone=n}return _createClass(e,[{key:"subscribe",value:function(e){var t=this;Mg()&&this._zone.runOutsideAngular((function(){t.subscription=xg(t._dom.getWindow(),"resize").pipe(Sg(1e3/60)).subscribe((function(){return e()}))}))}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isUnsubscribed",value:function(){return this.subscription&&this.subscription.closed}}]),e}()).\u0275fac=function(e){return new(e||hy)(ct(wy),ct(Xu))},hy.\u0275prov=xe({token:hy,factory:hy.\u0275fac}),hy),Ty=((cy=function(){function e(t,n){_classCallCheck(this,e),this._dom=t,this._zone=n}return _createClass(e,[{key:"forElement",value:function(e){return this.unsubscribe(),this.element=e,this}},{key:"subscribe",value:function(e){var t=this;if(e&&Mg()&&this.element){var n=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular((function(){var r=i.map((function(e){return xg(e,"scroll").pipe(Sg(1e3/60))}));t.subscription=se.apply(void 0,_toConsumableArray(r)).subscribe((function(r){var o=r.target,a=i.filter((function(e){return e===o})).length>0,s=o===document,l=o===window;(a||s||l)&&e(t.isVisible(n,o))}))}))}}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isVisible",value:function(e,t){var n=this._dom.boundingOffset(e),i=this._dom.boundingOffset(t);return!(1<i.top-n.bottom||1<n.top-i.bottom||1<n.left-i.right||1<i.left-n.right)}}]),e}()).\u0275fac=function(e){return new(e||cy)(ct(wy),ct(Xu))},cy.\u0275prov=xe({token:cy,factory:cy.\u0275fac}),cy),Oy={expand:function(e){var t="up"===e||"down"===e?"scaleY":"scaleX";return{start:{transform:t+"(0)",transformOrigin:"down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom"},end:{transform:t+"(1)"}}},slide:function(e){var t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:"".concat(t,"(").concat("right"===e||"down"===e?-100:100,"%)")},end:{transform:t+"(0%)"}}},fade:function(){return{start:{opacity:0},end:{opacity:1}}},zoom:function(){return{start:{transform:"scale(0)"},end:{transform:"scale(1)"}}}},Iy=((py=function(){function e(t){_classCallCheck(this,e),this.animationBuilder=t,this.start=new lu,this.end=new lu}return _createClass(e,[{key:"play",value:function(e,t,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;var i=t.type||"slide",r=Oy[i];if(r){var o=r(this.getDirection(n,t));this.playStates(e,o,t)}else if(Ni())throw new Error('Unsupported animation type: "'.concat(i,'". The supported types are slide, expand, fade and zoom.'))}}},{key:"ngOnDestroy",value:function(){this.stopPlayer()}},{key:"playStates",value:function(e,t,n){var i=this;this.stopPlayer();var r=n.duration||100,o=this.animationBuilder.build([fm(t.start),cm(r+"ms ease-in",fm(t.end))]),a=this.player=o.create(e);a.onDone((function(){i.end.emit(),i.stopPlayer()})),this.start.emit(),a.play()}},{key:"getDirection",value:function(e,t){var n=t.direction||"down";return e.horizontal&&("left"===n?n="right":"right"===n&&(n="left")),e.vertical&&("down"===n?n="up":"up"===n&&(n="down")),n}},{key:"stopPlayer",value:function(){this.player&&(this.player.destroy(),this.player=null)}}]),e}()).\u0275fac=function(e){return new(e||py)(ct(lm))},py.\u0275prov=xe({token:py,factory:py.\u0275fac}),py),Ey={left:-1e4,top:0},Ay=((vy=function(){function e(t,n,i,r,o,a,s,l,u){_classCallCheck(this,e),this.container=t,this._alignService=n,this.domService=i,this._positionService=r,this._resizeService=o,this._scrollableService=a,this.animationService=s,this._renderer=l,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Ey,this.anchorViewportLeave=new lu,this.close=new lu,this.open=new lu,this.positionChange=new lu,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}return _createClass(e,[{key:"ngOnInit",value:function(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=Ey,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}},{key:"ngOnChanges",value:function(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}},{key:"ngAfterViewInit",value:function(){var e=this;this.reposition(),this.animate||this.resolvedPromise.then((function(){e.onAnimationEnd()}))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular((function(){e.unsubscribeReposition(),e.repositionSubscription=te(e.resolvedPromise).subscribe(e.reposition)}))}},{key:"ngOnDestroy",value:function(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}},{key:"onResize",value:function(){this.reposition()}},{key:"onAnimationStart",value:function(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}},{key:"onAnimationEnd",value:function(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}},{key:"setZIndex",value:function(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}},{key:"reposition",value:function(){var e=this;if(Mg()){var t,n,i,r,o,a,s=this.position(),l=s.flip,u=s.offset;this.currentOffset&&(t=this.currentOffset,n=u,i=t.left,r=t.top,o=n.left,a=n.top,!(Math.abs(i-o)>=1||Math.abs(r-a)>=1))||(this.currentOffset=u,zg(this.positionChange)&&this._zone.run((function(){return e.positionChange.emit({offset:u,flip:l})}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,l),this.resizeSensor.acceptSize()}}},{key:"position",value:function(){var e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}},{key:"onScroll",value:function(e){var t=this,n=zg(this.anchorViewportLeave);e||!n?this.reposition():n&&this._zone.run((function(){t.anchorViewportLeave.emit()}))}},{key:"copyFontStyles",value:function(){var e=this;this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach((function(t){return e.setContainerStyle(t.key,t.value)}))}},{key:"updateFixedClass",value:function(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}},{key:"setContainerStyle",value:function(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}},{key:"unsubscribeReposition",value:function(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}},{key:"currentOffset",get:function(){return this._currentOffset},set:function(e){this.setContainerStyle("left",e.left+"px"),this.setContainerStyle("top",e.top+"px"),this._currentOffset=e}}]),e}()).\u0275fac=function(e){return new(e||vy)(Ga(rl),Ga(_y),Ga(wy),Ga(Sy),Ga(xy),Ga(Ty),Ga(Iy),Ga(ll),Ga(Xu))},vy.\u0275cmp=At({type:vy,selectors:[["kendo-popup"]],viewQuery:function(e,t){var n;1&e&&(wu(Xg,!0),wu(Zg,!0)),2&e&&(ku(n=Tu())&&(t.contentContainer=n.first),ku(n=Tu())&&(t.resizeSensor=n.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[el([_y,Iy,wy,Sy,xy,Ty]),Us],ngContentSelectors:ty,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(ls(),Ka(0,"div",0,1),us(2),Ba(3,ey,0,0,"ng-template",2),Ka(4,"kendo-resize-sensor",3),is("resize",(function(){return t.onResize()})),Za(),Za()),2&e&&(qa("ngClass",t.popupClass),Dr(3),qa("ngTemplateOutlet",t.content)("ngIf",t.content),Dr(1),qa("rateLimit",100))},directives:[lh,Dh,fh,Zg],encapsulation:2}),vy),Dy=new tt("Popup Container"),Ry=((gy=function(){function e(t,n,i,r){_classCallCheck(this,e),this.applicationRef=t,this.componentFactoryResolver=n,this.injector=i,this.container=r}return _createClass(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.contentFrom(e.content),n=t.component,i=t.nodes,r=this.appendPopup(i,e.appendTo),o=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();var a=this.getComponentRootNode(r);return{close:function(){var e;n&&n.destroy(),r.destroy(),(e=a)&&e.parentNode&&e.parentNode.removeChild(e)},content:n,popup:r,popupAnchorViewportLeave:o.anchorViewportLeave,popupClose:o.close,popupElement:a,popupOpen:o.open,popupPositionChange:o.positionChange}}},{key:"appendPopup",value:function(e,t){var n=this.createComponent(Ay,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}},{key:"getComponentRootNode",value:function(e){return e.location.nativeElement}},{key:"getComponentFactory",value:function(e){return this.componentFactoryResolver.resolveComponentFactory(e)}},{key:"createComponent",value:function(e,t,n){var i=this.getComponentFactory(e);if(n)return n.createComponent(i,void 0,this.injector,t);var r=i.create(this.injector,t);return this.applicationRef.attachView(r.hostView),r}},{key:"projectComponentInputs",value:function(e,t){return Object.getOwnPropertyNames(t).filter((function(e){return"content"!==e||t.content instanceof Ol})).map((function(n){e.instance[n]=t[n]})),e}},{key:"contentFrom",value:function(e){if(!e||e instanceof Ol)return{component:null,nodes:[[]]};var t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}},{key:"rootViewContainer",get:function(){var e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}},{key:"rootViewContainerNode",get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}}]),e}()).\u0275fac=function(e){return new(e||gy)(ct(kc),ct(il),ct(wa),ct(Dy,8))},gy.\u0275prov=xe({token:gy,factory:gy.\u0275fac}),gy),My=((my=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:my}),my.\u0275inj=Oe({factory:function(e){return new(e||my)},providers:[Ry],imports:[[Rh,Yg]]}),my);function Fy(e){return function(t){return t.lift(new Wy(e))}}var Py,zy,Ny,Ly,jy,Vy,By,Hy,Gy,Uy,Wy=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new qy(e),i=Z(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),qy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Y),$y=[[["","kendoButton",""]]],Ky=["[kendoButton]"],Zy=((zy=function(){function e(){_classCallCheck(this,e),this.buttonLookChange=new yf("default"),this.buttonClicked=new j,this.buttonClicked$=this.buttonClicked.asObservable()}return _createClass(e,[{key:"click",value:function(e){this.buttonClicked.next(e)}},{key:"setButtonLook",value:function(e){this.buttonLookChange.next(e)}}]),e}()).\u0275fac=function(e){return new(e||zy)},zy.\u0275prov=xe({token:zy,factory:zy.\u0275fac}),zy),Yy=((Py=function(){function e(t,n,i,r,o){var a=this;_classCallCheck(this,e),this.service=i,this.ngZone=o,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new lu,this.click=new lu,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=r.rtl?"rtl":"ltr",this.localizationChangeSubscription=r.changes.subscribe((function(e){var t=e.rtl;return a.direction=t?"rtl":"ltr"})),this.element=t.nativeElement,this.renderer=n}return _createClass(e,[{key:"onFocus",value:function(){this.isFocused=!0}},{key:"onBlur",value:function(){this.isFocused=!1}},{key:"ngOnInit",value:function(){var e=this,t="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(If((function(e){return"default"!==e}))).subscribe((function(t){return e.look=t}))),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular((function(){e.domEvents.push(e.renderer.listen(e.element,"click",e._onButtonClick.bind(e))),e.domEvents.push(e.renderer.listen(e.element,"keydown",(function(n){!t||n.keyCode!==Jg.Space&&n.keyCode!==Jg.Enter||(e.click.emit(n),e._onButtonClick())})))}))}},{key:"ngOnChanges",value:function(e){(Fg("togglable",e)||Fg("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}},{key:"ngAfterViewChecked",value:function(){this.setIconTextClasses()}},{key:"ngOnDestroy",value:function(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach((function(e){return e()}))}},{key:"focus",value:function(){Mg()&&(this.element.focus(),this.isFocused=!0)}},{key:"blur",value:function(){Mg()&&(this.element.blur(),this.isFocused=!1)}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element,e,t)}},{key:"removeAttribute",value:function(e){this.renderer.removeAttribute(this.element,e)}},{key:"setSelected",value:function(e){var t=this,n=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),n&&zg(this.selectedChange)&&this.ngZone.run((function(){t.selectedChange.emit(e)}))}},{key:"toggleAriaCheckbox",value:function(e){Mg()&&(e?(this.role="checkbox",this.setAttribute("role",this.role),this.setAttribute("aria-checked",this.selected.toString())):(this.role="button",this.setAttribute("role",this.role),this.removeAttribute("aria-checked")))}},{key:"hasText",value:function(){return!!Mg()&&String(this.element.textContent).trim().length>0}},{key:"addImgIcon",value:function(e){var t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):Mg()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}},{key:"addIcon",value:function(e){var t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):Mg()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}},{key:"prependChild",value:function(e){var t=this;this.defer((function(){t.renderer&&e!==t.element.firstChild&&t.renderer.insertBefore(t.element,e,t.element.firstChild)}))}},{key:"defer",value:function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.deferTimeout=setTimeout(e,0)}))}},{key:"iconSetter",value:function(e,t){e&&t(e),this.setIconTextClasses()}},{key:"removeImageNode",value:function(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}},{key:"removeIconNode",value:function(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}},{key:"updateIconNode",value:function(){this.isIcon||this.isIconClass||this.removeIconNode()}},{key:"setIconTextClasses",value:function(){var e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}},{key:"toggleClass",value:function(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}},{key:"_onButtonClick",value:function(){var e=this;!this.disabled&&this.service&&this.ngZone.run((function(){e.service.click(e)})),this.togglable&&!this.service&&this.setSelected(!this.selected)}},{key:"togglable",get:function(){return this.toggleable},set:function(e){this.toggleable=e}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=e}},{key:"tabIndex",set:function(e){this.element.tabIndex=e},get:function(){return this.element.tabIndex}},{key:"icon",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIcon=!0,t.addIcon("k-icon k-i-"+e)})):(this.isIcon=!1,this.updateIconNode())}},{key:"iconClass",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIconClass=!0,t.addIcon(e)})):(this.isIconClass=!1,this.updateIconNode())}},{key:"imageUrl",set:function(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}},{key:"disabled",set:function(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)},get:function(){return this.isDisabled}},{key:"isFocused",set:function(e){this.toggleClass("k-state-focused",e),this._focused=e},get:function(){return this._focused}},{key:"classButton",get:function(){return!0}},{key:"classPrimary",get:function(){return this.primary}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"classDisabled",get:function(){return this.isDisabled}},{key:"classActive",get:function(){return this.selected}},{key:"getDirection",get:function(){return this.direction}}]),e}()).\u0275fac=function(e){return new(e||Py)(Ga(rl),Ga(ll),Ga(Zy,8),Ga(Om),Ga(Xu))},Py.\u0275dir=zt({type:Py,selectors:[["button","kendoButton",""],["span","kendoButton",""]],hostVars:17,hostBindings:function(e,t){1&e&&is("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()})),2&e&&(ja("aria-disabled",t.classDisabled)("aria-pressed",t.classActive)("dir",t.getDirection),ys("k-button",t.classButton)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-disabled",t.classDisabled)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",role:"role",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[el([Om,{provide:Tm,useValue:"kendo.button"}]),Us]}),Py),Qy=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),Jy=((Uy=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.service=t,this.element=i,this.selection="multiple",this.look="default",this.navigate=new lu,this._tabIndex=0,this.currentTabIndex=0,this.localizationChangeSubscription=n.changes.subscribe((function(e){var t=e.rtl;return r.direction=t?"rtl":"ltr"}))}return _createClass(e,[{key:"keydown",value:function(e){this.disabled||this.navigateFocus(e)}},{key:"onFocus",value:function(){this.currentTabIndex=-1;var e=this.buttons.toArray().findIndex((function(e){return-1!==e.element.tabIndex})),t=-1===e?0:e;this.focus(this.buttons.filter((function(e,n){return n===t})))}},{key:"focusout",value:function(e){e.relatedTarget&&e.relatedTarget.parentNode!==this.element.nativeElement&&(this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex)}},{key:"ngOnInit",value:function(){var e=this;this.service.setButtonLook(this.look),this.subscription=this.service.buttonClicked$.subscribe((function(t){var n;e.isSelectionSingle()?(n=!0,e.deactivate(e.buttons.filter((function(e){return e!==t})))):(e.defocus(e.buttons.toArray()),n=!t.selected),t.togglable&&(t.setSelected(n),t.setAttribute("aria-checked",n.toString())),t.setAttribute("tabindex","0")}))}},{key:"ngOnChanges",value:function(e){var t=this;Fg("disabled",e)&&this.buttons.forEach((function(e){null!=t.disabled&&(e.disabled=t.disabled)}))}},{key:"ngAfterContentInit",value:function(){var e=this.isSelectionSingle()?"radio":"checkbox";this.buttons.forEach((function(t){t.togglable&&(t.setAttribute("aria-checked",t.selected.toString()),t.setAttribute("role",e)),t.setAttribute("tabindex",t.selected?"0":"-1")}))}},{key:"ngAfterViewChecked",value:function(){this.buttons.length&&(this.buttons.first.renderer.addClass(this.buttons.first.element,"k-group-start"),this.buttons.last.renderer.addClass(this.buttons.last.element,"k-group-end"))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}},{key:"ngAfterContentChecked",value:function(){this.verifySettings()}},{key:"navigateFocus",value:function(e){var t=this.buttons.toArray().findIndex((function(e){return-1!==e.element.tabIndex})),n=this.buttons.length-1,i=new Qy;e.keyCode===Jg.ArrowRight&&t<n&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((function(e,n){return n===t+1}))))),e.keyCode===Jg.ArrowLeft&&t>0&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((function(e,n){return n===t-1})))))}},{key:"deactivate",value:function(e){e.forEach((function(e){e.setSelected(!1),e.setAttribute("aria-checked",e.selected.toString()),e.setAttribute("tabindex","-1")}))}},{key:"activate",value:function(e){e.forEach((function(e){e.setSelected(!0),e.setAttribute("aria-checked",e.selected.toString()),e.setAttribute("tabindex","0"),e.focus()}))}},{key:"defocus",value:function(e){e.forEach((function(e){e.setAttribute("tabindex","-1")}))}},{key:"focus",value:function(e){e.forEach((function(e){e.setAttribute("tabindex","0"),e.focus()}))}},{key:"verifySettings",value:function(){if(Ni()&&this.isSelectionSingle()&&this.buttons.filter((function(e){return e.selected})).length>1)throw new Error("Having multiple selected buttons with single selection mode is not supported")}},{key:"isSelectionSingle",value:function(){return"single"===this.selection}},{key:"tabIndex",set:function(e){this._tabIndex=e,this.currentTabIndex=e},get:function(){return this._tabIndex}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"stretchedClass",get:function(){return!!this.width}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"getRole",get:function(){return this.isSelectionSingle()?"radiogroup":"group"}},{key:"dir",get:function(){return this.direction}},{key:"ariaDisabled",get:function(){return this.disabled}},{key:"wrapperWidth",get:function(){return this.width}},{key:"wrapperTabIndex",get:function(){return this.disabled?void 0:this.currentTabIndex}}]),e}()).\u0275fac=function(e){return new(e||Uy)(Ga(Zy),Ga(Om),Ga(rl))},Uy.\u0275cmp=At({type:Uy,selectors:[["kendo-buttongroup"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,Yy,!1),2&e&&ku(i=Tu())&&(t.buttons=i)},hostVars:18,hostBindings:function(e,t){1&e&&is("keydown",(function(e){return t.keydown(e)}))("focus",(function(){return t.onFocus()}))("focusout",(function(e){return t.focusout(e)})),2&e&&(ja("role",t.getRole)("dir",t.dir)("aria-disalbed",t.ariaDisabled)("tabindex",t.wrapperTabIndex),gs("width",t.wrapperWidth),ys("k-button-group",t.wrapperClass)("k-state-disabled",t.disabledClass)("k-button-group-stretched",t.stretchedClass)("k-button-group-flat",t.isFlat)("k-button-group-bare",t.isBare)("k-button-group-outline",t.isOutline))},inputs:{selection:"selection",look:"look",tabIndex:"tabIndex",disabled:"disabled",width:"width"},outputs:{navigate:"navigate"},exportAs:["kendoButtonGroup"],features:[el([Zy,Om,{provide:Tm,useValue:"kendo.buttongroup"}]),Us],ngContentSelectors:Ky,decls:1,vars:0,template:function(e,t){1&e&&(ls($y),us(0))},encapsulation:2}),Uy),Xy=((Gy=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Gy}),Gy.\u0275inj=Oe({factory:function(e){return new(e||Gy)}}),Gy),ek=((Hy=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Hy}),Hy.\u0275inj=Oe({factory:function(e){return new(e||Hy)},imports:[[Rh,Xy]]}),Hy),tk=((By=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:By}),By.\u0275inj=Oe({factory:function(e){return new(e||By)},imports:[[Rh]]}),By),nk=((Vy=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Vy}),Vy.\u0275inj=Oe({factory:function(e){return new(e||Vy)},imports:[[Rh,My,Xy,tk],tk]}),Vy),ik=((jy=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:jy}),jy.\u0275inj=Oe({factory:function(e){return new(e||jy)},imports:[[Rh,My,tk,Xy],tk]}),jy),rk=((Ly=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Ly}),Ly.\u0275inj=Oe({factory:function(e){return new(e||Ly)},imports:[[Rh]]}),Ly),ok=((Ny=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Ny}),Ny.\u0275inj=Oe({factory:function(e){return new(e||Ny)},imports:[ek,Xy,nk,ik,rk]}),Ny),ak=["overflowButton"],sk=["popupTemplate"],lk=["resizeSensor"],uk=["container"],ck=["toolbarRenderer"],hk=["overflowRenderer"];function fk(e,t){if(1&e){var n=es();Qa(0),Ka(1,"kendo-toolbar-renderer",5,6),is("rendererClick",(function(e){return pn(n),as().onRendererClick(e)})),Za(),Ja()}if(2&e){var i=t.$implicit,r=as();Dr(1),qa("location","toolbar")("resizable",r.overflow)("tool",i)}}function dk(e,t){if(1&e){var n=es();Ka(0,"button",7,8),is("click",(function(){return pn(n),as().showPopup()})),Ya(2,"span",9),Za()}2&e&&gs("visibility",as().displayAnchor)}function pk(e,t){if(1&e){var n=es();Qa(0),Ka(1,"li",11),Ka(2,"kendo-toolbar-renderer",5,12),is("rendererClick",(function(e){return pn(n),as(2).onRendererClick(e)})),Za(),Za(),Ja()}if(2&e){var i=t.$implicit,r=as(2);Dr(2),qa("location","overflow")("resizable",r.overflow)("tool",i)}}function vk(e,t){if(1&e&&(Ka(0,"ul",10),Ba(1,pk,4,3,"ng-container",0),Za()),2&e){var n=as();Dr(1),qa("ngForOf",n.allTools)}}function mk(e,t){1&e&&Ya(0,"kendo-resize-sensor",13,14),2&e&&qa("rateLimit",1e3)}var gk=["toolbarTemplate"],yk=["toolbarButton"];function kk(e,t){if(1&e){var n=es();Ka(0,"button",2,3),is("click",(function(e){return pn(n),as().click.emit(e)}))("selectedChange",(function(e){return pn(n),as().selectedChange.emit(e)}))("blur",(function(){return pn(n),as().onBlur()})),Ds(2),Za()}if(2&e){var i=as();qa("tabindex",i.tabIndex)("ngStyle",i.style)("ngClass",i.className)("disabled",i.disabled)("toggleable",i.toggleable)("primary",i.primary)("selected",i.selected)("icon",i.toolbarOptions.icon)("iconClass",i.toolbarOptions.iconClass)("imageUrl",i.toolbarOptions.imageUrl)("look",i.look),ja("title",i.title),Dr(2),Ms(" ",i.toolbarOptions.text," ")}}function bk(e,t){if(1&e){var n=es();Ka(0,"button",4,5),is("click",(function(e){return pn(n),as().click.emit(e)}))("selectedChange",(function(e){return pn(n),as().selectedChange.emit(e)})),Ds(2),Za()}if(2&e){var i=as();qa("ngStyle",i.style)("ngClass",i.className)("disabled",i.disabled)("toggleable",i.toggleable)("primary",i.primary)("selected",i.selected)("icon",i.overflowOptions.icon)("iconClass",i.overflowOptions.iconClass)("imageUrl",i.overflowOptions.imageUrl)("look",i.look),ja("title",i.title),Dr(2),Ms(" ",i.overflowOptions.text," ")}}var wk=["toolbarButtonGroup"],Ck=["overflowButtonGroup"];function _k(e,t){if(1&e){var n=es();Ka(0,"span",5),is("click",(function(e){pn(n);var i=t.$implicit,r=as(2);return i.click.emit(e),r.onButtonClick(e)}))("selectedChange",(function(e){pn(n);var i=t.$implicit;return as(2).selectedChangeHandler(e,i)})),Ds(1),Za()}if(2&e){var i=t.$implicit;qa("ngStyle",i.style)("ngClass",i.className)("disabled",i.disabled)("togglable",i.togglable)("primary",i.primary)("selected",i.selected)("icon",i.toolbarOptions.icon)("iconClass",i.toolbarOptions.iconClass)("imageUrl",i.toolbarOptions.imageUrl),ja("title",i.title),Dr(1),Ms(" ",i.toolbarOptions.text," ")}}function Sk(e,t){if(1&e){var n=es();Ka(0,"kendo-buttongroup",2,3),is("navigate",(function(e){return pn(n),as().onNavigate(e)}))("focus",(function(){return pn(n),as().onFocus()})),Ba(2,_k,2,11,"span",4),Za()}if(2&e){var i=as();qa("tabIndex",-1)("selection",i.selection)("disabled",i.disabled)("look",i.look)("width",i.width),Dr(2),qa("ngForOf",i.buttonComponents)}}function xk(e,t){if(1&e){var n=es();Ka(0,"span",9),is("click",(function(e){pn(n);var i=t.$implicit,r=as(2);return i.click.emit(e),r.onButtonClick(e)}))("selectedChange",(function(e){pn(n);var i=t.$implicit;return as(2).selectedChangeHandler(e,i)})),Ds(1),Za()}if(2&e){var i=t.$implicit;qa("ngStyle",i.style)("ngClass",i.className)("disabled",i.disabled)("togglable",i.togglable)("primary",i.primary)("selected",i.selected)("icon",i.overflowOptions.icon)("iconClass",i.overflowOptions.iconClass)("imageUrl",i.overflowOptions.imageUrl),ja("title",i.title),Dr(1),Ms(" ",i.overflowOptions.text," ")}}function Tk(e,t){if(1&e&&(Ka(0,"kendo-buttongroup",6,7),Ba(2,xk,2,11,"span",8),Za()),2&e){var n=as();qa("tabIndex",-1)("selection",n.selection)("disabled",n.disabled)("look",n.look)("width",n.width),Dr(2),qa("ngForOf",n.buttonComponents)}}var Ok=["separator"];function Ik(e,t){1&e&&Ya(0,"div",1)}function Ek(e,t){}function Ak(e,t){if(1&e&&(Qa(0),Ba(1,Ek,0,0,"ng-template",1),Ja()),2&e){var n=as();Dr(1),qa("ngTemplateOutlet",n.template)}}function Dk(e,t){}function Rk(e,t){if(1&e&&(Qa(0),Ba(1,Dk,0,0,"ng-template",1),Ja()),2&e){var n=as();Dr(1),qa("ngTemplateOutlet",n.template)}}var Mk,Fk=((Mk=function(){function e(){_classCallCheck(this,e),this.onRefresh=new lu}return _createClass(e,[{key:"refresh",value:function(e){this.onRefresh.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Mk)},Mk.\u0275prov=xe({token:Mk,factory:Mk.\u0275fac}),Mk),Pk=/^(?:a|input|select|textarea|button|object)$/i;function zk(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+(parseFloat(n.marginLeft)||0+parseFloat(n.marginRight)||0)}var Nk,Lk,jk,Vk,Bk,Hk,Gk,Uk,Wk,qk=function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){if(i&&n(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var r=e(t,n);if(r)return r}t=t.nextSibling}}},$k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.tagName){var n=e.tagName.toLowerCase(),i=null!==e.getAttribute("tabIndex");return Pk.test(n)&&(i=!e.disabled),i&&(!t||function(e){var t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility}(e))}return!1},Kk=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=n?e.prevSibling:e.nextSibling;i;){if(1===i.nodeType){var r=qk(i,(function(e){return $k(e,t)}));if(r)return r}i=n?i.prevSibling:i.nextSibling}},Zk=function(e){return null!=e},Yk=function(e,t,n){switch(t){case"toolbar":return n?void 0:e;case"overflow":return n?e:void 0;default:return e}},Qk=((Lk=function(){function e(){_classCallCheck(this,e),this.focused={renderedTool:null,index:-1},this.renderedTools=[],this.isPopupFocused=!1,this.isOverflowButtonFocused=!1}return _createClass(e,[{key:"setRenderedTools",value:function(e){this.renderedTools=_toConsumableArray(e)}},{key:"click",value:function(e){var t=e.context,n=e.event;this.focused.renderedTool!==t&&n&&this.focus(t,n)}},{key:"moveFocusToToolBar",value:function(){this.isPopupFocused=!1,this.focusOverflowButton()}},{key:"moveFocusToPopup",value:function(){this.isPopupFocused=!0,this.blurOverflowButton(),this.focus()}},{key:"focusNext",value:function(e){if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(e)){var t=this.getFocusableTools().slice(this.focused.index+1)[0];t?this.focus(t,e):this.isOverflowButtonVisible()&&!this.isPopupFocused&&this.focusOverflowButton()}}},{key:"focusPrev",value:function(e){if(this.isOverflowButtonFocused){var t=this.getFocusableTools().reverse()[0];this.focus(t,e)}else if(this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(e)){var n=this.getFocusableTools().slice(0,this.focused.index).reverse()[0];n&&this.focus(n,e)}}},{key:"resetNavigation",value:function(){this.blurOverflowButton(),this.focused.renderedTool=null,this.focused.index=-1}},{key:"focusFirst",value:function(e){var t=this.getFocusableTools()[0];t&&(this.focused.renderedTool=t,this.focused.index=this.getFocusableTools().findIndex((function(e){return e===t})),this.focus(t,e))}},{key:"getFocusableTools",value:function(){var e=this;return this.renderedTools.filter((function(t){return t.tool.overflows===e.isPopupFocused&&t.tool.canFocus()}))}},{key:"focus",value:function(e,t){var n=this;if(e)e.tool.canFocus&&e.tool.canFocus()&&(this.focused.renderedTool=e,this.focused.index=this.getFocusableTools().findIndex((function(t){return t===e})),e.tool.focus(t),this.blurOverflowButton());else{var i=this.getFocusableTools(),r=i.find((function(e){return e===n.focused.renderedTool}))||i[0];r&&(this.focused.renderedTool=r,this.focused.index=this.getFocusableTools().findIndex((function(e){return e===r})),r.tool.focus(t))}}},{key:"blurOverflowButton",value:function(){this.overflowButton&&(this.isOverflowButtonFocused=!1,this.overflowButton.nativeElement.tabIndex=-1)}},{key:"focusOverflowButton",value:function(){this.isOverflowButtonFocused=!0,this.overflowButton.nativeElement.tabIndex=0,this.overflowButton.nativeElement.focus()}},{key:"isOverflowButtonVisible",value:function(){return Zk(this.overflowButton)&&"visible"===window.getComputedStyle(this.overflowButton.nativeElement).getPropertyValue("visibility")}}]),e}()).\u0275fac=function(e){return new(e||Lk)},Lk.\u0275prov=xe({token:Lk,factory:Lk.\u0275fac}),Lk),Jk=((Nk=function(){function e(){_classCallCheck(this,e),this.tabIndex=-1,this.overflows=!0,this.responsive=!0}return _createClass(e,[{key:"canFocus",value:function(){return!1}},{key:"focus",value:function(e){}},{key:"handleKey",value:function(e){return!1}},{key:"toolbarDisplay",get:function(){return this.overflows?"none":"inline-block"}},{key:"overflowDisplay",get:function(){return this.overflows?"block":"none"}}]),e}()).\u0275fac=function(e){return new(e||Nk)},Nk.\u0275cmp=At({type:Nk,selectors:[["toolbar-tool"]],inputs:{responsive:"responsive"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Nk),Xk=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),eb=function(e){return{animate:!0,anchorAlign:{horizontal:e?"left":"right",vertical:"bottom"},popupAlign:{horizontal:e?"left":"right",vertical:"top"}}},tb=((Wk=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.localization=t,this.popupService=n,this.refreshService=i,this.navigationService=r,this.element=o,this.cdr=a,this.zone=s,this.renderer=l,this.overflow=!1,this.tabindex=0,this.open=new lu,this.close=new lu,this.hostClasses=!0,this.cancelRenderedToolsSubscription$=new j,this.direction=t.rtl?"rtl":"ltr"}return _createClass(e,[{key:"onFocus",value:function(e){this.navigationService.resetNavigation(),this.navigationService.focusFirst(e),this.tabIndex=-1}},{key:"onFocusOut",value:function(){this.tabIndex=0}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.toolbarKeydownListener=e.renderer.listen(e.element.nativeElement,"keydown",(function(t){switch(t.keyCode){case Jg.ArrowLeft:e.zone.run((function(){t.preventDefault(),"ltr"===e.direction?e.navigationService.focusPrev(t):e.navigationService.focusNext(t),e.tabIndex=-1}));break;case Jg.ArrowRight:e.zone.run((function(){t.preventDefault(),"ltr"===e.direction?e.navigationService.focusNext(t):e.navigationService.focusPrev(t),e.tabIndex=-1}));break;case Jg.Tab:e.zone.run((function(){return e.navigationService.resetNavigation()}));break;case Jg.Escape:e.zone.run((function(){return e.toggle(!1)}))}}))})),this.overflow&&(this.resizeSubscription=this.resizeSensor.resize.pipe(If((function(){return e.overflow}))).subscribe((function(){e.onResize()})),this.zone.runOutsideAngular((function(){return setTimeout((function(){return e.onResize()}))})),this.navigationService.overflowButton=this.overflowButton),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.renderedTools.changes.pipe(Fy(this.cancelRenderedToolsSubscription$)).subscribe((function(t){return e.navigationService.setRenderedTools(t.toArray())}))}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;return e.direction=n?"rtl":"ltr"})),Mg()&&this.zone.runOutsideAngular((function(){return e.closeOverflowSubscription=xg(document,"click").pipe(If((function(){return!!e.popupRef})),If((function(t){return!e.popupRef.popup.instance.container.nativeElement.contains(t.target)})),If((function(t){return!e.overflowButton.nativeElement.contains(t.target)}))).subscribe((function(){e.zone.run((function(){e.popupOpen=!1}))}))}))}},{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe(),this.closeOverflowSubscription&&this.closeOverflowSubscription.unsubscribe(),this.popupRef&&this.popupRef.close(),this.toolbarKeydownListener&&this.toolbarKeydownListener(),this.cancelRenderedToolsSubscription$.next()}},{key:"onRendererClick",value:function(e){this.navigationService.click(e),this.tabIndex=-1}},{key:"showPopup",value:function(){this.popupOpen=!this.popupOpen,this.navigationService.click({context:void 0,event:void 0})}},{key:"toggle",value:function(e){this._open=void 0!==e?e:!this.popupOpen,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.popupOpen&&(this.popupRef=this.popupService.open({anchor:this.overflowButton,anchorAlign:this.popupSettings.anchorAlign,popupAlign:this.popupSettings.popupAlign,content:this.popupTemplate,appendTo:this.appendTo,animate:this.popupSettings.animate,popupClass:this.popupSettings.popupClass,positionMode:"absolute"}),this.setPopupContentDimensions(),this.popupRef.popupOpen.subscribe(this.onPopupOpen.bind(this)),this.popupRef.popupClose.subscribe(this.onPopupClose.bind(this)))}},{key:"onResize",value:function(){if(Mg()){var e=(n=(t=this.element.nativeElement).offsetWidth,i=getComputedStyle(t),n-=parseFloat(i.paddingLeft)||0+parseFloat(i.borderLeftWidth)||0,(n-=parseFloat(i.paddingRight)||0+parseFloat(i.borderRightWidth)||0)-this.overflowAnchorWidth);this.shrink(e,this.childrenWidth),this.stretch(e,this.childrenWidth)}var t,n,i;this.cdr.detectChanges(),this.resizeSensor.acceptSize()}},{key:"onPopupOpen",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.overflowKeydownListener=e.renderer.listen(e.popupRef.popupElement,"keydown",(function(t){switch(t.keyCode){case Jg.ArrowUp:e.zone.run((function(){t.preventDefault(),e.navigationService.focusPrev(t)}));break;case Jg.ArrowDown:e.zone.run((function(){t.preventDefault(),e.navigationService.focusNext(t)}));break;case Jg.Escape:e.zone.run((function(){return e.toggle(!1)}));break;case Jg.Tab:e.zone.run((function(){e.toggle(!1),e.navigationService.resetNavigation()}))}}))})),this.cancelRenderedToolsSubscription$.next(),this.navigationService.moveFocusToPopup(),this.navigationService.setRenderedTools(this.overflowRenderedTools.toArray()),this.overflowRenderedTools.changes.pipe(Fy(this.cancelRenderedToolsSubscription$)).subscribe((function(t){return e.navigationService.setRenderedTools(t.toArray())}))}},{key:"onPopupClose",value:function(){var e=this;this.cancelRenderedToolsSubscription$.next(),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.renderedTools.changes.pipe(Fy(this.cancelRenderedToolsSubscription$)).subscribe((function(t){return e.navigationService.setRenderedTools(t.toArray())})),this.navigationService.moveFocusToToolBar(),this.overflowKeydownListener&&this.overflowKeydownListener()}},{key:"shrink",value:function(e,t){if(e<t)for(var n=this.visibleTools.length-1;n>=0&&!(e>t);n--)t-=this.hideLastVisibleTool()}},{key:"stretch",value:function(e,t){var n;if(e>t)for(var i=this.overflowTools.length-1;i>=0&&(n=this.showFirstHiddenTool(e,t));i--)t+=n}},{key:"hideLastVisibleTool",value:function(){var e=this.visibleTools[this.visibleTools.length-1],t=this.renderedTools.find((function(t){return t.tool===e})).width;return e.overflows=!0,this.refreshService.refresh(e),t}},{key:"showFirstHiddenTool",value:function(e,t){var n=this.overflowTools[0],i=this.renderedTools.find((function(e){return e.tool===n}));return n.overflows=!1,n.visibility="hidden",this.refreshService.refresh(n),e>t+i.width?(n.visibility="visible",this.refreshService.refresh(n)):(n.overflows=!0,this.refreshService.refresh(n)),i.width}},{key:"setPopupContentDimensions",value:function(){var e=this.popupRef.popup.instance.contentContainer.nativeElement;e.style.width=this.popupWidth,e.style.height=this.popupHeight,e.style.overflow="auto"}},{key:"resizable",set:function(e){this.overflow=e},get:function(){return this.overflow}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({},eb(this.localization.rtl),e)},get:function(){return this._popupSettings||eb(this.localization.rtl)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"popupOpen",set:function(e){if(this.popupOpen!==e){var t=new Xk;e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()||this.toggle(e)}},get:function(){return this._open}},{key:"getTabIndex",get:function(){return this.tabindex}},{key:"getRole",get:function(){return"toolbar"}},{key:"getDir",get:function(){return this.direction}},{key:"resizableClass",get:function(){return this.overflow}},{key:"displayAnchor",get:function(){return this.allTools.filter((function(e){return e.overflows&&e.responsive})).length>0?"visible":"hidden"}},{key:"popupWidth",get:function(){return this.popupSettings&&this.popupSettings.width?isNaN(this.popupSettings.width)?this.popupSettings.width:this.popupSettings.width+"px":"150px"}},{key:"popupHeight",get:function(){if(this.popupSettings&&this.popupSettings.height)return isNaN(this.popupSettings.height)?this.popupSettings.height:this.popupSettings.height+"px"}},{key:"overflowAnchorWidth",get:function(){return this.overflow?(this.cachedOverflowAnchorWidth||(this.cachedOverflowAnchorWidth=zk(this.overflowButton.nativeElement)),this.cachedOverflowAnchorWidth):0}},{key:"childrenWidth",get:function(){var e=this.renderedTools.reduce((function(e,t){return t.width+e}),0);return Math.ceil(e)}},{key:"visibleTools",get:function(){return this.allTools.filter((function(e){return!1===e.overflows}))}},{key:"overflowTools",get:function(){return this.allTools.filter((function(e){return!0===e.overflows}))}}]),e}()).\u0275fac=function(e){return new(e||Wk)(Ga(Om),Ga(Ry),Ga(Fk),Ga(Qk),Ga(rl),Ga(oa),Ga(Xu),Ga(ll))},Wk.\u0275cmp=At({type:Wk,selectors:[["kendo-toolbar"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,Jk,!1),2&e&&ku(i=Tu())&&(t.allTools=i)},viewQuery:function(e,t){var n;1&e&&(wu(ak,!0),bu(sk,!0),wu(lk,!0),wu(uk,!0,El),wu(ck,!0),wu(hk,!0)),2&e&&(ku(n=Tu())&&(t.overflowButton=n.first),ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.resizeSensor=n.first),ku(n=Tu())&&(t.container=n.first),ku(n=Tu())&&(t.renderedTools=n),ku(n=Tu())&&(t.overflowRenderedTools=n))},hostVars:9,hostBindings:function(e,t){1&e&&is("focus",(function(e){return t.onFocus(e)}))("focusout",(function(){return t.onFocusOut()})),2&e&&(ja("tabindex",t.getTabIndex)("role",t.getRole)("dir",t.getDir),ys("k-widget",t.hostClasses)("k-toolbar",t.hostClasses)("k-toolbar-resizable",t.resizableClass))},inputs:{overflow:"overflow",tabindex:"tabindex",resizable:"resizable",popupSettings:"popupSettings",tabIndex:"tabIndex"},outputs:{open:"open",close:"close"},exportAs:["kendoToolBar"],features:[el([Fk,Qk,Om,{provide:Tm,useValue:"kendo.toolbar"}])],decls:7,vars:3,consts:[[4,"ngFor","ngForOf"],["type","button","tabindex","-1","class","k-overflow-anchor k-button",3,"visibility","click",4,"ngIf"],["popupTemplate",""],["container",""],[3,"rateLimit",4,"ngIf"],[3,"location","resizable","tool","rendererClick"],["toolbarRenderer",""],["type","button","tabindex","-1",1,"k-overflow-anchor","k-button",3,"click"],["overflowButton",""],[1,"k-icon","k-i-more-vertical"],[1,"k-overflow-container","k-list-container","k-reset"],[1,"k-item"],["overflowRenderer",""],[3,"rateLimit"],["resizeSensor",""]],template:function(e,t){1&e&&(Ba(0,fk,3,3,"ng-container",0),Ba(1,dk,3,2,"button",1),Ba(2,vk,2,1,"ng-template",null,2,Au),Xa(4,null,3),Ba(6,mk,2,1,"kendo-resize-sensor",4)),2&e&&(qa("ngForOf",t.allTools),Dr(1),qa("ngIf",t.overflow),Dr(5),qa("ngIf",t.overflow))},directives:function(){return[ch,fh,ab,Zg]},encapsulation:2}),Wk),nb=((Uk=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).showText="both",e.showIcon="both",e.toggleable=!1,e.primary=!1,e.look="default",e.selected=!1,e.click=new lu,e.selectedChange=new lu,e.toolbarOptions={text:"",icon:"",iconClass:"",imageUrl:""},e.overflowOptions={text:"",icon:"",iconClass:"",imageUrl:""},e}return _createClass(n,[{key:"onBlur",value:function(){this.getButton().tabIndex=-1}},{key:"canFocus",value:function(){return!this.disabled}},{key:"focus",value:function(e){e&&"focus"!==e.type&&"keydown"!==e.type||this.getButton().focus(),this.getButton().tabIndex=0}},{key:"handleKey",value:function(){return this.getButton().tabIndex=-1,!1}},{key:"getButton",value:function(){return(this.overflows?this.overflowButtonElement:this.toolbarButtonElement).nativeElement}},{key:"text",set:function(e){this.toolbarOptions.text=Yk(e,this.showText,!1),this.overflowOptions.text=Yk(e,this.showText,!0)}},{key:"togglable",get:function(){return this.toggleable},set:function(e){this.toggleable=e}},{key:"icon",set:function(e){this.toolbarOptions.icon=Yk(e,this.showIcon,!1),this.overflowOptions.icon=Yk(e,this.showIcon,!0)}},{key:"iconClass",set:function(e){this.toolbarOptions.iconClass=Yk(e,this.showIcon,!1),this.overflowOptions.iconClass=Yk(e,this.showIcon,!0)}},{key:"imageUrl",set:function(e){this.toolbarOptions.imageUrl=Yk(e,this.showIcon,!1),this.overflowOptions.imageUrl=Yk(e,this.showIcon,!0)}}]),n}(Jk)).\u0275fac=function(e){return new(e||Uk)},Uk.\u0275cmp=At({type:Uk,selectors:[["kendo-toolbar-button"]],viewQuery:function(e,t){var n;1&e&&(bu(gk,!0),bu(sk,!0),wu(yk,!0,rl),wu(ak,!0,rl)),2&e&&(ku(n=Tu())&&(t.toolbarTemplate=n.first),ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.toolbarButtonElement=n.first),ku(n=Tu())&&(t.overflowButtonElement=n.first))},inputs:{showText:"showText",showIcon:"showIcon",toggleable:"toggleable",primary:"primary",look:"look",selected:"selected",text:"text",togglable:"togglable",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",style:"style",className:"className",title:"title",disabled:"disabled"},outputs:{click:"click",selectedChange:"selectedChange"},exportAs:["kendoToolBarButton"],features:[el([{provide:Jk,useExisting:je((function(){return Uk}))}]),Ls],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["type","button","kendoButton","",3,"tabindex","ngStyle","ngClass","disabled","toggleable","primary","selected","icon","iconClass","imageUrl","look","click","selectedChange","blur"],["toolbarButton",""],["tabindex","-1","type","button","kendoButton","",1,"k-overflow-button",3,"ngStyle","ngClass","disabled","toggleable","primary","selected","icon","iconClass","imageUrl","look","click","selectedChange"],["overflowButton",""]],template:function(e,t){1&e&&(Ba(0,kk,3,13,"ng-template",null,0,Au),Ba(2,bk,3,12,"ng-template",null,1,Au))},directives:[Yy,Ah,lh],encapsulation:2}),Uk),ib=((Gk=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).localization=e,i.selection="multiple",i.look="default",i.focusedIndex=-1,i.getNextKey=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Jg.ArrowDown:e?Jg.ArrowLeft:Jg.ArrowRight}}(i.localization.rtl),i.getPrevKey=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Jg.ArrowUp:e?Jg.ArrowRight:Jg.ArrowLeft}}(i.localization.rtl),i}return _createClass(n,[{key:"onFocus",value:function(){this.focusedIndex=0}},{key:"onNavigate",value:function(e){e.preventDefault()}},{key:"selectedChangeHandler",value:function(e,t){t.selected=e,t.selectedChange.emit(e)}},{key:"onButtonClick",value:function(e){this.focusedIndex=this.buttonElements.findIndex((function(t){return t===e.target||t.contains(e.target)})),this.focusButton(this.focusedIndex,e)}},{key:"canFocus",value:function(){return!(this.disabled||0===this.buttonElements.length)}},{key:"focus",value:function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getNextKey(this.overflows),o=this.getPrevKey(this.overflows);this.focusedIndex=(e=o,t=r,n=this.buttonElements,function(i){switch(i.type){case"keydown":if(i.keyCode===e)return n.length-1;if(i.keyCode===t)return 0;break;case"click":return n.findIndex((function(e){return e===i.target||e.contains(i.target)}));case"focus":default:return 0}})(i),this.focusButton(this.focusedIndex,i)}},{key:"handleKey",value:function(e){var t,n,i,r,o,a=this.getNextKey(this.overflows),s=this.getPrevKey(this.overflows),l=(n=this.buttonElements,function(e){return Zk(n[e])}),u=(t=this.focusedIndex,function(e){return t===e});return this.focusedIndex=(i=s,r=a,o=l,function(e,t){switch(t.keyCode){case i:return o(e-1)?e-1:e;case r:return o(e+1)?e+1:e;default:return e}})(this.focusedIndex,e),this.focusButton(this.focusedIndex,e),!u(this.focusedIndex)}},{key:"getButtonGroup",value:function(){return this.overflows?this.overflowButtonGroup:this.toolbarButtonGroup}},{key:"focusButton",value:function(e,t){t.type&&"focus"!==t.type&&"keydown"!==t.type||this.buttonElements[e].focus()}},{key:"buttonElements",get:function(){return this.getButtonGroup().buttons.filter((function(e){return!e.isDisabled})).map((function(e){return e.element}))}}]),n}(Jk)).\u0275fac=function(e){return new(e||Gk)(Ga(Om))},Gk.\u0275cmp=At({type:Gk,selectors:[["kendo-toolbar-buttongroup"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,nb,!1),2&e&&ku(i=Tu())&&(t.buttonComponents=i)},viewQuery:function(e,t){var n;1&e&&(bu(gk,!0),bu(sk,!0),wu(wk,!0),wu(Ck,!0)),2&e&&(ku(n=Tu())&&(t.toolbarTemplate=n.first),ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.toolbarButtonGroup=n.first),ku(n=Tu())&&(t.overflowButtonGroup=n.first))},inputs:{selection:"selection",look:"look",disabled:"disabled",width:"width"},exportAs:["kendoToolBarButtonGroup"],features:[el([Om,{provide:Jk,useExisting:je((function(){return Gk}))}]),Ls],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],[3,"tabIndex","selection","disabled","look","width","navigate","focus"],["toolbarButtonGroup",""],["kendoButton","",3,"ngStyle","ngClass","disabled","togglable","primary","selected","icon","iconClass","imageUrl","click","selectedChange",4,"ngFor","ngForOf"],["kendoButton","",3,"ngStyle","ngClass","disabled","togglable","primary","selected","icon","iconClass","imageUrl","click","selectedChange"],[1,"k-overflow-button",3,"tabIndex","selection","disabled","look","width"],["overflowButtonGroup",""],["kendoButton","","class","k-overflow-button",3,"ngStyle","ngClass","disabled","togglable","primary","selected","icon","iconClass","imageUrl","click","selectedChange",4,"ngFor","ngForOf"],["kendoButton","",1,"k-overflow-button",3,"ngStyle","ngClass","disabled","togglable","primary","selected","icon","iconClass","imageUrl","click","selectedChange"]],template:function(e,t){1&e&&(Ba(0,Sk,3,6,"ng-template",null,0,Au),Ba(2,Tk,3,6,"ng-template",null,1,Au))},directives:[Jy,ch,Yy,Ah,lh],encapsulation:2}),Gk),rb=((Hk=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"canFocus",value:function(){return!1}},{key:"focus",value:function(){}},{key:"handleKey",value:function(){return!1}},{key:"ngAfterViewInit",value:function(){this.popupTemplate||(this.popupTemplate=this.toolbarTemplate)}}]),n}(Jk)).\u0275fac=function(e){return new(e||Hk)},Hk.\u0275cmp=At({type:Hk,selectors:[["kendo-toolbar-separator"]],viewQuery:function(e,t){var n;1&e&&(bu(sk,!0),bu(gk,!0),wu(Ok,!0)),2&e&&(ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.toolbarTemplate=n.first),ku(n=Tu())&&(t.separator=n.first))},exportAs:["kendoToolBarSeparator"],features:[el([{provide:Jk,useExisting:je((function(){return Hk}))}]),Ls],decls:2,vars:0,consts:[["toolbarTemplate",""],[1,"k-separator"]],template:function(e,t){1&e&&Ba(0,Ik,1,0,"ng-template",null,0,Au)},encapsulation:2}),Hk),ob=((Bk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getElement",value:function(){return this.element.nativeElement}},{key:"querySelector",value:function(e){return this.element.nativeElement.querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.element.nativeElement.querySelectorAll(e)}},{key:"findFocusable",value:function(){var e=this;return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return qk(e.element.nativeElement,(function(e){return $k(e,n)}))}(0,!1)}},{key:"findFocusableChild",value:function(e){return e||(e=this.findFocusable()),function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return qk(e,(function(e){return $k(e,t)}),!1)}(e,!1)}},{key:"findNextFocusableSibling",value:function(e){return e||(e=this.findFocusable()),Kk(e,!1)}},{key:"findPrevFocusableSibling",value:function(e){return e||(e=this.findFocusable()),Kk(e,!1,!0)}},{key:"setAttribute",value:function(e,t,n){this.renderer.setAttribute(e,t,n)}}]),e}()).\u0275fac=function(e){return new(e||Bk)},Bk.\u0275prov=xe({token:Bk,factory:Bk.\u0275fac}),Bk),ab=((Vk=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.element=t,this.renderer=n,this.rendererService=i,this.refreshService=r,this.rendererClick=new lu,this.rendererService.element=t,this.rendererService.renderer=this,this.refreshSubscription=this.refreshService.onRefresh.subscribe((function(e){o.tool===e&&o.refresh()}))}return _createClass(e,[{key:"onClick",value:function(e){this.rendererClick.emit({context:this,event:e})}},{key:"ngOnInit",value:function(){this.resizable?"toolbar"===this.location?(this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.template=this.tool.popupTemplate,this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.tool.overflows=!1,this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","display"),this.renderer.setStyle(this.element.nativeElement,"display","inline-block"))}},{key:"ngOnDestroy",value:function(){this.refreshSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){this.resizable&&this.refresh()}},{key:"isDisplayed",value:function(){return"none"!==this.element.nativeElement.style.display}},{key:"refresh",value:function(){this.resizable&&("toolbar"===this.location?(this.renderer.setStyle(this.element.nativeElement,"visibility",this.tool.visibility),this.renderer.setStyle(this.element.nativeElement,"display",this.tool.toolbarDisplay)):this.renderer.setStyle(this.element.nativeElement,"display",this.tool.overflowDisplay))}},{key:"setAttribute",value:function(e,t,n){this.renderer.setAttribute(e,t,n)}},{key:"width",get:function(){return this.tool.overflows?0:zk(this.element.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||Vk)(Ga(rl),Ga(ll),Ga(ob),Ga(Fk))},Vk.\u0275cmp=At({type:Vk,selectors:[["kendo-toolbar-renderer"]],hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)}))},inputs:{tool:"tool",location:"location",resizable:"resizable"},outputs:{rendererClick:"rendererClick"},exportAs:["kendoToolBarRenderer"],features:[el([ob])],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Ba(0,Ak,2,1,"ng-container",0),Ba(1,Rk,2,1,"ng-container",0)),2&e&&(qa("ngIf","toolbar"===t.location),Dr(1),qa("ngIf","overflow"===t.location&&t.tool.responsive))},directives:[fh,Dh],encapsulation:2}),Vk),sb=((jk=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:jk}),jk.\u0275inj=Oe({factory:function(e){return new(e||jk)},imports:[[Rh,ok,My,Yg]]}),jk),lb=function(e){return void 0===e},ub=n("Ju5/"),cb=ub.a.Symbol,hb=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},fb=Array.isArray,db=Object.prototype,pb=db.hasOwnProperty,vb=db.toString,mb=cb?cb.toStringTag:void 0,gb=Object.prototype.toString,yb=cb?cb.toStringTag:void 0,kb=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":yb&&yb in Object(e)?function(e){var t=pb.call(e,mb),n=e[mb];try{e[mb]=void 0;var i=!0}catch(o){}var r=vb.call(e);return i&&(t?e[mb]=n:delete e[mb]),r}(e):function(e){return gb.call(e)}(e)},bb=function(e){return null!=e&&"object"==typeof e},wb=function(e){return"symbol"==typeof e||bb(e)&&"[object Symbol]"==kb(e)},Cb=cb?cb.prototype:void 0,_b=Cb?Cb.toString:void 0,Sb=function e(t){if("string"==typeof t)return t;if(fb(t))return hb(t,e)+"";if(wb(t))return _b?_b.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},xb=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(e,t,n)},Tb=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1},Ob=function(e){return e!=e},Ib=function(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Tb(e,Ob,n)},Eb=function(e,t){for(var n=-1,i=e.length;++n<i&&Ib(t,e[n],0)>-1;);return n},Ab=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Db="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Rb="\\ud83c[\\udffb-\\udfff]",Mb="[^\\ud800-\\udfff]",Fb="(?:\\ud83c[\\udde6-\\uddff]){2}",Pb="[\\ud800-\\udbff][\\udc00-\\udfff]",zb="(?:"+Db+"|"+Rb+")?",Nb="[\\ufe0e\\ufe0f]?"+zb+"(?:\\u200d(?:"+[Mb,Fb,Pb].join("|")+")[\\ufe0e\\ufe0f]?"+zb+")*",Lb="(?:"+[Mb+Db+"?",Db,Fb,Pb,"[\\ud800-\\udfff]"].join("|")+")",jb=RegExp(Rb+"(?="+Rb+")|"+Lb+Nb,"g"),Vb=function(e){return function(e){return Ab.test(e)}(e)?function(e){return e.match(jb)||[]}(e):function(e){return e.split("")}(e)},Bb=function(e){return null==e?"":Sb(e)},Hb=/^\s+/,Gb=/^\s+|\s+$/g,Ub=function(e,t){return e===t||e!=e&&t!=t},Wb=function(e,t){for(var n=e.length;n--;)if(Ub(e[n][0],t))return n;return-1},qb=Array.prototype.splice;function $b(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}$b.prototype.clear=function(){this.__data__=[],this.size=0},$b.prototype.delete=function(e){var t=this.__data__,n=Wb(t,e);return!(n<0||(n==t.length-1?t.pop():qb.call(t,n,1),--this.size,0))},$b.prototype.get=function(e){var t=this.__data__,n=Wb(t,e);return n<0?void 0:t[n][1]},$b.prototype.has=function(e){return Wb(this.__data__,e)>-1},$b.prototype.set=function(e,t){var n=this.__data__,i=Wb(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var Kb,Zb=$b,Yb=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Qb=function(e){if(!Yb(e))return!1;var t=kb(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Jb=ub.a["__core-js_shared__"],Xb=(Kb=/[^.]+$/.exec(Jb&&Jb.keys&&Jb.keys.IE_PROTO||""))?"Symbol(src)_1."+Kb:"",ew=Function.prototype.toString,tw=function(e){if(null!=e){try{return ew.call(e)}catch(t){}try{return e+""}catch(t){}}return""},nw=/^\[object .+?Constructor\]$/,iw=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rw=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Yb(e)||(t=e,Xb&&Xb in t))&&(Qb(e)?iw:nw).test(tw(e));var t}(n)?n:void 0},ow=rw(ub.a,"Map"),aw=rw(Object,"create"),sw=Object.prototype.hasOwnProperty,lw=Object.prototype.hasOwnProperty;function uw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}uw.prototype.clear=function(){this.__data__=aw?aw(null):{},this.size=0},uw.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},uw.prototype.get=function(e){var t=this.__data__;if(aw){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return sw.call(t,e)?t[e]:void 0},uw.prototype.has=function(e){var t=this.__data__;return aw?void 0!==t[e]:lw.call(t,e)},uw.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=aw&&void 0===t?"__lodash_hash_undefined__":t,this};var cw=uw,hw=function(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map};function fw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}fw.prototype.clear=function(){this.size=0,this.__data__={hash:new cw,map:new(ow||Zb),string:new cw}},fw.prototype.delete=function(e){var t=hw(this,e).delete(e);return this.size-=t?1:0,t},fw.prototype.get=function(e){return hw(this,e).get(e)},fw.prototype.has=function(e){return hw(this,e).has(e)},fw.prototype.set=function(e,t){var n=hw(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var dw=fw;function pw(e){var t=this.__data__=new Zb(e);this.size=t.size}pw.prototype.clear=function(){this.__data__=new Zb,this.size=0},pw.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pw.prototype.get=function(e){return this.__data__.get(e)},pw.prototype.has=function(e){return this.__data__.has(e)},pw.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zb){var i=n.__data__;if(!ow||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new dw(i)}return n.set(e,t),this.size=n.size,this};var vw=pw;function mw(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dw;++t<n;)this.add(e[t])}mw.prototype.add=mw.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},mw.prototype.has=function(e){return this.__data__.has(e)};var gw=mw,yw=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},kw=function(e,t){return e.has(t)},bw=function(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,h=!0,f=2&n?new gw:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(i)var v=a?i(p,d,c,t,e,o):i(d,p,c,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!yw(t,(function(e,t){if(!kw(f,t)&&(d===e||r(d,e,n,i,o)))return f.push(t)}))){h=!1;break}}else if(d!==p&&!r(d,p,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h},ww=ub.a.Uint8Array,Cw=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},_w=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Sw=cb?cb.prototype:void 0,xw=Sw?Sw.valueOf:void 0,Tw=Object.prototype.propertyIsEnumerable,Ow=Object.getOwnPropertySymbols,Iw=Ow?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,r=null==t?0:t.length,o=0,a=[];++i<r;){var s=t[i];Tw.call(e,s)&&(a[o++]=s)}return a}(Ow(e)))}:function(){return[]},Ew=function(e){return bb(e)&&"[object Arguments]"==kb(e)},Aw=Object.prototype,Dw=Aw.hasOwnProperty,Rw=Aw.propertyIsEnumerable,Mw=Ew(function(){return arguments}())?Ew:function(e){return bb(e)&&Dw.call(e,"callee")&&!Rw.call(e,"callee")},Fw=n("WOAq"),Pw=/^(?:0|[1-9]\d*)$/,zw=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Pw.test(e))&&e>-1&&e%1==0&&e<t},Nw=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Lw={};Lw["[object Float32Array]"]=Lw["[object Float64Array]"]=Lw["[object Int8Array]"]=Lw["[object Int16Array]"]=Lw["[object Int32Array]"]=Lw["[object Uint8Array]"]=Lw["[object Uint8ClampedArray]"]=Lw["[object Uint16Array]"]=Lw["[object Uint32Array]"]=!0,Lw["[object Arguments]"]=Lw["[object Array]"]=Lw["[object ArrayBuffer]"]=Lw["[object Boolean]"]=Lw["[object DataView]"]=Lw["[object Date]"]=Lw["[object Error]"]=Lw["[object Function]"]=Lw["[object Map]"]=Lw["[object Number]"]=Lw["[object Object]"]=Lw["[object RegExp]"]=Lw["[object Set]"]=Lw["[object String]"]=Lw["[object WeakMap]"]=!1;var jw,Vw,Bw=function(e){return function(t){return e(t)}},Hw=n("xutz"),Gw=Hw.a&&Hw.a.isTypedArray,Uw=Gw?Bw(Gw):function(e){return bb(e)&&Nw(e.length)&&!!Lw[kb(e)]},Ww=Object.prototype.hasOwnProperty,qw=Object.prototype,$w=(jw=Object.keys,Vw=Object,function(e){return jw(Vw(e))}),Kw=Object.prototype.hasOwnProperty,Zw=function(e){return null!=e&&Nw(e.length)&&!Qb(e)},Yw=function(e){return Zw(e)?function(e,t){var n=fb(e),i=!n&&Mw(e),r=!n&&!i&&Object(Fw.a)(e),o=!n&&!i&&!r&&Uw(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var u in e)!Ww.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zw(u,l))||s.push(u);return s}(e):function(e){if((t=e)!==("function"==typeof(n=t&&t.constructor)&&n.prototype||qw))return $w(e);var t,n,i=[];for(var r in Object(e))Kw.call(e,r)&&"constructor"!=r&&i.push(r);return i}(e)},Qw=function(e){return function(e,t,n){var i=t(e);return fb(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Yw,Iw)},Jw=Object.prototype.hasOwnProperty,Xw=rw(ub.a,"DataView"),eC=rw(ub.a,"Promise"),tC=rw(ub.a,"Set"),nC=rw(ub.a,"WeakMap"),iC=tw(Xw),rC=tw(ow),oC=tw(eC),aC=tw(tC),sC=tw(nC),lC=kb;(Xw&&"[object DataView]"!=lC(new Xw(new ArrayBuffer(1)))||ow&&"[object Map]"!=lC(new ow)||eC&&"[object Promise]"!=lC(eC.resolve())||tC&&"[object Set]"!=lC(new tC)||nC&&"[object WeakMap]"!=lC(new nC))&&(lC=function(e){var t=kb(e),n="[object Object]"==t?e.constructor:void 0,i=n?tw(n):"";if(i)switch(i){case iC:return"[object DataView]";case rC:return"[object Map]";case oC:return"[object Promise]";case aC:return"[object Set]";case sC:return"[object WeakMap]"}return t});var uC=lC,cC=Object.prototype.hasOwnProperty,hC=function e(t,n,i,r,o){return t===n||(null==t||null==n||!bb(t)&&!bb(n)?t!=t&&n!=n:function(e,t,n,i,r,o){var a=fb(e),s=fb(t),l=a?"[object Array]":uC(e),u=s?"[object Array]":uC(t),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f=l==u;if(f&&Object(Fw.a)(e)){if(!Object(Fw.a)(t))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new vw),a||Uw(e)?bw(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new ww(e),new ww(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ub(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Cw;case"[object Set]":if(s||(s=_w),e.size!=t.size&&!(1&i))return!1;var l=a.get(e);if(l)return l==t;i|=2,a.set(e,t);var u=bw(s(e),s(t),i,r,o,a);return a.delete(e),u;case"[object Symbol]":if(xw)return xw.call(e)==xw.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var d=c&&cC.call(e,"__wrapped__"),p=h&&cC.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return o||(o=new vw),r(v,m,n,i,o)}}return!!f&&(o||(o=new vw),function(e,t,n,i,r,o){var a=1&n,s=Qw(e),l=s.length;if(l!=Qw(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Jw.call(t,c)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var f=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<l;){var p=e[c=s[u]],v=t[c];if(i)var m=a?i(v,p,c,t,e,o):i(p,v,c,e,t,o);if(!(void 0===m?p===v||r(p,v,n,i,o):m)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,r,o))}(t,n,i,r,e,o))},fC=function(e){return e==e&&!Yb(e)},dC=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},pC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vC=/^\w*$/,mC=function(e,t){if(fb(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!wb(e))||vC.test(e)||!pC.test(e)||null!=t&&e in Object(t)};function gC(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(gC.Cache||dw),n}gC.Cache=dw;var yC,kC,bC,wC,CC=gC,_C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SC=/\\(\\)?/g,xC=function(e){var t=CC((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(_C,(function(e,n,i,r){t.push(i?r.replace(SC,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),TC=function(e,t){return fb(e)?e:mC(e,t)?[e]:xC(Bb(e))},OC=function(e){if("string"==typeof e||wb(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},IC=function(e,t){for(var n=0,i=(t=TC(t,e)).length;null!=e&&n<i;)e=e[OC(t[n++])];return n&&n==i?e:void 0},EC=function(e,t){return null!=e&&t in Object(e)},AC=function(e,t,n){for(var i=-1,r=(t=TC(t,e)).length,o=!1;++i<r;){var a=OC(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Nw(r)&&zw(a,r)&&(fb(e)||Mw(e))},DC=function(e){return e},RC=function(e){return"function"==typeof e?e:null==e?DC:"object"==typeof e?fb(e)?(r=e[1],mC(i=e[0])&&fC(r)?dC(OC(i),r):function(e){var t=function(e,t,n){var i=null==e?void 0:IC(e,t);return void 0===i?void 0:i}(e,i);return void 0===t&&t===r?function(e,t){return null!=e&&AC(e,t,EC)}(e,i):hC(r,t,3)}):1==(n=function(e){for(var t=Yw(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fC(r)]}return t}(t=e)).length&&n[0][2]?dC(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,i){var r=n.length,o=r;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){var s=(a=n[r])[0],l=e[s],u=a[1];if(a[2]){if(void 0===l&&!(s in e))return!1}else{var c=new vw;if(!hC(u,l,3,void 0,c))return!1}}return!0}(e,0,n)}:function(e){return mC(e)?(t=OC(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return IC(t,e)}}(e);var t}(e);var t,n,i,r},MC=/^\s+|\s+$/g,FC=/^[-+]0x[0-9a-f]+$/i,PC=/^0b[01]+$/i,zC=/^0o[0-7]+$/i,NC=parseInt,LC=function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(wb(e))return NaN;if(Yb(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Yb(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(MC,"");var n=PC.test(e);return n||zC.test(e)?NC(e.slice(2),n?2:8):FC.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0},jC=Math.max,VC=function(e,t,n){var i=Object(e);if(!Zw(e)){var r=RC(t);e=Yw(e),t=function(e){return r(i[e],e,i)}}var o=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:LC(n);return r<0&&(r=jC(i+r,0)),Tb(e,RC(t),r)}(e,t,n);return o>-1?i[r?e[o]:o]:void 0},BC=function(e){return null==e?[]:function(e,t){return hb(t,(function(t){return e[t]}))}(e,Yw(e))},HC=Math.max,GC=function(e,t,n,i){e=Zw(e)?e:BC(e),n=n&&!i?LC(n):0;var r=e.length;return n<0&&(n=HC(r+n,0)),function(e){return"string"==typeof e||!fb(e)&&bb(e)&&"[object String]"==kb(e)}(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Ib(e,t,n)>-1},UC=(yC={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},function(e){return null==yC?void 0:yC[e]}),WC=/&(?:amp|lt|gt|quot|#39);/g,qC=RegExp(WC.source),$C=function e(){_classCallCheck(this,e)},KC=function(e){return e.groupUuuid="group-uuid",e.groupLabel="group-label",e.groupComment="group-comment",e.groupTypeName="group-type-name",e.textSelectionUuid="text-selection-uuid",e.groupColor="group-color",e.style="style",e.contenteditable="contenteditable",e.link="link",e.linkObjectUuid="link-uuid",e.linkName="link-name",e}({}),ZC=((kC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getSelection",value:function(){var e=null;return window.getSelection?e=window.getSelection():document.getSelection&&(e=document.getSelection()),e}},{key:"getTextSelection",value:function(e){if(e&&e.rangeCount&&1===e.rangeCount){var t=e.getRangeAt(0),n=t.startContainer,i=document.createElement("div");i.appendChild(t.cloneContents()),n.textContent&&i.innerHTML.indexOf("<span")>0&&i.innerHTML.trim()!==i.innerText.trim()&&t.setEnd(t.startContainer,n.textContent.length)}}},{key:"trimSpacesFromSelection",value:function(e){if(e&&e.rangeCount&&1===e.rangeCount){var t=e.getRangeAt(0),n=t.startContainer,i=t.endContainer,r=document.createElement("div");if(r.appendChild(t.cloneContents()),r.innerHTML.trim()===r.innerText.trim()&&n.isSameNode(i)){var o=r.innerHTML,a=function(e,t,n){if((e=Bb(e))&&void 0===t)return e.replace(Hb,"");if(!e||!(t=Sb(t)))return e;var i=Vb(e),r=Eb(i,Vb(t));return xb(i,r).join("")}(o);t.setStart(t.startContainer,t.startOffset+(o.length-a.length));var s=t.startOffset+function(e,t,n){if((e=Bb(e))&&void 0===t)return e.replace(Gb,"");if(!e||!(t=Sb(t)))return e;var i=Vb(e),r=Vb(t),o=Eb(i,r),a=function(e,t){for(var n=e.length;n--&&Ib(t,e[n],0)>-1;);return n}(i,r)+1;return xb(i,o,a).join("")}(o).length;t.setEnd(t.endContainer,s)}}}},{key:"setManualMarkupTextSelection",value:function(e,t){if(e&&0===e.toString().trim().length);else if(t&&e&&e.toString().trim().length>60);else if(e&&this.selectionContainsSpan(e));else if(e&&!this.isTextSelectionWithinNode(e));else{if(e&&e.toString().trim().length>0){var n=new $C;return n.selectedString=e.toString(),n.range=e.getRangeAt(0),n.selected=e,n.selected.removeAllRanges(),n}e&&e.removeAllRanges()}}},{key:"highlightSelectedGroup",value:function(e,t,n){if("SPAN"===e.nodeName&&e.hasAttribute("group-uuid")){var i=e.getAttribute("group-uuid"),r=VC(t,{groupUuid:i});r&&(n({selectedRows:[r]}),e.blur())}}},{key:"getTextSelectionMatchesFound",value:function(e,t){var n=0;if(e){for(var i=t.indexOf(e);i>-1;)this.isFoundTextInSpan(t,i,e)||++n,i=t.indexOf(e,i+1);n>0&&--n}return n}},{key:"createUUID",value:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(e[19]?3:8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}},{key:"isFoundTextInSpan",value:function(e,t,n){if("</span>"===e.substr(t-"</span>".indexOf(n),"</span>".length))return!0;var i=e.indexOf("</span>",t);if(-1===i)return!1;var r=e.indexOf("<span",t);return-1===r||r>i}},{key:"selectionContainsSpan",value:function(e){var t=!1;if(e.rangeCount){for(var n=document.createElement("div"),i=0,r=e.rangeCount;i<r;++i){var o=e.getRangeAt(i).startContainer.parentNode;o&&"SPAN"===o.nodeName&&(t=!0),n.appendChild(e.getRangeAt(i).cloneContents())}(GC(n.innerHTML,"<span")||GC(n.innerHTML,"</span>"))&&(t=!0)}return t}},{key:"isTextSelectionWithinNode",value:function(e){var t,n=!1;if(e&&e.rangeCount&&1===e.rangeCount){var i=e.getRangeAt(0),r=document.createElement("div");r.appendChild(i.cloneContents()),(t=r.innerHTML,(t=Bb(t))&&qC.test(t)?t.replace(WC,UC):t).trim()===r.innerText.trim()&&(n=!0)}return n}},{key:"replaceTextSelectionWithElement",value:function(e,t,n,i,r,o,a,s){var l=e+t.length,u=this.createTextSelectionElement(i,r,o,a,s);return u.innerText=t,[n.substring(0,e)+u.outerHTML+n.substring(l),e+u.outerHTML.length,u.getAttribute(KC.textSelectionUuid),u.textContent]}},{key:"createTextSelectionElement",value:function(e,t,n,i,r){var o=this.createUUID(),a=document.createElement("span");return a.setAttribute(KC.groupUuuid,e),a.setAttribute(KC.groupLabel,t),a.setAttribute(KC.groupComment,n),a.setAttribute(KC.groupTypeName,i),a.setAttribute(KC.textSelectionUuid,o),a.setAttribute(KC.groupColor,r),a.setAttribute(KC.style,"border-color:"+r+";cursor:pointer"),a.setAttribute(KC.contenteditable,"false"),a}}]),e}()).\u0275fac=function(e){return new(e||kC)},kC.\u0275prov=xe({token:kC,factory:kC.\u0275fac,providedIn:"root"}),kC),YC=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},QC=function(e,t){if(null==e)return e;if(!Zw(e))return function(e,t){return e&&function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[++i];if(!1===t(r[s],s,r))break}return e}(e,t,Yw)}(e,t);for(var n=e.length,i=-1,r=Object(e);++i<n&&!1!==t(r[i],i,r););return e},JC=function(e,t){return(fb(e)?YC:QC)(e,"function"==typeof(n=t)?n:DC);var n},XC=Object.prototype.hasOwnProperty,e_=function(e,t){return null!=e&&XC.call(e,t)},t_=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,o=wb(e),a=void 0!==t,s=null===t,l=t==t,u=wb(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e<t||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0},n_=function(e,t,n){var i=-1;return t=hb(t.length?t:[DC],Bw(RC)),function(e,t){var i=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=t_(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}));i--;)e[i]=e[i].value;return e}(function(e,t){var n=-1,i=Zw(e)?Array(e.length):[];return QC(e,(function(e,r,o){i[++n]=t(e)})),i}(e,(function(e,n,r){return{criteria:hb(t,(function(t){return t(e)})),index:++i,value:e}})))},i_=((wC=function(){function e(){_classCallCheck(this,e),this.concepts=["nlpPerson","nlpPlace","nlpPhone","nlpEmail"],this.personMarkers=["1Lt","1stLt","2Lt","2ndLt","Amb","BG","BGen","BrigGen","Brother","Capt","CAPT","CDR","Col","COL","CPT","Dean","Dr","Drs","ENS","Est","Gen","GEN","Gov","Hon","Judge","Justice","LCDR","LCpl","Lt","LT","LTC","LtCol","LTG","LtGen","LTJG","Maj","MAJ","MajGen","Mayor","Mdme","MG","Miss","Mr","Mrs","Ms","MSG","Msgr","MSgt","Prince","Prof","Rabbi","RADM","Rev","RT","Senator","Sir","Sister"],this.addressMarkers=["Building","Church","College","Farm","Hotel","House","Lighthouse","Mall","Manor","Monument","Museum","Office","Residence","School","Theatre","Tower","University","Zoo","Alley","Ally","Aly","Anex","Annex","Annx","Anx","Arc","Arcade","Av","Ave","Aven","Avenu","Avenue","Avn","Avnue","Bayoo","Bayou","Bch","Beach","Bend","Bnd","Blf","Bluf","Bluff","Bluffs","Bot","Btm","Bottm","Bottom","Blvd","Boul","Boulevard","Boulv","Br","Brnch","Branch","Brdge","Brg","Bridge","Brk","Brook","Brooks","Burg","Burgs","Byp","Bypa","Bypas","Bypass","Byps","Camp","Cp","Cmp","Canyn","Canyon","Cnyn","Cape","Cpe","Causeway","Causwa","Cswy","Cen","Cent","Center","Centr","Centre","Cnter","Cntr","Ctr","Centers","Cir","Circ","Circl","Circle","Crcl","Crcle","Circles","Clf","Cliff","Clfs","Cliffs","Clb","Club","Common","Commons","Cor","Corner","Corners","Cors","Course","Crse","Court","Ct","Courts","Cts","Cove","Cv","Coves","Creek","Crk","Crescent","Cres","Crsent","Crsnt","Crest","Cross","Crossing","Crssng","Xing","Crossroad","Crossroads","Curve","Dale","Dl","Dam","Dm","Div","Divide","Dv","Dvd","Dr","Driv","Drive","Drv","Drives","Est","Estate","Estates","Ests","Exp","Expr","Express","Expressway","Expw","Expy","Ext","Extension","Extn","Extnsn","Exts","Fall","Falls","Fls","Ferry","Frry","Fry","Field","Fld","Fields","Flds","Flat","Flt","Flats","Flts","Ford","Frd","Fords","Forest","Forests","Frst","Forg","Forge","Frg","Forges","Fork","Frk","Forks","Frks","Fort","Frt","Ft","Freeway","Freewy","Frway","Frwy","Fwy","Garden","Gardn","Grden","Grdn","Gardens","Gdns","Grdns","Gateway","Gatewy","Gatway","Gtway","Gtwy","Glen","Gln","Glens","Green","Grn","Greens","Grov","Grove","Grv","Groves","Harb","Harbor","Harbr","Hbr","Hrbor","Harbors","Haven","Hvn","Heights","Ht","Hts","Highway","Highwy","Hiway","Hiwy","Hway","Hwy","Hill","Hl","Hills","Hls","Hllw","Hollow","Hollows","Holw","Holws","Inlt","Is","Island","Islnd","Islands","Islnds","Iss","Isle","Isles","Jct","Jction","Jctn","Junction","Junctn","Juncton","Jctns","Jcts","Junctions","Key","Ky","Keys","Kys","Knl","Knol","Knoll","Knls","Knolls","Lk","Lake","Lks","Lakes","Land","Landing","Lndg","Lndng","Lane","Ln","Lgt","Light","Lights","Lf","Loaf","Lck","Lock","Lcks","Locks","Ldg","Ldge","Lodg","Lodge","Loop","Loops","Mall","Mnr","Manor","Manors","Mnrs","Meadow","Mdw","Mdws","Meadows","Medows","Mews","Mill","Mills","Missn","Mssn","Motorway","Mnt","Mt","Mount","Mntain","Mntn","Mountain","Mountin","Mtin","Mtn","Mntns","Mountains","Nck","Neck","Orch","Orchard","Orchrd","Oval","Ovl","Overpass","Park","Prk","Parks","Parkway","Parkwy","Pkway","Pkwy","Pky","Parkways","Pkwys","Pass","Passage","Path","Paths","Pike","Pikes","Pine","Pines","Pnes","Pl","Plain","Pln","Plains","Plns","Plaza","Plz","Plza","Point","Pt","Points","Pts","Port","Prt","Ports","Prts","Pr","Prairie","Prr","Rad","Radial","Radiel","Radl","Ramp","Ranch","Ranches","Rnch","Rnchs","Rapid","Rpd","Rapids","Rpds","Rest","Rst","Rdg","Rdge","Ridge","Rdgs","Ridges","Riv","River","Rvr","Rivr","Rd","Road","Roads","Rds","Route","Row","Rue","Run","Shl","Shoal","Shls","Shoals","Shoar","Shore","Shr","Shoars","Shores","Shrs","Skyway","Spg","Spng","Spring","Sprng","Spgs","Spngs","Springs","Sprngs","Spur","Spurs","Sq","Sqr","Sqre","Squ","Square","Sqrs","Squares","Sta","Station","Statn","Stn","Stra","Strav","Straven","Stravenue","Stravn","Strvn","Strvnue","Stream","Streme","Strm","Street","Strt","St","Str","Streets","Smt","Sumit","Sumitt","Summit","Ter","Terr","Terrace","Throughway","Trace","Traces","Trce","Track","Tracks","Trak","Trk","Trks","Trafficway","Trail","Trails","Trl","Trls","Trailer","Trlr","Trlrs","Tunel","Tunl","Tunls","Tunnel","Tunnels","Tunnl","Trnpk","Turnpike","Turnpk","Underpass","Un","Union","Unions","Valley","Vally","Vlly","Vly","Valleys","Vlys","Vdct","Via","Viadct","Viaduct","View","Vw","Views","Vws","Vill","Villag","Village","Villg","Villiage","Vlg","Villages","Vlgs","Ville","Vl","Vis","Vist","Vista","Vst","Vsta","Walk","Walks","Wall","Wy","Way","Ways","Well","Wells","Wls","Borough","City","District","Parish","Suburb","Town","Township","Village","[A-Z]{2,3} \\d{4,5}[ \\-]?\\d{4,5}","[A-Z]{1,2}\\d{1,2} ?\\d[A-Z]{2}"],this.upperRanges=["A-Z","\xc0-\xd6","\xd8-\xde"],this.lowerRanges=["a-z","\xdf-\xf6","\xf8-\xff"],this.word=this.lowerRanges.join("")+this.upperRanges.join(""),this.wordUpper=this.upperRanges.join(""),this.email=new RegExp("\\b([0-9"+this.word+"][0-9"+this.word+"._-]*@[0-9"+this.word+"][0-9"+this.word+"._\\-]*["+this.word+"])\\b","g"),this.phone=new RegExp("[\\b+]?(?:(?:\\d{1,5}|\\(\\d{1,5}\\))[ \\-]*\\d{1,3}){2,3}\\d\\b","g"),this.person=new RegExp("\\b(?:"+this.personMarkers.join("|")+")\\b\\s*\\.?(?:\\s*["+this.wordUpper+"]["+this.word+"\\-]*)+","g"),this.personClean=new RegExp("\\b(?:"+this.personMarkers.join("|")+")\\b\\s*\\.?s*","g"),this.address=new RegExp("(?:[0-9"+this.wordUpper+"][0-9"+this.word+"\\-]*[,\\s]+)+\\b(?:"+this.addressMarkers.join("|")+")\\b(?:[,\\s]+[0-9"+this.wordUpper+"][0-9"+this.word+"\\-]*)*","g")}return _createClass(e,[{key:"getRedaction",value:function(e){var t=[];return e=e.replace(/\n/g," . "),this.addTextGroupings("nlpPerson",this.findPerson(e),t),this.addTextGroupings("nlpPlace",this.findAddress(e),t),this.addTextGroupings("nlpEmail",this.findEmail(e),t),this.addTextGroupings("nlpPhone",this.findPhone(e),t),t}},{key:"getRedactionConcepts",value:function(){return this.concepts}},{key:"addTextGroupings",value:function(e,t,n){return Array.from(new Set(t)).forEach((function(t){n.push({text:t,group:e})}))}},{key:"getSupportedConcepts",value:function(){return this.concepts}},{key:"getSuggestedMappings",value:function(e,t){return"person"===t?this.personMappings(e[0]):"telecoms"===t?this.telecomMappings(e[0]):"location"===t?this.locationMappings(e[0]):[]}},{key:"findEmail",value:function(e){var t;return null!==(t=e.match(this.email))&&void 0!==t?t:[]}},{key:"findPhone",value:function(e){var t;return null!==(t=e.match(this.phone))&&void 0!==t?t:[]}},{key:"findPerson",value:function(e){var t,n=this,i=[];return null===(t=e.match(this.person))||void 0===t||t.forEach((function(e){i.push(e);var t,r=e.match(n.personClean);(null==r?void 0:r.length)&&(t=r[0].trim());var o=e.replace(n.personClean,"");i.push(o),o.split(/\s+/).forEach((function(e){t&&i.push(t+" "+e),i.push(e)}))})),i}},{key:"findAddress",value:function(e){var t,n=[];return null===(t=e.match(this.address))||void 0===t||t.forEach((function(e){n.push(e),n.push.apply(n,_toConsumableArray(e.split(/\s*,\s*/g)))})),n}},{key:"locationMappings",value:function(e){var t=[];e=e.replace(/^(\d+)\s*/,(function(e,n){return t.push(n),""}));var n=[];return 4===(t=t.concat(e.split(",").filter((function(e){return e.length>0&&e.trim()})))).length?(n.push({label:"Building or house number",field:"building_number",value:t[0]}),n.push({label:"Street",field:"street",value:t[1]}),n.push({label:"Town or city",field:"town",value:t[2]}),n.push({label:"Postcode/ZIP",field:"postcode_zip",value:t[3]})):3===t.length?(n.push({label:"Building or house number",field:"building_number",value:t[0]}),n.push({label:"Street",field:"street",value:t[1]}),n.push({label:"Town or City",field:"town",value:t[2]})):2===t.length?(n.push({label:"Street",field:"street",value:t[0]}),n.push({label:"Town or City",field:"town",value:t[1]})):n.push({label:"Street",field:"street",value:t[0]}),n}},{key:"personMappings",value:function(e){var t=e.split(" ").filter((function(e){return e.length>0})),n=[];if(3===t.length){var i=t[0].replace(/[^\w]/g,"");n.push({label:"Title",field:"title",value:i,isReference:!0}),n.push({label:"First name",field:"first_name",value:t[1]}),n.push({label:"Last Name",field:"last_name",value:t[2]})}else 2===t.length?(n.push({label:"First name",field:"first_name",value:t[0]}),n.push({label:"Last Name",field:"last_name",value:t[1]})):n.push({label:"First name",field:"first_name",value:t[0]});return n}},{key:"telecomMappings",value:function(e){var t=[{label:"Detail",field:"detail",value:e}];return e.match(this.email)?t.push({label:"Type",field:"telecoms_type",value:"E-mail Address"}):e.match(this.phone)&&t.push({label:"Type",field:"telecoms_type",value:"Landline"}),t}}]),e}()).\u0275fac=function(e){return new(e||wC)},wC.\u0275prov=xe({token:wC,factory:wC.\u0275fac,providedIn:"root"}),wC),r_=((bC=function(){function e(t,n){_classCallCheck(this,e),this.markupCommonService=t,this.regexMarkupService=n}return _createClass(e,[{key:"getGroups",value:function(e){var t=$("<div>"+e+"</div>").find("span"),n=[],i={};return JC(t,(function(e){if(e&&!e.getAttribute("redacted")){n.push({groupUuid:e.getAttribute(KC.groupUuuid),textSelectionUuid:e.getAttribute(KC.textSelectionUuid),selectedText:e.textContent});var t=e.getAttribute(KC.groupUuuid);t&&(function(e,t){return null!=e&&AC(e,t,e_)}(i,t)||(i[t]={groupUuid:e.getAttribute(KC.groupUuuid),groupColor:e.getAttribute(KC.groupColor),groupLabel:e.getAttribute(KC.groupLabel),groupComment:e.getAttribute(KC.groupComment),groupTypeName:e.getAttribute(KC.groupTypeName),textSelections:[]}))}})),JC(n,(function(e){e.groupUuid&&i[e.groupUuid].textSelections.push(e)})),BC(i)}},{key:"manualRedactText",value:function(e,t,n){var i=this.markupCommonService.getSelection();if(this.markupCommonService.getTextSelection(i),this.markupCommonService.trimSpacesFromSelection(i),i&&i.anchorOffset!==i.focusOffset){var r=this.markupCommonService.setManualMarkupTextSelection(i,!1);if(r)return this.checkMultipleMatchesAndMarkup(r,t,e,n)}}},{key:"automaticRedactText",value:function(e,t){var n,i,r,o=this,a="<div>"+e.replace(/(<\/?div>|<\/?p>|<br>)/g,"$1\n")+"</div>",s=$(a).text();return[(n=this.regexMarkupService.getRedaction(s),i=function(e){return e.text.length},r="desc",null==n?[]:(fb(i)||(i=null==i?[]:[i]),fb(r=r)||(r=null==r?[]:[r]),n_(n,i,r))).reduce((function(n,i){if(i.text){var r,a=o.markupCommonService.createUUID(),s=VC(t,{name:i.group});if(r=o.markupMultipleTextSelections(e,a,i.text,s?s.label:"",i.group,"#000000",i.text))return e=r.updatedRedactionText,n.push(r.group),n}return n}),[]),e]}},{key:"redactSpans",value:function(e,t,n){var i=this;return e.nativeElement.querySelectorAll("span[text-selection-uuid]").forEach((function(e){if(e.setAttribute("style","background-color: black; color: white"),e.setAttribute("class","redacted-text"),e.removeAttribute("group-label"),e.removeAttribute("group-type-name"),!e.getAttribute("redacted")&&(e.innerHTML=t?"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;":e.innerHTML.replace(/\S|\s/g,"&nbsp;&nbsp;"),n)){var r=e.getAttribute("group-comment");r&&(e.innerHTML=r.length>i.patternCounter(e.innerHTML,/&nbsp;&nbsp;/g)?r:r+e.innerHTML.substring(12*r.length),e.removeAttribute("group-comment"))}e.setAttribute("redacted","true")})),e.nativeElement.innerHTML}},{key:"removeRedactGroup",value:function(e,t,n,i){if("SPAN"===e.nodeName&&e.hasAttribute("group-uuid")&&!e.hasAttribute("redacted")){var r=e.getAttribute("group-uuid"),o=document.createElement("div");o.innerHTML=t;var a=o.querySelectorAll("span[group-uuid='"+r+"']");$(a).contents().unwrap();var s=this.markupCommonService.getSelection();return s&&s.removeAllRanges(),{redactionGroups:n.filter((function(e){return e.groupUuid!==r})),clearSelectedGroup:r===i,redactionText:o.innerHTML}}return{redactionGroups:n,clearSelectedGroup:!1,redactionText:t}}},{key:"removeRedactionGroup",value:function(e,t,n){var i=document.createElement("div");i.innerHTML=t;var r=i.querySelectorAll("span[group-uuid='"+e.groupUuid+"']");return $(r).contents().unwrap(),{redactionGroups:n.filter((function(t){return t.groupUuid!==e.groupUuid})),redactionText:i.innerHTML}}},{key:"highlightText",value:function(e,t,n,i,r,o,a){return this.markupCommonService.highlightSelectedGroup(t,n,i),e?this.manualRedactText(r,o,a):void 0}},{key:"highlightSelectedGroup",value:function(e,t){var n=e.nativeElement.querySelectorAll("span.selected-span");$(n).removeClass("selected-span");var i=e.nativeElement.querySelectorAll("span[group-uuid='"+t.groupUuid+"']");$(i).addClass("selected-span")}},{key:"updateSelectedGroupComment",value:function(e,t,n){if(e.groupComment!==t){e.groupComment=t;var i=n.nativeElement.querySelectorAll("span[group-uuid='"+e.groupUuid+"']");$(i).attr(KC.groupComment,t)}}},{key:"patternCounter",value:function(e,t){return((e||"").match(t)||[]).length}},{key:"checkMultipleMatchesAndMarkup",value:function(e,t,n,i){var r=this.markupCommonService.getTextSelectionMatchesFound(e.selectedString,n);return r>0?void i(r,e):this.markUpText(n,e,t,e.selectedString)}},{key:"markUpText",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"black",s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";if(s){var c=n.nativeElement.querySelectorAll("span[group-uuid='"+s+"']");$(c).attr("group-label",i).attr("group-comment",l).attr("group-type-name",u)}else s=this.markupCommonService.createUUID();if(r&&t){var h=this.markupMultipleTextSelections(e,s,i,l,u,a,t.selectedString,o);return h?[h.group,h.updatedRedactionText]:void 0}if(t){var f=this.markupCommonService.createTextSelectionElement(s,i,l,u,a);return t.range.surroundContents(f),[{groupUuid:s,groupLabel:i,groupComment:l,groupTypeName:u,groupColor:a,textSelections:[{groupUuid:s,textSelectionUuid:f.getAttribute(KC.textSelectionUuid),selectedText:f.textContent}]},e]}}},{key:"markupMultipleTextSelections",value:function(e,t,n,i,r,o,a,s){for(var l=e.indexOf(a),u=0,c=[];l>-1;){if(!s&&!this.markupCommonService.isFoundTextInSpan(e,l,a)||s&&u<s.length&&s[u].redact&&!this.markupCommonService.isFoundTextInSpan(e,l,a)){var h=_slicedToArray(this.markupCommonService.replaceTextSelectionWithElement(l,a,e,t,n,i,r,o),4),f=h[0],d=h[1],p=h[2],v=h[3];e=f,l=d,c.push({groupUuid:t,textSelectionUuid:p,selectedText:v})}this.markupCommonService.isFoundTextInSpan(e,l,a)||u++,l=e.indexOf(a,l+1)}return c.length>0?{group:{groupUuid:t,groupLabel:n,groupComment:i,groupTypeName:r,groupColor:o,textSelections:c},updatedRedactionText:e}:void 0}}]),e}()).\u0275fac=function(e){return new(e||bC)(ct(ZC),ct(i_))},bC.\u0275prov=xe({token:bC,factory:bC.\u0275fac,providedIn:"root"}),bC);function o_(e,t){return new M((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,a=0,s=function(s){var l=te(e[s]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),r[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(a===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)s(l);else n.complete()}))}var a_,s_,l_,u_,c_=new tt("NgValueAccessor"),h_={provide:c_,useExisting:je((function(){return f_})),multi:!0},f_=((a_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||a_)(Ga(ll),Ga(rl))},a_.\u0275dir=zt({type:a_,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&is("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[el([h_])]}),a_),d_={provide:c_,useExisting:je((function(){return v_})),multi:!0},p_=new tt("CompositionEventMode"),v_=((u_=function(){function e(t,n,i){var r;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Ac()?Ac().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||u_)(Ga(ll),Ga(rl),Ga(p_,8))},u_.\u0275dir=zt({type:u_,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&is("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[el([d_])]}),u_),m_=((l_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||l_)},l_.\u0275dir=zt({type:l_}),l_),g_=((s_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(m_)).\u0275fac=function(e){return y_(e||s_)},s_.\u0275dir=zt({type:s_,features:[Ls]}),s_),y_=wi(g_);function k_(){throw new Error("unimplemented")}var b_,w_,C_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return k_()}},{key:"asyncValidator",get:function(){return k_()}}]),n}(m_),__=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),S_=((w_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(__)).\u0275fac=function(e){return new(e||w_)(Ga(C_,2))},w_.\u0275dir=zt({type:w_,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ys("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ls]}),w_),x_=((b_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(__)).\u0275fac=function(e){return new(e||b_)(Ga(g_,2))},b_.\u0275dir=zt({type:b_,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&ys("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ls]}),b_);function T_(e){return null==e||0===e.length}var O_=new tt("NgValidators"),I_=new tt("NgAsyncValidators"),E_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(T_(t.value)||T_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(T_(t.value)||T_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return T_(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return T_(e.value)||E_.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(T_(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(T_(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(D_);return 0==t.length?null:function(e){return M_(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(D_);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(y(i))return o_(i,null);if(k(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return o_(r.map((function(e){return i[e]})),r)}}if("function"==typeof t[t.length-1]){var o=t.pop();return o_(t=1===t.length&&y(t[0])?t[0]:t,null).pipe(Q((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return o_(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(R_)).pipe(Q(M_))}}}]),e}();function D_(e){return null!=e}function R_(e){var t=ts(e)?te(e):e;if(!ns(t))throw new Error("Expected validator to return Promise or Observable.");return t}function M_(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function F_(e){return e.validate?function(t){return e.validate(t)}:e}function P_(e){return e.validate?function(t){return e.validate(t)}:e}var z_,N_,L_,j_,V_,B_,H_={provide:c_,useExisting:je((function(){return G_})),multi:!0},G_=((z_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||z_)(Ga(ll),Ga(rl))},z_.\u0275dir=zt({type:z_,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&is("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[el([H_])]}),z_),U_={provide:c_,useExisting:je((function(){return q_})),multi:!0},W_=((L_=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||L_)},L_.\u0275prov=xe({token:L_,factory:L_.\u0275fac}),L_),q_=((N_=function(){function e(t,n,i,r){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(C_),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||N_)(Ga(ll),Ga(rl),Ga(W_),Ga(wa))},N_.\u0275dir=zt({type:N_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&is("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[el([U_])]}),N_),$_={provide:c_,useExisting:je((function(){return K_})),multi:!0},K_=((j_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||j_)(Ga(ll),Ga(rl))},j_.\u0275dir=zt({type:j_,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&is("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[el([$_])]}),j_),Z_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Y_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Q_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',J_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Z_)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Y_,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Q_))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Z_)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Y_)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),X_={provide:c_,useExisting:je((function(){return eS})),multi:!0},eS=((V_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Ea}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||V_)(Ga(ll),Ga(rl))},V_.\u0275dir=zt({type:V_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&is("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[el([X_])]}),V_),tS={provide:c_,useExisting:je((function(){return nS})),multi:!0},nS=((B_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Ea}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=t._getOptionValue(a.value);i.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||B_)(Ga(ll),Ga(rl))},B_.\u0275dir=zt({type:B_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&is("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[el([tS])]}),B_);function iS(e,t){return[].concat(_toConsumableArray(t.path),[e])}function rS(e,t){e||aS(t,"Cannot find control with"),t.valueAccessor||aS(t,"No value accessor for form control with"),e.validator=A_.compose([e.validator,t.validator]),e.asyncValidator=A_.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&oS(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&oS(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function oS(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function aS(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function sS(e){return null!=e?A_.compose(e.map(F_)):null}function lS(e){return null!=e?A_.composeAsync(e.map(P_)):null}function uS(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Ea(t,n.currentValue)}var cS=[f_,K_,G_,eS,nS,q_];function hS(e,t){if(!t)return null;Array.isArray(t)||aS(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var o;t.constructor===v_?n=t:(o=t,cS.some((function(e){return o.constructor===e}))?(i&&aS(e,"More than one built-in value accessor matches form control with"),i=t):(r&&aS(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(aS(e,"No valid value accessor for form control with"),null)}function fS(e){var t=pS(e)?e.validators:e;return Array.isArray(t)?sS(t):t||null}function dS(e,t){var n=pS(t)?t.asyncValidators:e;return Array.isArray(n)?lS(n):n||null}function pS(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var vS,mS,gS,yS,kS,bS,wS,CS,_S,SS,xS,TS,OS=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=fS(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=dS(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=R_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof ES?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof AS&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new lu,this.statusChanges=new lu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){pS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),IS=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,fS(r),dS(o,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(OS),ES=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,fS(i),dS(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof IS?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,r){n=n||t.contains(r)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(OS),AS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,fS(i),dS(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof IS?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(OS),DS={provide:g_,useExisting:je((function(){return MS}))},RS=Promise.resolve(null),MS=((mS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new lu,r.form=new ES({},sS(e),lS(i)),r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;RS.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),rS(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;RS.then((function(){var n,i,r,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,i=e,(r=n.indexOf(i))>-1&&n.splice(r,1)}))}},{key:"addFormGroup",value:function(e){var t=this;RS.then((function(){var n=t._findContainer(e.path),i=new ES({});(function(e,t){null==e&&aS(t,"Cannot find control with"),e.validator=A_.compose([e.validator,t.validator]),e.asyncValidator=A_.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;RS.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;RS.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(g_)).\u0275fac=function(e){return new(e||mS)(Ga(O_,10),Ga(I_,10))},mS.\u0275dir=zt({type:mS,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&is("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[el([DS]),Ls]}),mS),FS=((vS=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return iS(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return sS(this._validators)}},{key:"asyncValidator",get:function(){return lS(this._asyncValidators)}}]),n}(g_)).\u0275fac=function(e){return PS(e||vS)},vS.\u0275dir=zt({type:vS,features:[Ls]}),vS),PS=wi(FS),zS=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Z_,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Y_,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Q_))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Y_,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Q_))}}]),e}(),NS={provide:g_,useExisting:je((function(){return LS}))},LS=((gS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof MS||zS.modelGroupParentException()}}]),n}(FS)).\u0275fac=function(e){return new(e||gS)(Ga(g_,5),Ga(O_,10),Ga(I_,10))},gS.\u0275dir=zt({type:gS,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[el([NS]),Ls]}),gS),jS={provide:C_,useExisting:je((function(){return BS}))},VS=Promise.resolve(null),BS=((kS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new IS,a._registered=!1,a.update=new lu,a._parent=e,a._rawValidators=i||[],a._rawAsyncValidators=r||[],a.valueAccessor=hS(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),uS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){rS(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof LS)&&this._parent instanceof FS?zS.formGroupNameException():this._parent instanceof LS||this._parent instanceof MS||zS.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||zS.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;VS.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;VS.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?iS(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return sS(this._rawValidators)}},{key:"asyncValidator",get:function(){return lS(this._rawAsyncValidators)}}]),n}(C_)).\u0275fac=function(e){return new(e||kS)(Ga(g_,9),Ga(O_,10),Ga(I_,10),Ga(c_,10))},kS.\u0275dir=zt({type:kS,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[el([jS]),Ls,Us]}),kS),HS=((yS=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||yS)},yS.\u0275dir=zt({type:yS,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),yS),GS=new tt("NgModelWithFormControlWarning"),US={provide:C_,useExisting:je((function(){return WS}))},WS=((TS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this))._ngModelWarningConfig=o,a.update=new lu,a._ngModelWarningSent=!1,a._rawValidators=e||[],a._rawAsyncValidators=i||[],a.valueAccessor=hS(_assertThisInitialized(a),r),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t,i;this._isControlChanged(e)&&(rS(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),uS(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Ni()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(J_.ngModelWarning("formControl"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){J_.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return sS(this._rawValidators)}},{key:"asyncValidator",get:function(){return lS(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(C_)).\u0275fac=function(e){return new(e||TS)(Ga(O_,10),Ga(I_,10),Ga(c_,10),Ga(GS,8))},TS.\u0275dir=zt({type:TS,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[el([US]),Ls,Us]}),TS._ngModelWarningSentOnce=!1,TS),qS=((xS=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:xS}),xS.\u0275inj=Oe({factory:function(e){return new(e||xS)}}),xS),$S=((SS=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,r=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new ES(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(e,t,n){return new IS(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,r=e.map((function(e){return i._createControl(e)}));return new AS(r,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof IS||e instanceof ES||e instanceof AS?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||SS)},SS.\u0275prov=xe({token:SS,factory:SS.\u0275fac}),SS),KS=((_S=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:_S}),_S.\u0275inj=Oe({factory:function(e){return new(e||_S)},providers:[W_],imports:[qS]}),_S),ZS=((CS=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:GS,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=Ft({type:CS}),CS.\u0275inj=Oe({factory:function(e){return new(e||CS)},providers:[$S,W_],imports:[qS]}),CS),YS=((wS=function(){function e(t,n){_classCallCheck(this,e),this.elementRef=t,this.renderer=n,this.propValueAccessor="textContent",this.contenteditable=!0}return _createClass(e,[{key:"callOnChange",value:function(){"function"==typeof this.onChange&&this.onChange(this.elementRef.nativeElement[this.propValueAccessor])}},{key:"callOnTouched",value:function(){"function"==typeof this.onTouched&&this.onTouched()}},{key:"writeValue",value:function(e){this.renderer.setProperty(this.elementRef.nativeElement,this.propValueAccessor,null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?(this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","true"),this.removeDisabledState=this.renderer.listen(this.elementRef.nativeElement,"keydown",this.listenerDisabledState)):this.removeDisabledState&&(this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled"),this.removeDisabledState())}},{key:"listenerDisabledState",value:function(e){e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||wS)(Ga(rl),Ga(ll))},wS.\u0275dir=zt({type:wS,selectors:[["","contenteditable",""]],hostVars:1,hostBindings:function(e,t){1&e&&is("input",(function(){return t.callOnChange()}))("blur",(function(){return t.callOnTouched()})),2&e&&ja("contenteditable",t.contenteditable)},inputs:{propValueAccessor:"propValueAccessor",contenteditable:"contenteditable"},features:[el([{provide:c_,useExisting:je((function(){return wS})),multi:!0}])]}),wS),QS=((bS=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:bS}),bS.\u0275inj=Oe({factory:function(e){return new(e||bS)}}),bS),JS=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new XS(e,this.resultSelector))}}]),e}(),XS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,n),(r=t.call(this,e)).iterators=[],r.active=0,r.resultSelector="function"==typeof i?i:null,r.values=o,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.iterators;y(e)?t.push(new tx(e)):t.push("function"==typeof e[U]?new ex(e[U]()):new nx(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){var r=e[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var o=!1,a=[],s=0;s<t;s++){var l=e[s],u=l.next();if(l.hasCompleted()&&(o=!0),u.done)return void n.complete();a.push(u.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(T),ex=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),tx=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:U,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),nx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).parent=i,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return _createClass(n,[{key:U,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return Z(this,this.observable,this,t)}}]),n}(Y);function ix(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg;return(!Cg(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=kg),new M((function(n){return n.add(t.schedule(rx,e,{subscriber:n,counter:0,period:e})),n}))}function rx(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var ox=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ax(e,this.compare,this.keySelector))}}]),e}(),ax=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(T),sx={leading:!0,trailing:!1},lx=function(){function e(t,n,i,r){_classCallCheck(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ux(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),ux=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e)).duration=i,s.scheduler=r,s.leading=o,s.trailing=a,s._hasTrailingValue=!1,s._trailingValue=null,s}return _createClass(n,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(cx,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),n}(T);function cx(e){e.subscriber.clearThrottle()}function hx(e,t){return t?Jf((function(){return e}),t):Jf((function(){return e}))}var fx,dx=((fx=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return gf(this.value);case"E":return e=this.error,new M((function(t){return t.error(e)}));case"C":return xf()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new fx("C"),fx.undefinedValueNotification=new fx("N",void 0),fx);function px(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg,i=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new vx(i,n))}}var vx=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new mx(e,this.delay,this.scheduler))}}]),e}(),mx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new gx(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(dx.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(dx.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(T),gx=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n},yx=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new kx(e,this.dueTime,this.scheduler))}}]),e}(),kx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(bx,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(T);function bx(e){e.debouncedNext()}var wx=function(){function e(t,n){_classCallCheck(this,e),this.bufferSize=t,this.startBufferEvery=n,this.subscriberClass=n&&t!==n?_x:Cx}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}]),e}(),Cx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).bufferSize=i,r.buffer=[],r}return _createClass(n,[{key:"_next",value:function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}},{key:"_complete",value:function(){var e=this.buffer;e.length>0&&this.destination.next(e),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(T),_x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).bufferSize=i,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(e),a.length===t&&(i.splice(o,1),this.destination.next(a))}}},{key:"_complete",value:function(){for(var e=this.buffers,t=this.destination;e.length>0;){var i=e.shift();i.length>0&&t.next(i)}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(T),Sx=function(e){return null!=e},xx=function(e){return null==e},Tx=function(e){return Sx(e.filters)},Ox=function(e,t,n){return function(i){return e(i)?t(i):n(i)}},Ix=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},Ex={},Ax=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;Ex[void 0]=function(e){return e};var Dx=function(e,t){var n=e+t;if(Ex[n])return Ex[n];var i=[];return e.replace(Ax,(function(e,t,n,r){i.push(Sx(t)?t:n||r)})),Ex[n]=function(e){for(var n=e,r=0;r<i.length;r++)if(n=n[i[r]],!Sx(n)&&t)return n;return n},Ex[n]},Rx=function(e){return function(t){return[e,t]}},Mx=function(){return null},Fx=function(e){return function(t){return Sx(e(t))}},Px=function(e){return function(t){return function(e){return Sx(e)&&function(e){return Array.isArray(e)}(e)&&e.length>0}(e(t))}},zx=function(e,t){return Ox(e,t,Mx)},Nx=function(e,t){return function(n){return e(n).map(t).join("~")}},Lx=Ix.apply(void 0,_toConsumableArray([['"',""],[":","-"]].map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return function(e){return e.replace(new RegExp(n,"g"),i)}})))),jx=function(e){var t=e.field,n=e.dir,i=void 0===n?"asc":n;return"".concat(t,"-").concat(i)},Vx=Dx("take"),Bx=Dx("aggregates"),Hx=Dx("skip"),Gx=Dx("group"),Ux=Dx("sort",!0),Wx=Nx(Ux,jx),qx=Nx(Gx,jx),$x=Nx(Bx,(function(e){var t=e.field,n=e.aggregate;return"".concat(t,"-").concat(n)})),Kx=Ix((function(e){return"datetime'".concat(e,"'")}),(function(e){return e.slice(0,e.indexOf("."))}),Lx,JSON.stringify,(function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))})),Zx=Ix(Rx("page"),(function(e){var t=e.skip,n=e.take;return Math.floor((t||0)/n)+1})),Yx=Ix(Rx("pageSize"),Vx),Qx=Ix(Rx("group"),qx),Jx=Ix(Rx("sort"),Wx),Xx=Ix(Rx("aggregate"),$x),eT=(zx(Fx(Hx),Zx),zx(Fx(Vx),Yx),zx(Px(Gx),Qx),zx(Fx(Bx),Xx),Ix(zx(Px(Ux),Jx),(function(e){return Object.assign({},e,{sort:(Ux(e)||[]).filter((function(e){var t,n=e.dir;return!(xx(t=n)||0===t.trim().length)}))})})),function(e){var t=e.field,n=e.operator,i=e.value;return"".concat(t,"~").concat(n,"~").concat(i)}),tT=(Ox((function(e){return(t=e.value)&&t.getTime;var t}),Ix(eT,(function(e){var t=e.field,n=e.value,i=e.ignoreCase,r=e.operator;return{value:Kx(n),field:t,ignoreCase:i,operator:r}})),eT),function(e,t,n){return t[e]=n,t}),nT=function(e){return function(t){var n,i=t[e];return Sx(i)?i:t[(n=e,n.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},iT=(nT("Member"),nT("AggregateMethodName"),nT("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),rT=iT((function(e,t,n){return tT(n.toLowerCase(),t,e[n])})),oT=iT((function(e,t,n){return tT(n,t,rT(e[n]))})),aT=function(e,t){return Sx(e)?e:t},sT=Ix((function(e){var t=e.field,n=e.hasSubgroups,i=e.value,r=e.aggregates,o=e.items;return{aggregates:oT(r),field:t,items:n?o.map(sT):o,value:i}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:aT(e.Key,aT(e.key,e.value))}})),lT=function(e,t){return xx(e)?e===t?0:-1:xx(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},uT=function(e,t){return lT(t,e)},cT=function(e){var t=Dx(e.field,!0);return function(n,i){return("asc"===e.dir?lT:uT)(t(n),t(i))}},hT=function(e,t){return 0},fT=function(e){return function(t){return function(n,i,r){return t(n,e(i,r))}}},dT=(fT((function(e){return e})),fT((function(e){return e})),function(e,t,n,i){if(!(n-t<2)){var r=t+n>>>1;dT(e,t,r,i),dT(e,r,n,i),function(e,t,n,i,r){for(var o=n-t,a=i-n,s=[],l=0;l<o;l++)s.push(e[t+l]);var u=0,c=n,h=t;do{r(e[c],s[u])<0?(e[h++]=e[c++],a--):(e[h++]=s[u++],o--)}while(a>0&&o>0);for(;o;)e[h++]=s[u++],o--;for(;a;)e[h++]=e[c++],a--}(e,t,r,n,i)}}),pT=function(e,t){if(t.some((function(e){return Sx(e.dir)}))){e=e.slice(0);var n=function(e){return e.filter((function(e){return Sx(e.dir)})).map((function(e){return cT(e)})).reduce((function(e,t){return function(n,i){return e(n,i)||t(n,i)}}),hT)}(t);dT(e,0,e.length,n)}return e},vT=function(){return"undefined"!=typeof window},mT={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},gT={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},yT={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},kT={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},bT=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},wT=vT()&&window.navigator?window.navigator.userAgent:null,CT=wT?function(e){var t=null,n=[];for(var i in yT)if(yT.hasOwnProperty(i)&&(n=e.match(yT[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(wT):null,_T=wT?function(e){var t,n=[];for(var i in mT)if(mT.hasOwnProperty(i)){if(!(n=e.match(mT[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=bT(e,kT,"default"),r.name=bT(i,gT),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3]?n[3].replace("_","."):".0",t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(wT):null,ST=vT()&&"ontouchstart"in window,xT=CT&&!CT.chrome&&window.MSPointerEvent,TT=CT&&!CT.chrome&&window.PointerEvent,OT=_T&&(ST||xT||TT),IT=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,ET={undefined:function(e){return e}};function AT(e){return function(t){return t.lift(new DT(e))}}var DT=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new RT(e,this.predicate))}}]),e}(),RT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).predicate=i,r.skipping=!0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(T),MT=["input"],FT=["content"],PT=["list"];function zT(e,t){}var NT=function(e,t){return{templateRef:e,$implicit:t}};function LT(e,t){if(1&e&&Ba(0,zT,0,0,"ng-template",9),2&e){var n=as(2);qa("templateContext",Xl(1,NT,n.fixedGroupTemplate.templateRef,n.currentGroup))}}function jT(e,t){if(1&e&&(Ka(0,"strong"),Ds(1),Za()),2&e){var n=as(2);Dr(1),Rs(n.currentGroup)}}var VT=function(e){return{"k-virtual-item":e}},BT=function(e,t,n){return{"height.px":e,"minHeight.px":t,boxSizing:n}};function HT(e,t){if(1&e&&(Ka(0,"div",7),Ba(1,LT,1,4,void 0,5),Ba(2,jT,2,1,"ng-template",8),Za()),2&e){var n=as();qa("ngClass",Jl(4,VT,n.virtual))("ngStyle",eu(6,BT,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit")),Dr(1),qa("ngIf",n.fixedGroupTemplate),Dr(1),qa("ngIf",!n.fixedGroupTemplate)}}function GT(e,t){}function UT(e,t){if(1&e&&Ba(0,GT,0,0,"ng-template",9),2&e){var n=as().$implicit,i=as(2);qa("templateContext",Xl(1,NT,i.template.templateRef,n))}}function WT(e,t){if(1&e&&Ds(0),2&e){var n=as().$implicit;Rs(as(2).getText(n))}}var qT=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function $T(e,t){if(1&e&&(Ka(0,"li",11),Ba(1,UT,1,4,void 0,5),Ba(2,WT,1,1,"ng-template",8),Za()),2&e){var n=t.$implicit,i=t.index,r=as(2);qa("height",null==r.virtual?null:r.virtual.itemHeight)("index",i+r.startFrom)("multipleSelection",r.multipleSelection)("ngClass",Xl(8,qT,r.virtual,r.isDisabled(i))),ja("id",r.optionPrefix+"-"+r.getValue(n))("tabIndex",-1),Dr(1),qa("ngIf",r.template),Dr(1),qa("ngIf",!r.template)}}function KT(e,t){1&e&&Ba(0,$T,3,11,"ng-template",10),2&e&&qa("ngForOf",as().data)}function ZT(e,t){}function YT(e,t){if(1&e&&Ba(0,ZT,0,0,"ng-template",9),2&e){var n=as(2).$implicit,i=as(2);qa("templateContext",Xl(1,NT,i.groupTemplate.templateRef,n.value))}}function QT(e,t){if(1&e&&(Ka(0,"strong"),Ds(1),Za()),2&e){var n=as(2).$implicit;Dr(1),Ms(" ",n.value,"")}}function JT(e,t){if(1&e&&(Ka(0,"li",14),Ba(1,YT,1,4,void 0,5),Ba(2,QT,2,1,"ng-template",8),Za()),2&e){var n=as().$implicit,i=as(2);qa("ngClass",Jl(7,VT,i.virtual))("ngStyle",eu(9,BT,null==i.virtual?null:i.virtual.itemHeight,null==i.virtual?null:i.virtual.itemHeight,i.virtual?"border-box":"inherit")),ja("group-index",n.index)("id",i.optionPrefix+"-"+i.getValue(n.value))("tabIndex",-1),Dr(1),qa("ngIf",i.groupTemplate),Dr(1),qa("ngIf",!i.groupTemplate)}}function XT(e,t){}function eO(e,t){if(1&e&&Ba(0,XT,0,0,"ng-template",9),2&e){var n=as(2).$implicit,i=as(2);qa("templateContext",Xl(1,NT,i.template.templateRef,n.value))}}function tO(e,t){if(1&e&&Ds(0),2&e){var n=as(2).$implicit;Rs(as(2).getText(n.value))}}function nO(e,t){if(1&e&&(Ka(0,"li",11),Ba(1,eO,1,4,void 0,5),Ba(2,tO,1,1,"ng-template",8),Za()),2&e){var n=as().$implicit,i=as(2);qa("height",null==i.virtual?null:i.virtual.itemHeight)("index",n.offsetIndex)("multipleSelection",i.multipleSelection)("ngClass",Xl(9,qT,i.virtual,i.isDisabled(n.offsetIndex))),ja("absolute-index",n.index)("id",i.optionPrefix+"-"+i.getValue(n.value))("tabIndex",-1),Dr(1),qa("ngIf",i.template),Dr(1),qa("ngIf",!i.template)}}function iO(e,t){if(1&e&&(Ba(0,JT,3,13,"li",12),Ba(1,nO,3,12,"li",13)),2&e){var n=t.$implicit;qa("ngIf",n.header&&n.index>0),Dr(1),qa("ngIf",!n.header)}}function rO(e,t){1&e&&Ba(0,iO,2,2,"ng-template",10),2&e&&qa("ngForOf",as().data)}function oO(e,t){if(1&e&&(Ka(0,"div",15),Ya(1,"div"),Za()),2&e){var n=as();Dr(1),gs("height",n.scrollHeight,"px")}}var aO=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},sO=function(e){return{"k-virtual-list":e}},lO=["container"],uO=["popupTemplate"],cO=["optionsList"],hO=["noDataText",$localize(_templateObject2()),"clearTitle",$localize(_templateObject3())];function fO(e,t){if(1&e){var n=es();Ka(0,"span",8),is("click",(function(e){return pn(n),as().clearValue(e)}))("mousedown",(function(e){return pn(n),e.preventDefault()})),Za()}2&e&&ja("title",as().clearTitle)}function dO(e,t){1&e&&Ya(0,"span",9)}function pO(e,t){}var vO=function(e){return{templateRef:e}};function mO(e,t){if(1&e&&Ba(0,pO,0,0,"ng-template",14),2&e){var n=as(2);qa("templateContext",Jl(1,vO,n.headerTemplate.templateRef))}}function gO(e,t){}function yO(e,t){if(1&e&&(Ka(0,"div"),Ds(1),Za()),2&e){var n=as(3);Dr(1),Rs(n.noDataText)}}function kO(e,t){if(1&e&&(Ka(0,"div",15),Ba(1,gO,0,0,"ng-template",16),Ba(2,yO,2,1,"ng-template",6),Za()),2&e){var n=as(2);Dr(1),qa("ngIf",n.noDataTemplate)("templateContext",Jl(3,vO,null==n.noDataTemplate?null:n.noDataTemplate.templateRef)),Dr(1),qa("ngIf",!n.noDataTemplate)}}function bO(e,t){}function wO(e,t){if(1&e&&Ba(0,bO,0,0,"ng-template",14),2&e){var n=as(2);qa("templateContext",Jl(1,vO,n.footerTemplate.templateRef))}}function CO(e,t){if(1&e){var n=es();Ba(0,mO,1,3,void 0,10),Ka(1,"kendo-list",11,12),is("pageChange",(function(e){return pn(n),as().pageChange(e)})),Za(),Ba(3,kO,3,5,"div",13),Ba(4,wO,1,3,void 0,10)}if(2&e){var i=as();qa("ngIf",i.headerTemplate),Dr(1),qa("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.valueField)("valueField",i.valueField)("template",i.template)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("virtual",i.virtual),Dr(2),qa("ngIf",0===i.data.length),Dr(1),qa("ngIf",i.footerTemplate)}}function _O(e,t){if(1&e){var n=es();Ka(0,"kendo-resize-sensor",17),is("resize",(function(){return pn(n),as().onResize()})),Za()}}$localize(_templateObject4()),$localize(_templateObject5());var SO=["wrapper"],xO=["noDataText",$localize(_templateObject6())];function TO(e,t){}function OO(e,t){if(1&e&&Ba(0,TO,0,0,"ng-template",10),2&e){var n=as();qa("templateContext",Xl(1,NT,n.valueTemplate.templateRef,n.dataItem))}}function IO(e,t){1&e&&Ds(0),2&e&&Rs(as().getText())}function EO(e,t){if(1&e){var n=es();Ka(0,"span",14),is("click",(function(e){return pn(n),e.stopImmediatePropagation()})),Ka(1,"input",15),is("ngModelChange",(function(e){return pn(n),as(2).filterText=e}))("keydown",(function(e){return pn(n),as(2).keydown(e)}))("input",(function(e){return pn(n),as(2).handleFilter(e)}))("focus",(function(){return pn(n),as(2).onFilterFocus()}))("blur",(function(){return pn(n),as(2).blurFilterInput()})),Za(),Ya(2,"span",16),Za()}if(2&e){var i=as(2);Dr(1),qa("filterInput",i.isFocused&&!i.touchEnabled)("dir",i.direction)("ngModel",i.filterText),ja("aria-owns",i.ariaOwns)("aria-activedescendant",i.ariaActivedescendant)("aria-label",i.noDataLabel)}}var AO=function(e){return{"k-state-disabled":e}};function DO(e,t){if(1&e&&(Ka(0,"div",17),Ds(1),Za()),2&e){var n=as(2);qa("ngClass",Jl(3,AO,n.isDisabledDefaultItem))("index",-1),Dr(1),Ms(" ",n.getDefaultItemText()," ")}}function RO(e,t){}function MO(e,t){if(1&e&&(Ka(0,"div",17),Ba(1,RO,0,0,"ng-template",10),Za()),2&e){var n=as(2);qa("ngClass",Jl(3,AO,n.isDisabledDefaultItem))("index",-1),Dr(1),qa("templateContext",Xl(5,NT,n.itemTemplate.templateRef,n.defaultItem))}}function FO(e,t){}function PO(e,t){if(1&e&&Ba(0,FO,0,0,"ng-template",10),2&e){var n=as(2);qa("templateContext",Jl(1,vO,n.headerTemplate.templateRef))}}function zO(e,t){}function NO(e,t){if(1&e&&(Ka(0,"div"),Ds(1),Za()),2&e){var n=as(3);Dr(1),Rs(n.noDataText)}}function LO(e,t){if(1&e&&(Ka(0,"div",18),Ba(1,zO,0,0,"ng-template",19),Ba(2,NO,2,1,"ng-template",5),Za()),2&e){var n=as(2);Dr(1),qa("ngIf",n.noDataTemplate)("templateContext",Jl(3,vO,n.noDataTemplate?n.noDataTemplate.templateRef:void 0)),Dr(1),qa("ngIf",!n.noDataTemplate)}}function jO(e,t){}function VO(e,t){if(1&e&&Ba(0,jO,0,0,"ng-template",10),2&e){var n=as(2);qa("templateContext",Jl(1,vO,n.footerTemplate.templateRef))}}function BO(e,t){if(1&e){var n=es();Ba(0,EO,3,6,"ng-template",5),Ba(1,DO,2,5,"ng-template",5),Ba(2,MO,2,8,"ng-template",5),Ba(3,PO,1,3,void 0,4),Ka(4,"kendo-list",11,12),is("pageChange",(function(e){return pn(n),as().pageChange(e)})),Za(),Ba(6,LO,3,5,"div",13),Ba(7,VO,1,3,void 0,4)}if(2&e){var i=as();qa("ngIf",i.filterable),Dr(1),qa("ngIf",i.defaultItem&&!i.itemTemplate),Dr(1),qa("ngIf",i.defaultItem&&i.itemTemplate),Dr(1),qa("ngIf",i.headerTemplate),Dr(1),qa("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.textField)("valueField",i.valueField)("template",i.itemTemplate)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("virtual",i.virtual),Dr(2),qa("ngIf",0===i.data.length),Dr(1),qa("ngIf",i.footerTemplate)}}function HO(e,t){if(1&e){var n=es();Ka(0,"kendo-resize-sensor",20),is("resize",(function(){return pn(n),as().onResize()})),Za()}}var GO=function(e,t,n){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t,"k-state-focused":n}};$localize(_templateObject7()),$localize(_templateObject8());var UO,WO,qO,$O,KO,ZO,YO,QO,JO,XO,eI,tI,nI,iI,rI,oI,aI,sI,lI,uI,cI,hI,fI,dI,pI,vI,mI,gI=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e["pause/break"]=19]="pause/break",e[e["caps lock"]=20]="caps lock",e[e.esc=27]="esc",e[e.space=32]="space",e[e["page up"]=33]="page up",e[e["page down"]=34]="page down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.insert=45]="insert",e[e.delete=46]="delete",e[e.command=91]="command",e[e["left command"]=91]="left command",e[e["right command"]=93]="right command",e[e["numpad *"]=106]="numpad *",e[e["numpad +"]=107]="numpad +",e[e["numpad -"]=109]="numpad -",e[e["numpad ."]=110]="numpad .",e[e["numpad /"]=111]="numpad /",e[e["num lock"]=144]="num lock",e[e["scroll lock"]=145]="scroll lock",e[e["my computer"]=182]="my computer",e[e["my calculator"]=183]="my calculator",e[e[";"]=186]=";",e[e["="]=187]="=",e[e[","]=188]=",",e[e["-"]=189]="-",e[e["."]=190]=".",e[e["/"]=191]="/",e[e["`"]=192]="`",e[e["["]=219]="[",e[e["\\"]=220]="\\",e[e["]"]=221]="]",e[e["'"]=222]="'",e}({}),yI=function(e){return null!=e},kI=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},bI=function(){return"undefined"!=typeof window},wI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yI(e))return n?t&&yI(e[t])?e[t]:e:t?e[t]:e},CI=function(e,t,n){if(!yI(e))return!1;var i=String(e);return n&&(i=i.toLowerCase()),0===i.indexOf(t)},_I=((YO=function(){function e(t,n){_classCallCheck(this,e),this.localization=t,this.valueChange=new lu,this.onBlur=new lu,this.onFocus=new lu,this.onClick=new lu,this.onNavigate=new lu,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;return e.direction=n?"rtl":"ltr"}))}},{key:"ngOnChanges",value:function(e){var t,n,i;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;var r=this.input.nativeElement.selectionStart,o=t.length===r;this.writeInputValue(this.suggestedText?(n=this.userInput).concat((i=this.suggestedText).substr(i.toLowerCase().indexOf(n.toLowerCase())+n.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):o?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(r,r),this._previousValue=this.userInput}}},{key:"ngOnDestroy",value:function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"writeInputValue",value:function(e){Mg()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}},{key:"setInputSelection",value:function(e,t){if(Mg()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(n){}}},{key:"handleInput",value:function(e){var t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}},{key:"handleFocus",value:function(e){this.onFocus.emit(e)}},{key:"handleBlur",value:function(e){this.onBlur.emit(e)}},{key:"handleKeydown",value:function(e){[gI.up,gI.down,gI.left,gI.right,gI.enter,gI.esc,gI.delete,gI.backspace,gI.home,gI.end].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}},{key:"focus",value:function(){Mg()&&this.input.nativeElement.focus()}},{key:"blur",value:function(){Mg()&&this.input.nativeElement.blur()}},{key:"setInputSize",value:function(){var e=function(e){return e?e.length:0},t=this.input.nativeElement,n=e(this.placeholder),i=e(this.value),r=Math.max(n,i,1);this.renderer.setAttribute(t,"size",r.toString())}},{key:"userInput",get:function(){return this._userInput},set:function(e){this._userInput=e||""}},{key:"value",get:function(){return this.input.nativeElement.value}},{key:"placeholder",set:function(e){this._placeholder=e||"",this.setInputSize()},get:function(){return this._placeholder}}]),e}()).\u0275fac=function(e){return new(e||YO)(Ga(Om),Ga(ll))},YO.\u0275cmp=At({type:YO,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var n;1&e&&bu(MT,!0),2&e&&ku(n=Tu())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&ys("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[Us],decls:2,vars:16,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","input","focus","blur","keydown"],["input",""]],template:function(e,t){1&e&&(Ka(0,"input",0,1),is("input",(function(e){return t.handleInput(e)}))("focus",(function(e){return t.handleFocus(e)}))("blur",(function(e){return t.handleBlur(e)}))("keydown",(function(e){return t.handleKeydown(e)})),Za()),2&e&&(ks("k-input"),qa("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder),ja("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},encapsulation:2}),YO),SI=((ZO=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||ZO)(Ga(Ol))},ZO.\u0275dir=zt({type:ZO,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),ZO),xI=((KO=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||KO)(Ga(Ol))},KO.\u0275dir=zt({type:KO,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),KO),TI=(($O=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||$O)(Ga(Ol))},$O.\u0275dir=zt({type:$O,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),$O),OI=((qO=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||qO)(Ga(Ol))},qO.\u0275dir=zt({type:qO,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),qO),II=((WO=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||WO)(Ga(Ol))},WO.\u0275dir=zt({type:WO,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),WO),EI=((UO=function(){function e(){_classCallCheck(this,e),this.onSelect=new lu,this.onChange=new lu,this.onFocus=new lu,this.total=0,this.selectedIndices=[]}return _createClass(e,[{key:"getTotal",value:function(){return this.total}},{key:"isSelected",value:function(e){return yI(this.selectedIndices.find((function(t){return t===e})))}},{key:"isFocused",value:function(e){return e===this.focused}},{key:"focus",value:function(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}},{key:"select",value:function(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:yI(e)}))}},{key:"add",value:function(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}},{key:"unselect",value:function(e){if(this.isSelected(e)){var t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}}},{key:"change",value:function(e){var t=yI(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}},{key:"resetSelection",value:function(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}},{key:"selected",get:function(){return this.selectedIndices.slice()}},{key:"focused",get:function(){return this.focusedIndex},set:function(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||UO)},UO.\u0275prov=xe({token:UO,factory:UO.\u0275fac}),UO),AI=((QO={})[QO.Undefined=0]="Undefined",QO[QO.Open=1]="Open",QO[QO.Close=2]="Close",QO[QO.Enter=3]="Enter",QO[QO.Tab=4]="Tab",QO[QO.Esc=5]="Esc",QO[QO.Delete=6]="Delete",QO[QO.Backspace=7]="Backspace",QO[QO.Home=8]="Home",QO[QO.End=9]="End",QO[QO.Up=10]="Up",QO[QO.Down=11]="Down",QO[QO.Left=12]="Left",QO[QO.Right=13]="Right",QO),DI=((XO=function(){function e(){_classCallCheck(this,e),this.grouped=!1,this.groupIndices=[]}return _createClass(e,[{key:"isGrouped",value:function(e){return yI(e)&&0!==e.length&&yI(e[0])&&(n=["aggregates","field","items","value"],!!yI(t=e[0])&&n.every((function(e){return t.hasOwnProperty(e)})));var t,n}},{key:"getGroupIndices",value:function(e){for(var t=[],n=0;n<=e.length-1;n++)t[n]=(t[n-1]||0)+e[n].items.length;return t}},{key:"filter",value:function(e){var t=[];if(this.isGrouped(this.data))for(var n=0;n<=this.groupIndices.length-1;n++){var i=this.data[n].items.filter(e);i&&(t=t.concat(i))}else t=this.data.filter(e);return t}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(t){return t===e};return this.grouped&&(n=function(t){return t.value===e}),this.findIndex(n,t)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;if(this.grouped){var i=this._flatData.filter((function(e){return!e.header&&e.offsetIndex>=t}));n=i.findIndex(e),n=i[n]?i[n].offsetIndex:-1}else{var r=this.data.slice(t).findIndex(e);n=-1!==r?r+t:-1}return n}},{key:"closestGroup",value:function(e){for(var t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}},{key:"find",value:function(e){var t=this.findIndex(e);return this.itemAt(t)}},{key:"flatIndex",value:function(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;var t=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));return t?t.index:-1}},{key:"itemAt",value:function(e){var t;if(0===this.itemsCount)return t;if(this.grouped){var n=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));n&&(t=n.value)}else t=this.data[e];return t}},{key:"groupAt",value:function(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(t){return t.header&&t.index===e}))}},{key:"groupField",value:function(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}},{key:"itemGroup",value:function(e){if(e&&0!==this.itemsCount&&this.isGrouped){var t=this.groupField();return t?e[t]:void 0}}},{key:"flatten",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=[];yI(t)&&r.push({header:!0,index:i+n,offsetIndex:i,value:t});for(var o=0;o<e.length;o++){var a=[];e[o].items?(a=this.flatten(e[o].items,e[o].value,n,o),n+=e[o].items.length):a.push({header:!1,index:i+n+o+1,offsetIndex:n+o,value:e[o]}),r=r.concat(a)}return r}},{key:"data",set:function(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))},get:function(){return this.grouped?this._flatData:this._data}},{key:"itemsCount",get:function(){return yI(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(e){return!e.header})):this.data).length:0}}]),e}()).\u0275fac=function(e){return new(e||XO)},XO.\u0275prov=xe({token:XO,factory:XO.\u0275fac}),XO),RI=((JO=function(){function e(t){_classCallCheck(this,e),this.dataService=t,this.itemDisabled=null}return _createClass(e,[{key:"isIndexDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.itemAt(e);if(yI(t))return this.itemDisabled({dataItem:t,index:e});if(yI(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}},{key:"isItemDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(yI(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}]),e}()).\u0275fac=function(e){return new(e||JO)(ct(DI))},JO.\u0275prov=xe({token:JO,factory:JO.\u0275fac}),JO),MI=function e(t,n){_classCallCheck(this,e),this.index=t,this.originalEvent=n},FI=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.disabledItemsService=t,this.selectionService=n,this.open=new lu,this.close=new lu,this.enter=new lu,this.tab=new lu,this.esc=new lu,this.up=new lu,this.right=new lu,this.down=new lu,this.left=new lu,this.delete=new lu,this.backspace=new lu,this.home=new lu,this.end=new lu}return _createClass(e,[{key:"process",value:function(e){var t,n=e.originalEvent.keyCode,i=e.originalEvent.altKey,r=AI.Undefined;i&&n===gI.down?r=AI.Open:i&&n===gI.up?r=AI.Close:n===gI.enter?r=AI.Enter:n===gI.esc?r=AI.Esc:n===gI.tab?r=AI.Tab:n===gI.up?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=AI.Up):n===gI.left?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=AI.Left):n===gI.down?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=AI.Down):n===gI.right?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=AI.Right):n===gI.home?(t=this.isDisabled(0)?e.current:0,r=AI.Home):n===gI.end?(t=this.isDisabled(e.max)?e.current:e.max,r=AI.End):n===gI.delete?r=AI.Delete:n===gI.backspace&&(r=AI.Backspace);var o=new MI(t,e.originalEvent);return r!==AI.Undefined&&this[AI[r].toLowerCase()].emit(o),r}},{key:"next",value:function(e){var t=e.current,n=e.start,i=e.end,r=e.step,o=yI(t)?this.clampIndex(t+r,n,i):n,a=this.firstFocusableIndex(o,n,i,r);return yI(a)?a:this.selectionService.isSelected(t)&&t>=n?t:this.firstFocusableIndex(o,n,i,-1*r)}},{key:"clampIndex",value:function(e,t,n){return!yI(e)||e<t?t:e>n?n:e}},{key:"firstFocusableIndex",value:function(e,t,n,i){for(;t<=e&&e<=n;){if(!this.isDisabled(e))return e;e+=i}}},{key:"isDisabled",value:function(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(RI),ct(EI))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),PI=((eI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||eI)(Ga(Ol))},eI.\u0275dir=zt({type:eI,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),eI),zI=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),NI=function e(){_classCallCheck(this,e)},LI=((nI=function e(t){_classCallCheck(this,e),this.element=t}).\u0275fac=function(e){return new(e||nI)(Ga(rl))},nI.\u0275dir=zt({type:nI,selectors:[["li","role","option"],["li","role","group"]]}),nI),jI=((tI=function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.dataService=t,this.wrapper=n,this.selectionService=i,this.disabledItemsService=r,this.cdr=o,this.zone=a,this.renderer=s,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new lu,this.pageChange=new lu,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=se(this.selectionService.onSelect.pipe(Q((function(e){return e.indices[0]}))),this.selectionService.onFocus).subscribe(this.scrollToItem.bind(this))}return _createClass(e,[{key:"ngOnChanges",value:function(e){Fg("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.scrollSubscription=xg(e.content.nativeElement,"scroll").pipe(Sg(100),sd(e.prefetchData.bind(e)),sd(e.findCurrentGroup.bind(e))).subscribe((function(){e.lastScrollTop=e.content.nativeElement.scrollTop}))}))}},{key:"ngAfterViewChecked",value:function(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}},{key:"ngOnDestroy",value:function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"firstVisibleItem",value:function(){var e=this.content.nativeElement,t=e.offsetParent;return document.elementFromPoint((t?t.offsetLeft:0)+e.offsetLeft+1,(t?t.offsetTop:0)+e.offsetTop+1)}},{key:"findCurrentGroup",value:function(){if(this.dataService.grouped){var e,t=this.firstVisibleItem();t?"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e))):this.currentGroup=void 0,this.cdr.detectChanges()}else this.currentGroup=void 0}},{key:"prefetchData",value:function(){if(this.virtual){var e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,n=Math.trunc(t/this.virtual.itemHeight),i=t>this.lastScrollTop,r=this.lastLoaded-this.pageSize+e>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&r&&this.changePage(n-this.pageSize+e+1)}}},{key:"changePage",value:function(e){var t=this;this.zone.run((function(){var n=t.pageSize+e;n>t.virtual.total&&(e--,n=t.virtual.total),e<0&&(e=0),t.startFrom=e,t.lastLoaded=n,t.pageChange.emit({skip:e,take:t.pageSize})}))}},{key:"index",value:function(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}},{key:"getText",value:function(e){return wI(e,this.textField)}},{key:"getValue",value:function(e){return wI(e,this.valueField)}},{key:"isDisabled",value:function(e){return this.disabledItemsService.isIndexDisabled(e)}},{key:"scrollToItem",value:function(e){var t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)this.scrollToIndex(t);else{var n=this.items.toArray();yI(n[t])&&-1!==t&&this.scroll(n[t].element)}}},{key:"scrollToIndex",value:function(e){var t=this.content.nativeElement,n=t.scrollTop,i=e*this.virtual.itemHeight,r=t.clientHeight,o=i+this.virtual.itemHeight;n>i?n=i:o>n+r&&(n=o-r),t.scrollTop=n}},{key:"scroll",value:function(e){if(e){var t=e.nativeElement,n=this.content.nativeElement,i=t.offsetTop,r=n.scrollTop,o=n.clientHeight,a=i+t.offsetHeight;r>i?r=i:a>r+o&&(r=a-o),n.scrollTop=r}}},{key:"positionItems",value:function(){var e=this;this.items.forEach((function(t,n){e.renderer.setStyle(t.element.nativeElement,"transform","translateY(".concat((n+e.startFrom)*e.virtual.itemHeight,"px"))}))}},{key:"firstGroupHeaderInTargetedPage",value:function(e){return!yI(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}},{key:"data",set:function(e){this._data=e[0]&&e[0].header?e.slice(0):e},get:function(){return this._data}},{key:"items",set:function(e){this._items=e},get:function(){return this._items}},{key:"pageSize",get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}},{key:"scrollHeight",get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}}]),e}()).\u0275fac=function(e){return new(e||tI)(Ga(DI),Ga(rl),Ga(EI),Ga(RI),Ga(oa),Ga(Xu),Ga(ll))},tI.\u0275cmp=At({type:tI,selectors:[["kendo-list"]],viewQuery:function(e,t){var n;1&e&&(wu(FT,!0),wu(PT,!0),wu(LI,!0)),2&e&&(ku(n=Tu())&&(t.content=n.first),ku(n=Tu())&&(t.list=n.first),ku(n=Tu())&&(t.items=n))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[Us],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(Ba(0,HT,3,10,"div",0),Ka(1,"div",1,2),Ka(3,"ul",3,4),Ba(5,KT,1,1,void 0,5),Ba(6,rO,1,1,void 0,5),Za(),Ba(7,oO,2,2,"div",6),Za()),2&e&&(qa("ngIf",t.dataService.grouped),Dr(1),gs("max-height",t.height,"px"),qa("ngClass",Xl(10,aO,t.virtual,!t.virtual)),Dr(2),qa("ngClass",Jl(13,sO,t.virtual)),ja("id",t.id)("aria-hidden",!t.show),Dr(2),qa("ngIf",!t.dataService.grouped&&t.show),Dr(1),qa("ngIf",t.dataService.grouped),Dr(1),qa("ngIf",t.virtual))},directives:function(){return[fh,lh,Ah,KI,ch,LI,ZI]},encapsulation:2}),tI),VI={pageSize:50,itemHeight:28},BI=function(e){return!0===e?VI:e?Object.assign({pageSize:VI.pageSize},e):null},HI={multi:!0,provide:c_,useExisting:je((function(){return GI}))},GI=((iI=function(){function e(t,n,i,r,o,a,s,l,u,c){_classCallCheck(this,e),this.localization=t,this.dataService=n,this.popupService=i,this.selectionService=r,this.navigationService=o,this.disabledItemsService=a,this._zone=s,this.cdr=l,this.renderer=u,this.highlightFirst=!0,this.focusableId="k-"+kI(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new lu,this.filterChange=new lu,this.open=new lu,this.close=new lu,this.onFocus=new lu,this.onBlur=new lu,this.widgetClasses=!0,this.listBoxId=kI(),this.optionPrefix=kI(),this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this.popupMouseDownHandler=function(e){return e.preventDefault()},this._popupSettings={animate:!0},this._open=!1,this._value="",this._previousValue="",this._filtering=!1,this.valueChangeSubject=new j,this._isFocused=!1,this.direction=t.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}return _createClass(e,[{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),/(value|valueField)/g.test(Object.keys(e).join())&&this.setState(this.value)}},{key:"reset",value:function(){this.setState("")}},{key:"clearValue",value:function(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}},{key:"writeValue",value:function(e){this.setState(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"emitChange",value:function(){this.value!==this._previousValue&&(this._previousValue=this.value,this.onChangeCallback(this.value),this.valueChange.emit(this.value))}},{key:"verifySettings",value:function(e){if(Ni()&&yI(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/#toc-value")}},{key:"search",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),n):-1,this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=wI(this.dataService.itemAt(t),this.valueField)))}},{key:"navigate",value:function(e){this.isOpen&&this.selectionService.focus(e)}},{key:"handleNavigate",value:function(e){var t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(!(this.disabled||this.readonly||isNaN(t))){var n=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});n!==AI.Undefined&&n!==AI.Backspace&&n!==AI.Delete&&n!==AI.Home&&n!==AI.End&&n!==AI.Left&&n!==AI.Right&&(n===AI.Enter&&this.isOpen||n!==AI.Enter)&&e.preventDefault()}}},{key:"handleEnter",value:function(e){var t,n=this.selectionService.focused;if(this._filtering=!1,this.isOpen&&e.originalEvent.preventDefault(),n>=0)t=wI(this.dataService.itemAt(n),this.valueField);else{var i=this.suggest&&this.suggestedText&&this.data.length&&wI(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();t=this.isOpen&&i?this.suggestedText:this.searchbar.value}this.change(t)}},{key:"handleEscape",value:function(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}},{key:"searchBarChange",value:function(e){var t=yI(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this._filtering=!0,this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}},{key:"handleFocus",value:function(){this.isFocused=!0,this.onFocus.emit()}},{key:"handleBlur",value:function(){this._filtering=!1;var e,t,n=this.filterable?this.selectionService.focused:-1;-1!==n?(e=this.dataService.itemAt(n),t=wI(e,this.valueField,!0)||""):t=this.searchbar.value;var i=t===this.searchbar.value,r=t.toLowerCase()===this.searchbar.value.toLowerCase();!i&&r&&this.selectionService.resetSelection([]),this.change(this.searchbar.value),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setState",value:function(e){this._filtering||(this.value=e,this._previousValue=this.value,this.text=this.value)}},{key:"change",value:function(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}},{key:"subscribeEvents",value:function(){var e=this;Mg()&&(this.valueChangeSubscription=this.valueChangeSubject.pipe(If((function(t){return!(e.value===t&&e.text===t)}))).subscribe((function(t){e.value=t,e.text=t,e.emitChange()})),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=se(this.navigationService.up,this.navigationService.down).subscribe((function(t){return e.navigate(t.index)})),this.closeSubscription=this.navigationService.close.subscribe((function(){return e.togglePopup(!1)})),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}},{key:"unsubscribeEvents",value:function(){Mg()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}},{key:"handleItemChange",value:function(e){var t=e.indices.length?e.indices[0]:void 0;if(this._filtering=!1,this.selectionService.resetSelection([-1]),yI(t)){var n=wI(this.dataService.itemAt(t),this.valueField);this.change(n)}}},{key:"handleItemFocus",value:function(e){var t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=wI(this.dataService.itemAt(t),this.valueField))}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:t,vertical:"top"},anchorAlign:{horizontal:t,vertical:"bottom"}});var n=this.popupRef.popupElement,i=this.width,r=i.min,o=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=o,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new zI;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"firstFocusableIndex",value:function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"findIndexPredicate",value:function(e){var t=this;return this.dataService.grouped?function(n){var i=wI(n.value,t.valueField);return(i=yI(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(n){var i=wI(n,t.valueField);return(i=yI(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"width",get:function(){var e=0;Mg()&&(e=this.wrapper.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}},{key:"height",get:function(){var e=this.popupSettings.height;return yI(e)?e+"px":"auto"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"suggestion",get:function(){if(this.text&&this.suggestedText){var e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}this.suggestedText=void 0}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"isOpen",get:function(){return this._open}},{key:"activeDescendant",get:function(){if(!this.isOpen||!yI(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+wI(e,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.data.length)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=wI(this.dataService.itemAt(0),this.valueField))},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this.verifySettings(e),this._value=e||"",this.cdr.markForCheck()},get:function(){return this._value||""}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"virtual",set:function(e){this._virtualSettings=BI(e)},get:function(){return this._virtualSettings}},{key:"isFocused",get:function(){return this._isFocused},set:function(e){this._isFocused=e}},{key:"isDisabled",get:function(){return this.disabled}},{key:"dir",get:function(){return this.direction}}]),e}()).\u0275fac=function(e){return new(e||iI)(Ga(Om),Ga(DI),Ga(Ry),Ga(EI),Ga(FI),Ga(RI),Ga(Xu),Ga(oa),Ga(ll),Ga(rl))},iI.\u0275cmp=At({type:iI,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,SI,!0),_u(n,xI,!0),_u(n,TI,!0),_u(n,PI,!0),_u(n,OI,!0),_u(n,II,!0)),2&e&&(ku(i=Tu())&&(t.template=i.first),ku(i=Tu())&&(t.headerTemplate=i.first),ku(i=Tu())&&(t.footerTemplate=i.first),ku(i=Tu())&&(t.noDataTemplate=i.first),ku(i=Tu())&&(t.groupTemplate=i.first),ku(i=Tu())&&(t.fixedGroupTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(wu(lO,!0,El),wu(uO,!0),wu(_I,!0),wu(cO,!0)),2&e&&(ku(n=Tu())&&(t.container=n.first),ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.searchbar=n.first),ku(n=Tu())&&(t.optionsList=n.first))},hostVars:11,hostBindings:function(e,t){2&e&&(ja("dir",t.dir),ys("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-focused",t.isFocused)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[el([HI,DI,EI,FI,RI,Om,{provide:Tm,useValue:"kendo.autocomplete"},{provide:NI,useExisting:je((function(){return iI}))},{provide:Qg,useExisting:je((function(){return iI}))}]),Us],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Qa(0,0),ql(1,hO),Ja(),Ka(2,"kendo-searchbar",1,2),is("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),Za(),Ba(4,fO,1,1,"span",3),Ba(5,dO,1,0,"span",4),Ba(6,CO,5,14,"ng-template",null,5,Au),Ba(8,_O,1,0,"ng-template",6),Xa(9,null,7)),2&e&&(Dr(2),qa("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),Dr(2),qa("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),Dr(1),qa("ngIf",t.loading),Dr(3),qa("ngIf",t.isOpen))},directives:function(){return[JI,_I,fh,jI,KI,Zg]},encapsulation:2}),iI),UI=new tt("dropdowns-touch-enabled"),WI=((rI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||rI)(Ga(Ol))},rI.\u0275dir=zt({type:rI,selectors:[["","kendoDropDownListValueTemplate",""]]}),rI),qI={multi:!0,provide:c_,useExisting:je((function(){return $I}))},$I=((lI=function(){function e(t,n,i,r,o,a,s,l,u,c,h){_classCallCheck(this,e),this.localization=t,this.popupService=n,this.selectionService=i,this.navigationService=r,this.disabledItemsService=o,this.dataService=a,this._zone=s,this.renderer=l,this.hostElement=u,this.cdr=c,this.touchEnabled=h,this.focusableId="k-"+kI(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new lu,this.filterChange=new lu,this.selectionChange=new lu,this.open=new lu,this.close=new lu,this.onFocus=new lu,this.onBlur=new lu,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=kI(),this.optionPrefix=kI(),this.filterText="",this.isFocused=!1,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.word="",this.last="",this.filterFocused=new lu,this.filterBlurred=new lu,this.wrapperFocused=new lu,this.wrapperBlurred=new lu,this.selectionSubscription=new _,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.hostElement=u.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this)}return _createClass(e,[{key:"blurComponent",value:function(){this.wrapperBlurred.emit()}},{key:"blurFilterInput",value:function(){this.filterBlurred.emit()}},{key:"focusComponent",value:function(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())}},{key:"keydown",value:function(e){var t=yI(this.defaultItem)?-1:0,n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,i=0;if(!(this.disabled||this.readonly||this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===gI.home||e.keyCode===gI.end))){var r=yI(this.selectionService.selected[0]),o=yI(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);r&&!o||(e.keyCode===gI.down||e.keyCode===gI.right?i=-1:e.keyCode!==gI.up&&e.keyCode!==gI.left||(i=1));var a=e,s=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:a});s===AI.Undefined||s===AI.Tab||s===AI.Backspace||s===AI.Delete||(s===AI.Left||s===AI.Right)&&this.filterable||s===AI.Enter||a.preventDefault()}}},{key:"keypress",value:function(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}},{key:"click",value:function(){this.focus(),this.togglePopup(!this.isOpen)}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages(),this.assignAriaDescribedBy()}},{key:"isEmpty",value:function(){var e=this.value;return!(0===e||!1===e||e||this.defaultItem)}},{key:"onFilterFocus",value:function(){this.filterFocused.emit()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),e.hasOwnProperty("value")&&(this.verifySettings(e.value.currentValue),yI(this.value)||(this._previousDataItem=void 0)),e.hasOwnProperty("defaultItem")&&(this.disabledItemsService.defaultItem=this.defaultItem),/(value|textField|valueField|valuePrimitive|defaultItem|itemDisabled)/g.test(Object.keys(e).join())&&this.setState()}},{key:"focus",value:function(){this.disabled||this.wrapper.nativeElement.focus()}},{key:"blur",value:function(){this.disabled||this.wrapper.nativeElement.blur()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new zI;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}},{key:"reset",value:function(){this._previousDataItem=void 0,this.value=void 0,this.setState()}},{key:"writeValue",value:function(e){this.verifySettings(e),this.value=null===e?void 0:e,yI(e)||(this._previousDataItem=void 0),this.setState()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"getText",value:function(){return this.text}},{key:"getDefaultItemText",value:function(){return wI(this.defaultItem,this.textField)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var n=this.popupRef.popupElement,i=this.width,r=i.min,o=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=o,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"updateState",value:function(e){var t=e.dataItem,n=e.confirm,i=void 0!==n&&n;this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),i&&(this._previousDataItem=t)}},{key:"clearState",value:function(){this.text=void 0,this.dataItem=void 0}},{key:"resetSelection",value:function(e){var t=!yI(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}},{key:"onSelectionChange",value:function(e){var t=e.dataItem;this.updateState({dataItem:t}),this.selectionChange.emit(t),this.assignAriaDescribedBy()}},{key:"subscribeEvents",value:function(){var e=this;Mg()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(If((function(t){return e.isOpen})),Q(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(se(this.selectionService.onSelect.pipe(If((function(t){return!e.isOpen}))),this.selectionService.onChange).pipe(Q(this.itemFromEvent.bind(this)),sd((function(t){return e.togglePopup(!1)}))).subscribe((function(t){var n=t.dataItem,i=t.value;t.newSelection&&e.onSelectionChange({dataItem:n});var r=!yI(n)&&e._previousDataItem,o=i!==e.prop(e.valueField,e.valuePrimitive)(e.value);r?(e.updateState({dataItem:e._previousDataItem}),e.resetSelection()):o&&(e.value=e.valuePrimitive?i:n,e._previousDataItem=n,e.emitChange(e.value)),e.clearFilter()}))),this.navigationSubscription=se(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(AT((function(){return e.filterable}))),this.navigationService.right.pipe(AT((function(){return e.filterable}))),this.navigationService.home,this.navigationService.end).pipe(If((function(e){return!isNaN(e.index)}))).subscribe((function(t){return e.selectionService.select(t.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.enterSubscription=this.navigationService.enter.pipe(sd((function(e){return e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(od((function(){return ix(10).pipe(qf(1),Fy(e.wrapperFocused))}))).subscribe((function(){e.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){e.componentBlurredSubscription=se(e.wrapperBlurred.pipe(od((function(){return ix(10).pipe(qf(1),Fy(e.filterFocused))}))),e.navigationService.tab).pipe(sd((function(t){return t instanceof MI&&e.focus()})),If((function(){return e.isFocused}))).subscribe((function(){return e._zone.run((function(){e.componentBlur()}))}))})))}},{key:"unsubscribeEvents",value:function(){Mg()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}},{key:"itemFromEvent",value:function(e){var t=e.indices[0],n=this.dataService.itemAt(t);n=yI(n)?n:this.currentOrDefault(t);var i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:t,newSelection:e.newSelection,value:i}}},{key:"currentOrDefault",value:function(e){return yI(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"handleEnter",value:function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}},{key:"handleEscape",value:function(){yI(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}},{key:"clearFilter",value:function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}},{key:"verifySettings",value:function(e){var t=!yI(this.valueField)!=!yI(this.textField);if(Ni()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&yI(e)&&"object"==typeof e)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&yI(e)&&"object"!=typeof e)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(t)throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}},{key:"componentBlur",value:function(){this.isFocused=!1,yI(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.onBlur.emit(),this.onTouchedCallback()}},{key:"onMouseDown",value:function(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}},{key:"onKeyPress",value:function(e){if(0!==e.which&&e.keyCode!==gI.enter){var t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}}},{key:"search",value:function(){var e=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){e.word=""}),this.delay),this.selectNext())}},{key:"selectNext",value:function(){var e,t,n,i=this,r=this.dataService.filter((function(e){return yI(e)&&!e.header&&!i.disabledItemsService.isItemDisabled(e)})).map((function(e){return i.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:i.dataService.indexOf(e)}})),o=function(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}(this.word,this.last),a=r.length,s=!isNaN(this.selectionService.selected[0]),l=s?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(n={item:this.defaultItem,itemIndex:-1},a+=1,l+=1),r=function(e,t,n){var i=e;return n&&(i=[n].concat(i)),i.slice(t).concat(i.slice(0,t))}(r,l+=o&&s?1:0,n),t=0;t<a;t++){e=wI(r[t].item,this.textField);var u=Boolean(o&&CI(e,this.last,this.ignoreCase)),c=Boolean(CI(e,this.word,this.ignoreCase));if(u||c){t=r[t].itemIndex;break}}t!==a&&this.navigate(t)}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"navigate",value:function(e){this.selectionService.select(e)}},{key:"prop",value:function(e,t){return function(n){return yI(n)?t?e&&yI(i=n)&&"object"==typeof i?n[e]:n:n[e]:null;var i}}},{key:"findDataItem",value:function(e){var t,n=e.primitive,i=e.valueField,r=e.value,o={dataItem:null,index:-1},a=this.prop(i,n);t=this.dataService.grouped?function(e){return a(e.value)===a(r)}:function(e){return a(e)===a(r)};var s=this.dataService.findIndex(t);return o.dataItem=this.dataService.itemAt(s),o.index=s,o}},{key:"setState",value:function(){var e=this.value,t=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){var r=this.prop(t,i)(this.defaultItem),o=this.prop(t,i)(e);if(!yI(e)||o===r)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var a=this.findDataItem({primitive:i,valueField:t,value:e}),s=!(i&&n);a.dataItem?(this.updateState({dataItem:a.dataItem,confirm:!0}),this.resetSelection(a.index)):yI(e)&&s?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}},{key:"handleFilter",value:function(e){this.filterChange.emit(e.target.value)}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"assignAriaDescribedBy",value:function(){var e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=kI();var t="".concat(this.valueLabelId," ").concat(e).trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}},{key:"width",get:function(){var e=Mg()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}},{key:"height",get:function(){var e=this.popupSettings.height;return yI(e)?e+"px":"auto"}},{key:"widgetTabIndex",get:function(){if(!this.disabled){var e=Number(this.tabIndex);return isNaN(e)?0:e}}},{key:"ariaExpanded",get:function(){return this.isOpen}},{key:"ariaOwns",get:function(){if(this.isOpen)return this.listBoxId}},{key:"ariaActivedescendant",get:function(){if(yI(this.dataItem))return this.optionPrefix+"-"+wI(this.dataItem,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this._value=e,this.cdr.markForCheck()},get:function(){return this._value}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",set:function(e){this._virtualSettings=BI(e)},get:function(){return this._virtualSettings}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"dir",get:function(){return this.direction}},{key:"isOpen",get:function(){return this._open}},{key:"buttonClasses",get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"isDisabledDefaultItem",get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}}]),e}()).\u0275fac=function(e){return new(e||lI)(Ga(Om),Ga(Ry),Ga(EI),Ga(FI),Ga(RI),Ga(DI),Ga(Xu),Ga(ll),Ga(rl),Ga(oa),Ga(UI,8))},lI.\u0275cmp=At({type:lI,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,SI,!0),_u(n,OI,!0),_u(n,II,!0),_u(n,WI,!0),_u(n,xI,!0),_u(n,TI,!0),_u(n,PI,!0)),2&e&&(ku(i=Tu())&&(t.itemTemplate=i.first),ku(i=Tu())&&(t.groupTemplate=i.first),ku(i=Tu())&&(t.fixedGroupTemplate=i.first),ku(i=Tu())&&(t.valueTemplate=i.first),ku(i=Tu())&&(t.headerTemplate=i.first),ku(i=Tu())&&(t.footerTemplate=i.first),ku(i=Tu())&&(t.noDataTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(wu(lO,!0,El),wu(uO,!0),bu(SO,!0),wu(cO,!0)),2&e&&(ku(n=Tu())&&(t.container=n.first),ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.wrapper=n.first),ku(n=Tu())&&(t.optionsList=n.first))},hostVars:7,hostBindings:function(e,t){2&e&&(ja("dir",t.dir),ys("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",tabIndex:"tabIndex",valuePrimitive:"valuePrimitive",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[el([qI,DI,EI,FI,RI,Om,{provide:Tm,useValue:"kendo.dropdownlist"},{provide:NI,useExisting:je((function(){return lI}))},{provide:Qg,useExisting:je((function(){return lI}))}]),Us],decls:14,vars:20,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","focus","blur","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Qa(0,0),ql(1,xO),Ja(),Ka(2,"span",1,2),is("focus",(function(){return t.focusComponent()}))("blur",(function(){return t.blurComponent()}))("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(){return t.click()})),Ka(4,"span",3),Ba(5,OO,1,4,void 0,4),Ba(6,IO,1,1,"ng-template",5),Za(),Ka(7,"span",6),Ya(8,"span",7),Za(),Ba(9,BO,8,17,"ng-template",null,8,Au),Za(),Ba(11,HO,1,0,"ng-template",5),Xa(12,null,9)),2&e&&(Dr(2),qa("id",t.focusableId)("ngClass",eu(16,GO,!t.disabled,t.disabled,t.isFocused)),ja("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),Dr(2),qa("id",t.valueLabelId),Dr(1),qa("ngIf",t.valueTemplate),Dr(1),qa("ngIf",!t.valueTemplate),Dr(2),qa("ngClass",t.buttonClasses),Dr(3),qa("ngIf",t.isOpen))},directives:function(){return[JI,lh,fh,KI,jI,v_,mE,S_,BS,ZI,Zg]},encapsulation:2}),lI),KI=((sI=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"templateContext",set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}()).\u0275fac=function(e){return new(e||sI)(Ga(El))},sI.\u0275dir=zt({type:sI,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),sI),ZI=((aI=function(){function e(t){_classCallCheck(this,e),this.multipleSelection=!1,this.selectionService=t}return _createClass(e,[{key:"onClick",value:function(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}},{key:"focusedClassName",get:function(){return this.selectionService.isFocused(this.index)}},{key:"selectedClassName",get:function(){return this.selectionService.isSelected(this.index)}}]),e}()).\u0275fac=function(e){return new(e||aI)(Ga(EI))},aI.\u0275dir=zt({type:aI,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)})),2&e&&(ja("index",t.index),gs("height",t.height,"px")("min-height",t.height,"px"),ys("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),aI),YI=((oI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm)).\u0275fac=function(e){return QI(e||oI)},oI.\u0275dir=zt({type:oI,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[Ls]}),oI),QI=wi(YI),JI=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(YI);return e.\u0275fac=function(t){return new(t||e)(Ga(Om))},e.\u0275dir=zt({type:e,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[el([{provide:YI,useExisting:je((function(){return e}))}]),Ls]}),e}(),XI=((hI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:hI}),hI.\u0275inj=Oe({factory:function(e){return new(e||hI)}}),hI),eE=((cI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:cI}),cI.\u0275inj=Oe({factory:function(e){return new(e||cI)},imports:[[Rh,KS,My,Yg,XI],Rh,KS,My,Yg,XI]}),cI),tE=((uI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:uI}),uI.\u0275inj=Oe({factory:function(e){return new(e||uI)},imports:[[eE],XI]}),uI),nE={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},iE={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},rE={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},oE={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},aE=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},sE=bI()&&window.navigator?window.navigator.userAgent:null,lE=sE?function(e){var t=null,n=[];for(var i in rE)if(rE.hasOwnProperty(i)&&(n=e.match(rE[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(sE):null,uE=sE?function(e){var t,n=[];for(var i in nE)if(nE.hasOwnProperty(i)){if(!(n=e.match(nE[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=aE(e,oE,"default"),r.name=aE(i,iE),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(sE):null,cE=bI()&&"ontouchstart"in window,hE=lE&&!lE.chrome&&window.MSPointerEvent,fE=lE&&!lE.chrome&&window.PointerEvent,dE=uE&&(cE||hE||fE),pE=dE,vE=((pI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:pI}),pI.\u0275inj=Oe({factory:function(e){return new(e||pI)},providers:[{provide:UI,useValue:pE}],imports:[[eE],XI]}),pI),mE=((dI=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.zone=n}return _createClass(e,[{key:"ngOnChanges",value:function(){var e=this;this.focused&&this.nextTick((function(){return e.element.nativeElement.focus()}))}},{key:"nextTick",value:function(e){this.zone.runOutsideAngular((function(){return setTimeout(e)}))}}]),e}()).\u0275fac=function(e){return new(e||dI)(Ga(rl),Ga(Xu))},dI.\u0275dir=zt({type:dI,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[Us]}),dI),gE=((fI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:fI}),fI.\u0275inj=Oe({factory:function(e){return new(e||fI)},imports:[[eE],XI]}),fI),yE=dE,kE=((mI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:mI}),mI.\u0275inj=Oe({factory:function(e){return new(e||mI)},providers:[{provide:UI,useValue:yE}],imports:[[eE],XI]}),mI),bE=((vI=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:vI}),vI.\u0275inj=Oe({factory:function(e){return new(e||vI)},imports:[tE,vE,gE,kE]}),vI),wE=function(){return"undefined"!=typeof window},CE={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},_E={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},SE={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},xE={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},TE=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},OE=wE()&&window.navigator?window.navigator.userAgent:null,IE=OE?function(e){var t=null,n=[];for(var i in SE)if(SE.hasOwnProperty(i)&&(n=e.match(SE[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(OE):null,EE=OE?function(e){var t,n=[];for(var i in CE)if(CE.hasOwnProperty(i)){if(!(n=e.match(CE[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=TE(e,xE,"default"),r.name=TE(i,_E),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(OE):null;wE()&&window,IE&&!IE.chrome&&window,IE&&!IE.chrome&&window;var AE={extend:function(e){for(var t in this)"extend"!==t&&(e[t]=this[t])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(e){return this._observers?this._observers.push(e):this._observers=[e],this},removeObserver:function(e){var t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this},trigger:function(e,t){var n=this._observers;if(n&&!this._suspended)for(var i=0;i<n.length;i++){var r=n[i];r[e]&&r[e](t)}return this},optionsChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.element=this,this.trigger("optionsChange",e)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}},DE="undefined"!=typeof window?window:{},RE=DE.requestAnimationFrame||DE.webkitRequestAnimationFrame||DE.mozRequestAnimationFrame||DE.oRequestAnimationFrame||DE.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};function ME(e){RE.call(DE,e)}var FE=function e(){_classCallCheck(this,e)},PE=/&/g,zE=/</g,NE=/"/g,LE=/'/g,jE=/>/g;function VE(e){return String(e).replace(PE,"&amp;").replace(zE,"&lt;").replace(jE,"&gt;").replace(NE,"&quot;").replace(LE,"&#39;")}function BE(e){return"function"==typeof e}function HE(e){return"string"==typeof e?[e]:e}function GE(){this._defaultPrevented=!0}function UE(){return!0===this._defaultPrevented}var WE=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._events={},e}return _createClass(n,[{key:"bind",value:function(e,t,n){var i=arguments,r=this,o=HE(e),a=BE(t),s=o.length;if(void 0===t){for(var l in e)this.bind(l,e[l]);return this}for(var u=function(e){var s=o[e],l=a?t:t[s];if(l){if(n){var u=l;(l=function(){r.unbind(s,l),u.apply(r,i)}).original=u}(r._events[s]=r._events[s]||[]).push(l)}},c=0;c<s;c++)u(c);return this}},{key:"one",value:function(e,t){return this.bind(e,t,!0)}},{key:"first",value:function(e,t){for(var n=HE(e),i=BE(t),r=0,o=n.length;r<o;r++){var a=n[r],s=i?t:t[a];s&&(this._events[a]=this._events[a]||[]).unshift(s)}return this}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._events[e];if(n){var i=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=GE,t.isDefaultPrevented=UE,n=n.slice();for(var r=0;r<i;r++)n[r].call(this,t);return!0===t._defaultPrevented}return!1}},{key:"unbind",value:function(e,t){var n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(var i=n.length-1;i>=0;i--)n[i]!==t&&n[i].original!==t||n.splice(i,1);else this._events[e]=[];return this}}]),n}(FE),qE={};"undefined"!=typeof window&&(qE.browser=function(e){var t,n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var i in n)if(n.hasOwnProperty(i)){var r=e.match(n[i]);if(r){(t={})[i]=!0,t[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||r[2],10);break}}return t}(window.navigator.userAgent));var $E=qE;function KE(){return(new Date).getTime()}var ZE={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},YE=$E.browser,QE=function(e){var t=Object.keys(ZE);t.push("transparent");var n=new RegExp("^("+t.join("|")+")(\\W|$)","i");return QE=function(e){return n.exec(e)},n.exec(e)},JE=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"toHSV",value:function(){return this}},{key:"toRGB",value:function(){return this}},{key:"toHex",value:function(){return this.toBytes().toHex()}},{key:"toBytes",value:function(){return this}},{key:"toCss",value:function(){return"#"+this.toHex()}},{key:"toCssRgba",value:function(){var e=this.toBytes();return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(parseFloat(Number(this.a).toFixed(3)),")")}},{key:"toDisplay",value:function(){return YE.msie&&YE.version<9?this.toCss():this.toCssRgba()}},{key:"equals",value:function(e){return e===this||null!==e&&this.toCssRgba()===oA(e).toCssRgba()}},{key:"diff",value:function(e){if(null===e)return NaN;var t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))}},{key:"clone",value:function(){var e=this.toBytes();return e===this&&(e=new eA(e.r,e.g,e.b,e.a)),e}}]),n}(FE),XE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this)).r=e,a.g=i,a.b=r,a.a=o,a}return _createClass(n,[{key:"toHSV",value:function(){var e,t,n=this.r,i=this.g,r=this.b,o=Math.min(n,i,r),a=Math.max(n,i,r),s=a-o,l=a;return 0===s?new nA(0,0,l,this.a):(0!==a?(t=s/a,e=n===a?(i-r)/s:i===a?2+(r-n)/s:4+(n-i)/s,(e*=60)<0&&(e+=360)):(t=0,e=-1),new nA(e,t,l,this.a))}},{key:"toHSL",value:function(){var e,t,n=this.r,i=this.g,r=this.b,o=Math.max(n,i,r),a=Math.min(n,i,r),s=(o+a)/2;if(o===a)e=t=0;else{var l=o-a;switch(t=s>.5?l/(2-o-a):l/(o+a),o){case n:e=(i-r)/l+(i<r?6:0);break;case i:e=(r-n)/l+2;break;case r:e=(n-i)/l+4}}return new iA(60*e,100*t,100*s,this.a)}},{key:"toBytes",value:function(){return new eA(255*this.r,255*this.g,255*this.b,this.a)}}]),n}(JE),eA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){return _classCallCheck(this,n),t.call(this,Math.round(e),Math.round(i),Math.round(r),o)}return _createClass(n,[{key:"toRGB",value:function(){return new XE(this.r/255,this.g/255,this.b/255,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toHex",value:function(){return tA(this.r,2)+tA(this.g,2)+tA(this.b,2)}},{key:"toBytes",value:function(){return this}}]),n}(XE);function tA(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",i=e.toString(16);t>i.length;)i=n+i;return i}var nA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this)).h=e,a.s=i,a.v=r,a.a=o,a}return _createClass(n,[{key:"toRGB",value:function(){var e,t,n,i=this.h,r=this.s,o=this.v;if(0===r)e=t=n=o;else{i/=60;var a=Math.floor(i),s=i-a,l=o*(1-r),u=o*(1-r*s),c=o*(1-r*(1-s));switch(a){case 0:e=o,t=c,n=l;break;case 1:e=u,t=o,n=l;break;case 2:e=l,t=o,n=c;break;case 3:e=l,t=u,n=o;break;case 4:e=c,t=l,n=o;break;default:e=o,t=l,n=u}}return new XE(e,t,n,this.a)}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),n}(JE),iA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this)).h=e,a.s=i,a.l=r,a.a=o,a}return _createClass(n,[{key:"toRGB",value:function(){var e,t,n,i=this.h/360,r=this.s/100,o=this.l/100;if(0===r)e=t=n=o;else{var a=o<.5?o*(1+r):o+r-o*r,s=2*o-a;e=rA(s,a,i+1/3),t=rA(s,a,i),n=rA(s,a,i-1/3)}return new XE(e,t,n,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),n}(JE);function rA(e,t,n){var i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function oA(e,t){var n,i;if(null==e||"none"===e)return null;if(e instanceof JE)return e;var r=e.toLowerCase();if(n=QE(r))return(r="transparent"===n[1]?new XE(1,1,1,0):oA(ZE[n[1]],t)).match=[n[1]],r;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))?i=new eA(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))?i=new eA(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r))?i=new eA(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r))?i=new eA(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r))?i=new XE(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r))&&(i=new XE(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4]))),i)i.match=n;else if(!t)throw new Error("Cannot parse color: "+r);return i}function aA(e,t){return e.push.apply(e,t),e}var sA={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function lA(e){for(var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";e>0;)e<t[0]?t.shift():(n+=sA[t[0]],e-=t[0]);return n}function uA(){var e,t,n=new Promise((function(i,r){e=function(e){return n._state="resolved",i(e),n},t=function(e){return n._state="rejected",r(e),n}}));return n._state="pending",n.resolve=e,n.reject=t,n.state=function(){return n._state},n}function cA(e){return void 0!==e}var hA=1;function fA(){return"kdef"+hA++}var dA=Math.PI/180,pA=Number.MAX_VALUE,vA=-Number.MAX_VALUE;function mA(e){return e/dA}var gA=String.fromCharCode;function yA(e){return gA(e>>8)+gA(255&e)}function kA(e){return""===e||null===e||"none"===e||"transparent"===e||!cA(e)}function bA(e){if(e)return e[e.length-1]}function wA(e,t){return e.length<2?e.slice():function e(n){if(n.length<=1)return n;var i=Math.floor(n.length/2),r=n.slice(0,i),o=n.slice(i);return function(e,n){for(var i=[],r=0,o=0,a=0;r<e.length&&o<n.length;)t(e[r],n[o])<=0?i[a++]=e[r++]:i[a++]=n[o++];return r<e.length&&i.push.apply(i,e.slice(r)),o<n.length&&i.push.apply(i,n.slice(o)),i}(r=e(r),o=e(o))}(e)}function CA(e){return e*dA}function _A(e,t){var n,i=(n=t)?Math.pow(10,n):1;return Math.round(e*i)/i}function SA(e,t){return cA(e)?e:t}function xA(e,t){for(var n in t)for(var i=n.trim().split(" "),r=0;r<i.length;r++)e.addEventListener(i[r],t[n],!1)}function TA(e,t){for(var n={},i=window.getComputedStyle(e)||{},r=Array.isArray(t)?t:[t],o=0;o<r.length;o++){var a=r[o];n[a]=i[a]}return n}function OA(e){return isNaN(e)?e:e+"px"}function IA(e,t){if(!t){var n=TA(e,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}var i=t.width,r=t.height;cA(i)&&(e.style.width=OA(i)),cA(r)&&(e.style.height=OA(r))}function EA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)for(var i=n.trim().split(" "),r=0;r<i.length;r++)e.removeEventListener(i[r],t[n],!1)}var AA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._size=e,i._length=0,i._map={},i}return _createClass(n,[{key:"put",value:function(e,t){var n=this._map,i={key:e,value:t};n[e]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}},{key:"get",value:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}]),n}(FE),DA=/\r?\n|\r|\t/g;function RA(e){return String(e).replace(DA," ")}var MA,FA={baselineMarkerSize:1};"undefined"!=typeof document&&((MA=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var PA,zA=((PA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._cache=new AA(1e3),i.options=Object.assign({},FA,e),i}return _createClass(n,[{key:"measure",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{width:0,height:0,baseline:0};var i=function(e){for(var t=2166136261,n=0;n<e.length;++n)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(n);return t>>>0}(e+function(e){var t=[];for(var n in e)t.push(n+e[n]);return t.sort().join("")}(t)),r=this._cache.get(i);if(r)return r;var o={width:0,height:0,baseline:0},a=n.box||MA,s=this._baselineMarker().cloneNode(!1);for(var l in t){var u=t[l];void 0!==u&&(a.style[l]=u)}var c=!1!==n.normalizeText?RA(e):String(e);return a.textContent=c,a.appendChild(s),document.body.appendChild(a),c.length&&(o.width=a.offsetWidth-this.options.baselineMarkerSize,o.height=a.offsetHeight,o.baseline=s.offsetTop+this.options.baselineMarkerSize),o.width>0&&o.height>0&&this._cache.put(i,o),a.parentNode.removeChild(a),o}},{key:"_baselineMarker",value:function(){var e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}]),n}(FE)).current=new PA,PA);function NA(e,t,n){return zA.current.measure(e,t,n)}var LA={}.toString,jA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var o in _classCallCheck(this,n),(i=t.call(this)).prefix=r,e){var a=e[o];a=i._wrap(a,o),i[o]=a}return i}return _createClass(n,[{key:"get",value:function(e){for(var t=e.split("."),n=this;t.length&&n;)n=n[t.shift()];return n}},{key:"set",value:function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}},{key:"_set",value:function(e,t){var i=e.indexOf(".")>=0,r=this,o=e;if(i){for(var a=o.split("."),s=this.prefix;a.length>1;){s+=(o=a.shift())+".";var l=r[o];l||((l=new n({},s)).addObserver(this),r[o]=l),r=l}o=a[0]}r._clear(o),r[o]=t}},{key:"_clear",value:function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)}},{key:"_wrap",value:function(e,t){var i=LA.call(e),r=e;return null!==r&&cA(r)&&"[object Object]"===i&&(e instanceof n||e instanceof FE||(r=new n(r,this.prefix+t+".")),r.addObserver(this)),r}}]),n}(FE);AE.extend(jA.prototype);var VA=jA;function BA(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function HA(e){return function(){return this[e]}}function GA(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.charAt(0).toUpperCase()+i.substring(1,i.length);e["set"+r]=BA(i),e["get"+r]=HA(i)}}var UA,WA=((UA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return _classCallCheck(this,n),(e=t.call(this)).a=i,e.b=r,e.c=o,e.d=a,e.e=s,e.f=l,e}return _createClass(n,[{key:"multiplyCopy",value:function(e){return new n(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}},{key:"invert",value:function(){var e=this.a,t=this.b,i=this.c,r=this.d,o=this.e,a=this.f,s=e*r-t*i;return 0===s?null:new n(r/s,-t/s,-i/s,e/s,(i*a-r*o)/s,(t*o-e*a)/s)}},{key:"clone",value:function(){return new n(this.a,this.b,this.c,this.d,this.e,this.f)}},{key:"equals",value:function(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}},{key:"round",value:function(e){return this.a=_A(this.a,e),this.b=_A(this.b,e),this.c=_A(this.c,e),this.d=_A(this.d,e),this.e=_A(this.e,e),this.f=_A(this.f,e),this}},{key:"toArray",value:function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(cA(e))for(var n=0;n<t.length;n++)t[n]=_A(t[n],e);return t}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.toArray(e).join(t)}}],[{key:"translate",value:function(e,t){return new n(1,0,0,1,e,t)}},{key:"unit",value:function(){return new n(1,0,0,1,0,0)}},{key:"rotate",value:function(e,t,i){var r=new n;return r.a=Math.cos(CA(e)),r.b=Math.sin(CA(e)),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+i*r.b||0,r.f=i-i*r.a-t*r.b||0,r}},{key:"scale",value:function(e,t){return new n(e,0,0,t,0,0)}}]),n}(FE)).IDENTITY=UA.unit(),UA);function qA(e){return e&&"function"==typeof e.matrix?e.matrix():e}var $A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).x=e||0,r.y=i||0,r}return _createClass(n,[{key:"equals",value:function(e){return e&&e.x===this.x&&e.y===this.y}},{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"rotate",value:function(e,t){var i=n.create(t)||n.ZERO;return this.transform(WA.rotate(e,i.x,i.y))}},{key:"translate",value:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}},{key:"translateWith",value:function(e){return this.translate(e.x,e.y)}},{key:"move",value:function(e,t){return this.x=this.y=0,this.translate(e,t)}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.geometryChange(),this}},{key:"scaleCopy",value:function(e,t){return this.clone().scale(e,t)}},{key:"transform",value:function(e){var t=qA(e),n=this.x,i=this.y;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}},{key:"transformCopy",value:function(e){var t=this.clone();return e&&t.transform(e),t}},{key:"distanceTo",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"round",value:function(e){return this.x=_A(this.x,e),this.y=_A(this.y,e),this.geometryChange(),this}},{key:"toArray",value:function(e){var t=cA(e);return[t?_A(this.x,e):this.x,t?_A(this.y,e):this.y]}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=this.x,i=this.y;return cA(e)&&(n=_A(n,e),i=_A(i,e)),n+t+i}}],[{key:"create",value:function(e,t){if(cA(e))return e instanceof n?e:1===arguments.length&&2===e.length?new n(e[0],e[1]):new n(e,t)}},{key:"min",value:function(){for(var e=pA,t=pA,i=0;i<arguments.length;i++){var r=arguments[i];e=Math.min(r.x,e),t=Math.min(r.y,t)}return new n(e,t)}},{key:"max",value:function(){for(var e=vA,t=vA,i=0;i<arguments.length;i++){var r=arguments[i];e=Math.max(r.x,e),t=Math.max(r.y,t)}return new n(e,t)}},{key:"minPoint",value:function(){return new n(vA,vA)}},{key:"maxPoint",value:function(){return new n(pA,pA)}},{key:"ZERO",get:function(){return new n(0,0)}}]),n}(FE);GA($A.prototype,["x","y"]),AE.extend($A.prototype);var KA=$A,ZA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).width=e||0,r.height=i||0,r}return _createClass(n,[{key:"equals",value:function(e){return e&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new n(this.width,this.height)}},{key:"toArray",value:function(e){var t=cA(e);return[t?_A(this.width,e):this.width,t?_A(this.height,e):this.height]}}],[{key:"create",value:function(e,t){if(cA(e))return e instanceof n?e:1===arguments.length&&2===e.length?new n(e[0],e[1]):new n(e,t)}},{key:"ZERO",get:function(){return new n(0,0)}}]),n}(FE);GA(ZA.prototype,["width","height"]),AE.extend(ZA.prototype);var YA=ZA,QA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new KA,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YA;return _classCallCheck(this,n),(e=t.call(this)).setOrigin(i),e.setSize(r),e}return _createClass(n,[{key:"clone",value:function(){return new n(this.origin.clone(),this.size.clone())}},{key:"equals",value:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}},{key:"setOrigin",value:function(e){return this._observerField("origin",KA.create(e)),this.geometryChange(),this}},{key:"getOrigin",value:function(){return this.origin}},{key:"setSize",value:function(e){return this._observerField("size",YA.create(e)),this.geometryChange(),this}},{key:"getSize",value:function(){return this.size}},{key:"width",value:function(){return this.size.width}},{key:"height",value:function(){return this.size.height}},{key:"topLeft",value:function(){return this.origin.clone()}},{key:"bottomRight",value:function(){return this.origin.clone().translate(this.width(),this.height())}},{key:"topRight",value:function(){return this.origin.clone().translate(this.width(),0)}},{key:"bottomLeft",value:function(){return this.origin.clone().translate(0,this.height())}},{key:"center",value:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)}},{key:"bbox",value:function(e){var t=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),r=this.bottomRight().transformCopy(e),o=this.bottomLeft().transformCopy(e);return n.fromPoints(t,i,r,o)}},{key:"transformCopy",value:function(e){return n.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}},{key:"expandCopy",value:function(e,t){return this.clone().expand(e,t)}},{key:"containsPoint",value:function(e){var t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}},{key:"_isOnPath",value:function(e,t){var n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}}],[{key:"fromPoints",value:function(){var e=KA.min.apply(null,arguments),t=KA.max.apply(null,arguments),i=new YA(t.x-e.x,t.y-e.y);return new n(e,i)}},{key:"union",value:function(e,t){return n.fromPoints(KA.min(e.topLeft(),t.topLeft()),KA.max(e.bottomRight(),t.bottomRight()))}},{key:"intersect",value:function(e,t){var i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},r={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(i.left<=r.right&&r.left<=i.right&&i.top<=r.bottom&&r.top<=i.bottom)return n.fromPoints(new KA(Math.max(i.left,r.left),Math.max(i.top,r.top)),new KA(Math.min(i.right,r.right),Math.min(i.bottom,r.bottom)))}}]),n}(FE);AE.extend(QA.prototype);var JA=QA,XA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WA.unit();return _classCallCheck(this,n),(e=t.call(this))._matrix=i,e}return _createClass(n,[{key:"clone",value:function(){return new n(this._matrix.clone())}},{key:"equals",value:function(e){return e&&e._matrix.equals(this._matrix)}},{key:"translate",value:function(e,t){return this._matrix=this._matrix.multiplyCopy(WA.translate(e,t)),this._optionsChange(),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n;return i&&(i=KA.create(i),this._matrix=this._matrix.multiplyCopy(WA.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(WA.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(WA.translate(-i.x,-i.y))),this._optionsChange(),this}},{key:"rotate",value:function(e,t){var n=KA.create(t)||KA.ZERO;return this._matrix=this._matrix.multiplyCopy(WA.rotate(e,n.x,n.y)),this._optionsChange(),this}},{key:"multiply",value:function(e){var t=qA(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}},{key:"matrix",value:function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}},{key:"_optionsChange",value:function(){this.optionsChange({field:"transform",value:this})}}]),n}(FE);AE.extend(XA.prototype);var eD=XA;function tD(e){return null===e?null:e instanceof eD?e:new eD(e)}var nD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._initOptions(e),i}return _createClass(n,[{key:"_initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clip,n=e.transform;n&&(e.transform=tD(n)),t&&!t.id&&(t.id=fA()),this.options=new VA(e),this.options.addObserver(this)}},{key:"transform",value:function(e){if(!cA(e))return this.options.get("transform");this.options.set("transform",tD(e))}},{key:"parentTransform",value:function(){for(var e,t=this;t.parent;){var n=(t=t.parent).transform();n&&(e=n.matrix().multiplyCopy(e||WA.unit()))}if(e)return tD(e)}},{key:"currentTransform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parentTransform(),n=qA(this.transform()),i=qA(t);if(e=n&&i?i.multiplyCopy(n):n||i)return tD(e)}},{key:"visible",value:function(e){return cA(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}},{key:"clip",value:function(e){var t=this.options;return cA(e)?(e&&!e.id&&(e.id=fA()),t.set("clip",e),this):t.get("clip")}},{key:"opacity",value:function(e){return cA(e)?(this.options.set("opacity",e),this):SA(this.options.get("opacity"),1)}},{key:"clippedBBox",value:function(e){var t=this._clippedBBox(e);if(t){var n=this.clip();return n?JA.intersect(t,n.bbox(e)):t}}},{key:"containsPoint",value:function(e,t){if(this.visible()){var n=this.currentTransform(t),i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}},{key:"_hasFill",value:function(){var e=this.options.fill;return e&&!kA(e.color)}},{key:"_hasStroke",value:function(){var e=this.options.stroke;return e&&e.width>0&&!kA(e.color)}},{key:"_clippedBBox",value:function(e){return this.bbox(e)}}]),n}(FE);nD.prototype.nodeType="Element",AE.extend(nD.prototype);var iD=nD;function rD(e,t,n,i){var r=0,o=0;return i&&(r=Math.atan2(i.c*n,i.a*t),0!==i.b&&(o=Math.atan2(i.d*n,i.b*t))),{x:r,y:o}}var oD=Math.PI/2,aD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new KA,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,n),(e=t.call(this)).setCenter(i),e.setRadius(r),e}return _createClass(n,[{key:"setCenter",value:function(e){return this._observerField("center",KA.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"equals",value:function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return new n(this.center.clone(),this.radius)}},{key:"pointAt",value:function(e){return this._pointAt(CA(e))}},{key:"bbox",value:function(e){for(var t=rD(0,this.radius,this.radius,e),n=KA.maxPoint(),i=KA.minPoint(),r=0;r<4;r++){var o=this._pointAt(t.x+r*oD).transformCopy(e),a=this._pointAt(t.y+r*oD).transformCopy(e),s=new KA(o.x,a.y);n=KA.min(n,s),i=KA.max(i,s)}return JA.fromPoints(n,i)}},{key:"_pointAt",value:function(e){var t=this.center,n=this.radius;return new KA(t.x+n*Math.cos(e),t.y+n*Math.sin(e))}},{key:"containsPoint",value:function(e){var t=this.center,n=this.radius;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}},{key:"_isOnPath",value:function(e,t){var n=this.center,i=this.radius,r=n.distanceTo(e);return i-t<=r&&r<=i+t}}]),n}(FE);GA(aD.prototype,["radius"]),AE.extend(aD.prototype);var sD=aD,lD={extend:function(e){e.fill=this.fill,e.stroke=this.stroke},fill:function(e,t){var n=this.options;if(cA(e)){if(e&&"Gradient"!==e.nodeType){var i={color:e};cA(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")},stroke:function(e,t,n){return cA(e)?(this.options.set("stroke.color",e),cA(t)&&this.options.set("stroke.width",t),cA(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},uD=WA.IDENTITY.toString(),cD={extend:function(e){e.bbox=this.bbox,e.geometryChange=this.geometryChange},bbox:function(e){var t,n=qA(this.currentTransform(e)),i=n?n.toString():uD;this._bboxCache&&this._matrixHash===i?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=i);var r=this.options.get("stroke.width");return r&&t&&t.expand(r/2),t},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function hD(e){var t="_"+e;return function(e){return cA(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function fD(e,t){for(var n=0;n<t.length;n++)e[t[n]]=hD(t[n])}var dD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sD,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(e=t.call(this,r)).geometry(i),cA(e.options.stroke)||e.stroke("#000"),e}return _createClass(n,[{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),n}(iD);dD.prototype.nodeType="Circle",lD.extend(dD.prototype),cD.extend(dD.prototype),fD(dD.prototype,["geometry"]);var pD=dD;function vD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return 0===_A(Math.abs(e-t),n)}function mD(e,t,n){return e<t||vD(e,t,n)}var gD=Math.pow,yD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new KA,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(e=t.call(this)).setCenter(i),e.radiusX=r.radiusX,e.radiusY=r.radiusY||r.radiusX,e.startAngle=r.startAngle,e.endAngle=r.endAngle,e.anticlockwise=r.anticlockwise||!1,e.xRotation=r.xRotation,e}return _createClass(n,[{key:"clone",value:function(){return new n(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}},{key:"setCenter",value:function(e){return this._observerField("center",KA.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"pointAt",value:function(e){var t=this.center,n=CA(e);return new KA(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))}},{key:"curvePoints",value:function(){var e,t=this.startAngle,n=this.anticlockwise?-1:1,i=[this.pointAt(t)],r=this._arcInterval(),o=r.endAngle-r.startAngle,a=Math.ceil(o/45),s=o/a,l=t;this.xRotation&&(e=tD().rotate(this.xRotation,this.center));for(var u=1;u<=a;u++){var c=l+n*s,h=this._intervalCurvePoints(l,c,e);i.push(h.cp1,h.cp2,h.p2),l=c}return i}},{key:"bbox",value:function(e){for(var t=this._arcInterval(),n=t.startAngle,i=t.endAngle,r=rD(0,this.radiusX,this.radiusY,e),o=mA(r.x),a=mA(r.y),s=this.pointAt(i).transformCopy(e),l=bD(o,n),u=bD(a,n),c=this.pointAt(n).transformCopy(e),h=KA.min(c,s),f=KA.max(c,s);l<i||u<i;){var d=void 0,p=void 0;l<i&&(d=this.pointAt(l).transformCopy(e),l+=90),u<i&&(p=this.pointAt(u).transformCopy(e),u+=90),c=new KA(d.x,p.y),h=KA.min(h,c),f=KA.max(f,c)}return JA.fromPoints(h,f)}},{key:"_arcInterval",value:function(){var e=this.startAngle,t=this.endAngle,n=this.anticlockwise;if(n){var i=e;e=t,t=i}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}},{key:"_intervalCurvePoints",value:function(e,t,n){var i=this.pointAt(e),r=this.pointAt(t),o=this._derivativeAt(e),a=this._derivativeAt(t),s=(CA(t)-CA(e))/3,l=new KA(i.x+s*o.x,i.y+s*o.y),u=new KA(r.x-s*a.x,r.y-s*a.y);return n&&(i.transform(n),r.transform(n),l.transform(n),u.transform(n)),{p1:i,cp1:l,cp2:u,p2:r}}},{key:"_derivativeAt",value:function(e){var t=CA(e);return new KA(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}},{key:"containsPoint",value:function(e){var t,n=this._arcInterval(),i=n.endAngle-n.startAngle,r=this.center,o=this.radiusX,a=this.radiusY,s=r.distanceTo(e),l=Math.atan2(e.y-r.y,e.x-r.x),u=o*a/Math.sqrt(gD(o,2)*gD(Math.sin(l),2)+gD(a,2)*gD(Math.cos(l),2)),c=this.pointAt(this.startAngle).round(10),h=this.pointAt(this.endAngle).round(10),f=function(e,t,n,i){var r=t.x-e.x,o=i.x-n.x,a=t.y-e.y,s=i.y-n.y,l=e.x-n.x,u=e.y-n.y,c=r*s-o*a,h=(r*u-a*l)/c,f=(o*u-s*l)/c;if(h>=0&&h<=1&&f>=0&&f<=1)return new KA(e.x+f*r,e.y+f*a)}(r,e.round(10),c,h);if(i<180)t=f&&mD(r.distanceTo(f),s)&&mD(s,u);else{var d=kD(r.x,r.y,o,a,e.x,e.y);360!==d&&(d=(360+d)%360);var p=n.startAngle<=d&&d<=n.endAngle;t=p&&mD(s,u)||!p&&(!f||f.equals(e))}return t}},{key:"_isOnPath",value:function(e,t){var n=this._arcInterval(),i=this.center,r=kD(i.x,i.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==r&&(r=(360+r)%360),n.startAngle<=r&&r<=n.endAngle&&this.pointAt(r).distanceTo(e)<=t}}],[{key:"fromPoints",value:function(e,t,i,r,o,a,s){var l=function(e){var t=e.x1,n=e.y1,i=e.x2,r=e.y2,o=e.rx,a=e.ry,s=e.largeArc,l=e.swipe,u=e.rotation,c=void 0===u?0:u,h=CA(c),f=Math.cos(h),d=Math.sin(h),p=f*(t-i)/2+d*(n-r)/2,v=-d*(t-i)/2+f*(n-r)/2,m=s!==l?1:-1,g=Math.pow(p,2),y=Math.pow(v,2),k=Math.pow(o,2),b=Math.pow(a,2),w=g/k+y/b;w>1&&(o*=w=Math.sqrt(g/k+y/b),k=Math.pow(o,2),a*=w,b=Math.pow(a,2));var C=m*Math.sqrt((k*b-k*y-b*g)/(k*y+b*g));isNaN(C)&&(C=0);var _=C*(o*v)/a,S=a*p*-C/o,x=f*_-d*S+(t+i)/2,T=d*_+f*S+(n+r)/2,O=(p-_)/o,I=(v-S)/a,E=-(p+_)/o,A=-(v+S)/a,D=(I>=0?1:-1)*mA(Math.acos(O/Math.sqrt(O*O+I*I))),R=_A((O*E+I*A)/(Math.sqrt(O*O+I*I)*Math.sqrt(E*E+A*A)),10),M=(O*A-I*E>=0?1:-1)*mA(Math.acos(R));!l&&M>0&&(M-=360),l&&M<0&&(M+=360);var F=D+M,P=F>=0?1:-1;return F=Math.abs(F)%360*P,{center:new KA(x,T),startAngle:D,endAngle:F,radiusX:o,radiusY:a,xRotation:c}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:i,ry:r,largeArc:o,swipe:a,rotation:s});return new n(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===a})}}]),n}(FE);function kD(e,t,n,i,r,o){var a=_A((r-e)/n,3),s=_A((o-t)/i,3);return _A(mA(Math.atan2(s,a)))}function bD(e,t){for(var n=e;n<t;)n+=90;return n}GA(yD.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),AE.extend(yD.prototype);var wD=yD,CD=[].push,_D=[].pop,SD=[].splice,xD=[].shift,TD=[].slice,OD=[].unshift,ID=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(e=t.call(this)).length=0,e._splice(0,i.length,i),e}return _createClass(n,[{key:"elements",value:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}},{key:"push",value:function(){var e=arguments,t=CD.apply(this,e);return this._add(e),t}},{key:"slice",value:function(){return TD.call(this)}},{key:"pop",value:function(){var e=this.length,t=_D.apply(this);return e&&this._remove([t]),t}},{key:"splice",value:function(e,t){var n=TD.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}},{key:"shift",value:function(){var e=this.length,t=xD.apply(this);return e&&this._remove([t]),t}},{key:"unshift",value:function(){var e=arguments,t=OD.apply(this,e);return this._add(e),t}},{key:"indexOf",value:function(e){for(var t=this.length,n=0;n<t;n++)if(this[n]===e)return n;return-1}},{key:"_splice",value:function(e,t,n){var i=SD.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}},{key:"_add",value:function(e){this._setObserver(e),this._change()}},{key:"_remove",value:function(e){this._clearObserver(e),this._change()}},{key:"_setObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)}},{key:"_clearObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)}},{key:"_change",value:function(){}}]),n}(FE);AE.extend(ID.prototype);var ED=ID,AD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_change",value:function(){this.geometryChange()}}]),n}(ED);function DD(e){var t="_"+e;return function(e){return cA(e)?(this._observerField(t,KA.create(e)),this.geometryChange(),this):this[t]}}function RD(e,t){for(var n=0;n<t.length;n++)e[t[n]]=DD(t[n])}function MD(e,t,n){var i=mA(Math.atan2(t.y-e.y,t.x-e.x));return n.transformCopy(tD().rotate(-i,e)).x<e.x}function FD(e,t,n){var i=1-e;return Math.pow(i,3)*n[0][t]+3*Math.pow(i,2)*e*n[1][t]+3*Math.pow(e,2)*i*n[2][t]+Math.pow(e,3)*n[3][t]}function PD(e,t){return[3*e[1][t]-e[0][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var zD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,n),(e=t.call(this)).real=i,e.img=r,e}return _createClass(n,[{key:"add",value:function(e){return new n(_A(this.real+e.real,10),_A(this.img+e.img,10))}},{key:"addConstant",value:function(e){return new n(this.real+e,this.img)}},{key:"negate",value:function(){return new n(-this.real,-this.img)}},{key:"multiply",value:function(e){return new n(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}},{key:"multiplyConstant",value:function(e){return new n(this.real*e,this.img*e)}},{key:"nthRoot",value:function(e){var t=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),r=Math.pow(i,1/e);return new n(r*Math.cos(t/e),r*Math.sin(t/e))}},{key:"equals",value:function(e){return this.real===e.real&&this.img===e.img}},{key:"isReal",value:function(){return 0===this.img}}]),n}(FE);function ND(e){return e<0?-1:1}function LD(e,t,n,i){if(0===e)return function(e,t,n){var i=Math.sqrt(Math.pow(t,2)-4*e*n);return[(-t+i)/(2*e),(-t-i)/(2*e)]}(t,n,i);var r,o,a,s,l,u,c,h=(3*e*n-Math.pow(t,2))/(3*Math.pow(e,2)),f=(2*Math.pow(t,3)-9*e*t*n+27*Math.pow(e,2)*i)/(27*Math.pow(e,3)),d=Math.pow(h/3,3)+Math.pow(f/2,2),p=new zD(0,1),v=-t/(3*e);d<0?(r=new zD(-f/2,Math.sqrt(-d)).nthRoot(3),o=new zD(-f/2,-Math.sqrt(-d)).nthRoot(3)):(r=-f/2+Math.sqrt(d),r=new zD(ND(r)*Math.pow(Math.abs(r),1/3)),o=-f/2-Math.sqrt(d),o=new zD(ND(o)*Math.pow(Math.abs(o),1/3))),a=r.add(o),u=r.add(o).multiplyConstant(-.5),c=r.add(o.negate()).multiplyConstant(Math.sqrt(3)/2),s=u.add(p.multiply(c)),l=u.add(p.negate().multiply(c));var m=[];return a.isReal()&&m.push(_A(a.real+v,10)),s.isReal()&&m.push(_A(s.real+v,10)),l.isReal()&&m.push(_A(l.real+v,10)),m}function jD(e,t,n,i,r){for(var o,a=PD(e,i),s=LD(a[0],a[1],a[2],a[3]-t[i]),l=0;l<s.length;l++)if(0<=s[l]&&s[l]<=1&&(o=FD(s[l],n,e),Math.abs(o-t[n])<=r))return!0}function VD(e,t,n){var i;if(e.x!==t.x){var r=Math.min(e.x,t.x),o=Math.max(e.x,t.x),a=Math.min(e.y,t.y),s=Math.max(e.y,t.y),l=r<=n.x&&n.x<o;i=a===s?n.y<=a&&l:l&&(s-a)*((e.x-t.x)*(e.y-t.y)>0?n.x-r:o-n.x)/(o-r)+a-n.y>=0}return i?1:0}var BD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).anchor(e||new KA),o.controlIn(i),o.controlOut(r),o}return _createClass(n,[{key:"bboxTo",value:function(e,t){var n=this.anchor().transformCopy(t),i=e.anchor().transformCopy(t);return this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),i):this._lineBoundingBox(n,i)}},{key:"_lineBoundingBox",value:function(e,t){return JA.fromPoints(e,t)}},{key:"_curveBoundingBox",value:function(e,t,n,i){var r=[e,t,n,i],o=this._curveExtremesFor(r,"x"),a=this._curveExtremesFor(r,"y"),s=HD([o.min,o.max,e.x,i.x]),l=HD([a.min,a.max,e.y,i.y]);return JA.fromPoints(new KA(s.min,l.min),new KA(s.max,l.max))}},{key:"_curveExtremesFor",value:function(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:FD(n.min,t,e),max:FD(n.max,t,e)}}},{key:"_curveExtremes",value:function(e,t,n,i){var r=e-3*t+3*n-i,o=-2*(e-2*t+n),a=e-t,s=Math.sqrt(o*o-4*r*a),l=0,u=1;0===r?0!==o&&(l=u=-a/o):isNaN(s)||(l=(-o+s)/(2*r),u=(-o-s)/(2*r));var c=Math.max(Math.min(l,u),0);(c<0||c>1)&&(c=0);var h=Math.min(Math.max(l,u),1);return(h>1||h<0)&&(h=1),{min:c,max:h}}},{key:"_intersectionsTo",value:function(e,t){return this.controlOut()&&e.controlIn()?function(e,t,n){for(var i,r=PD(e,"x"),o=LD(r[0],r[1],r[2],r[3]-t.x),a=0,s=0;s<o.length;s++)(vD(i=FD(o[s],"y",e),t.y)||i>t.y)&&((0===o[s]||1===o[s])&&n.bottomRight().x>t.x||0<o[s]&&o[s]<1)&&a++;return a}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):VD(this.anchor(),e.anchor(),t)}},{key:"_isOnCurveTo",value:function(e,t,n,i){if(this.bboxTo(e).expand(n,n).containsPoint(t)){var r=this.anchor(),o=this.controlOut(),a=e.controlIn(),s=e.anchor();if("start"===i&&r.distanceTo(t)<=n)return!MD(r,o,t);if("end"===i&&s.distanceTo(t)<=n)return!MD(s,a,t);var l=[r,o,a,s];if(jD(l,t,"x","y",n)||jD(l,t,"y","x",n))return!0;var u=tD().rotate(45,t),c=[r.transformCopy(u),o.transformCopy(u),a.transformCopy(u),s.transformCopy(u)];return jD(c,t,"x","y",n)||jD(c,t,"y","x",n)}}},{key:"_isOnLineTo",value:function(e,t,n){var i=this.anchor(),r=e.anchor(),o=mA(Math.atan2(r.y-i.y,r.x-i.x));return new JA([i.x,i.y-n/2],[i.distanceTo(r),n]).containsPoint(t.transformCopy(tD().rotate(-o,i)))}},{key:"_isOnPathTo",value:function(e,t,n,i){return this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,i):this._isOnLineTo(e,t,n)}}]),n}(FE);function HD(e){for(var t=e.length,n=pA,i=vA,r=0;r<t;r++)i=Math.max(i,e[r]),n=Math.min(n,e[r]);return{min:n,max:i}}RD(BD.prototype,["anchor","controlIn","controlOut"]),AE.extend(BD.prototype);var GD=BD;function UD(e,t,n){for(var i,r=0;r<e.length;r++){var o=e[r];if(o.visible()){var a=t?o.bbox(n):o.rawBBox();a&&(i=i?JA.union(i,a):a)}}return i}function WD(e,t){for(var n,i=0;i<e.length;i++){var r=e[i];if(r.visible()){var o=r.clippedBBox(t);o&&(n=n?JA.union(n,o):o)}}return n}var qD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).paths=new AD,i.paths.addObserver(_assertThisInitialized(i)),cA(i.options.stroke)||i.stroke("#000"),i}return _createClass(n,[{key:"moveTo",value:function(e,t){var n=new iR;return n.moveTo(e,t),this.paths.push(n),this}},{key:"lineTo",value:function(e,t){return this.paths.length>0&&bA(this.paths).lineTo(e,t),this}},{key:"curveTo",value:function(e,t,n){return this.paths.length>0&&bA(this.paths).curveTo(e,t,n),this}},{key:"arc",value:function(e,t,n,i,r){return this.paths.length>0&&bA(this.paths).arc(e,t,n,i,r),this}},{key:"arcTo",value:function(e,t,n,i,r,o){return this.paths.length>0&&bA(this.paths).arcTo(e,t,n,i,r,o),this}},{key:"close",value:function(){return this.paths.length>0&&bA(this.paths).close(),this}},{key:"_bbox",value:function(e){return UD(this.paths,!0,e)}},{key:"rawBBox",value:function(){return UD(this.paths,!1)}},{key:"_containsPoint",value:function(e){for(var t=this.paths,n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1}},{key:"_isOnPath",value:function(e){for(var t=this.paths,n=this.options.stroke.width,i=0;i<t.length;i++)if(t[i]._isOnPath(e,n))return!0;return!1}},{key:"_clippedBBox",value:function(e){return WD(this.paths,this.currentTransform(e))}}]),n}(iD);qD.prototype.nodeType="MultiPath",lD.extend(qD.prototype),cD.extend(qD.prototype);var $D=qD;function KD(e,t,n){for(var i=t?0:1,r=0;r<e.length;r+=2)e.splice(r+i,0,n)}function ZD(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}function YD(e,t,n){var i=t.clone().scale(2/3);return{controlOut:i.clone().translateWith(e.scaleCopy(1/3)),controlIn:i.translateWith(n.scaleCopy(1/3))}}var QD,JD={l:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=2){var o=new KA(n[r],n[r+1]);t.isRelative&&o.translateWith(i),e.lineTo(o.x,o.y),i.x=o.x,i.y=o.y}},c:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=6){var o=new KA(n[r],n[r+1]),a=new KA(n[r+2],n[r+3]),s=new KA(n[r+4],n[r+5]);t.isRelative&&(a.translateWith(i),o.translateWith(i),s.translateWith(i)),e.curveTo(o,a,s),i.x=s.x,i.y=s.y}},v:function(e,t){KD(t.parameters,!0,t.isRelative?0:t.position.x),this.l(e,t)},h:function(e,t){KD(t.parameters,!1,t.isRelative?0:t.position.y),this.l(e,t)},a:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=7){var o=n[r],a=n[r+1],s=n[r+2],l=n[r+3],u=n[r+4],c=new KA(n[r+5],n[r+6]);t.isRelative&&c.translateWith(i),i.x===c.x&&i.y===c.y||(e.arcTo(c,o,a,l,u,s),i.x=c.x,i.y=c.y)}},s:function(e,t){var n,i=t.parameters,r=t.position,o=t.previousCommand;"s"!==o&&"c"!==o||(n=bA(bA(e.paths).segments).controlIn());for(var a=0;a<i.length;a+=4){var s,l=new KA(i[a],i[a+1]),u=new KA(i[a+2],i[a+3]);t.isRelative&&(l.translateWith(r),u.translateWith(r)),s=n?ZD(n,r):r.clone(),n=l,e.curveTo(s,l,u),r.x=u.x,r.y=u.y}},q:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=4){var o=new KA(n[r],n[r+1]),a=new KA(n[r+2],n[r+3]);t.isRelative&&(o.translateWith(i),a.translateWith(i));var s=YD(i,o,a);e.curveTo(s.controlOut,s.controlIn,a),i.x=a.x,i.y=a.y}},t:function(e,t){var n,i=t.parameters,r=t.position,o=t.previousCommand;"q"!==o&&"t"!==o||(n=bA(bA(e.paths).segments).controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(1.5));for(var a=0;a<i.length;a+=2){var s=new KA(i[a],i[a+1]);t.isRelative&&s.translateWith(r),n=n?ZD(n,r):r.clone();var l=YD(r,n,s);e.curveTo(l.controlOut,l.controlIn,s),r.x=s.x,r.y=s.y}}},XD=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,eR=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,tR=((QD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(e,t){var n,i=new $D(t),r=new KA;return e.replace(XD,(function(e,t,o,a){var s=t.toLowerCase(),l=s===t,u=function(e){var t=[];return e.replace(eR,(function(e,n){t.push(parseFloat(n))})),t}(o.trim());if("m"===s&&(l?(r.x+=u[0],r.y+=u[1]):(r.x=u[0],r.y=u[1]),i.moveTo(r.x,r.y),u.length>2&&(s="l",u.splice(0,2))),JD[s])JD[s](i,{parameters:u,position:r,isRelative:l,previousCommand:n}),a&&"z"===a.toLowerCase()&&i.close();else if("m"!==s)throw new Error("Error while parsing SVG path. Unsupported command: "+s);n=s})),i}}]),n}(FE)).current=new QD,QD),nR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).segments=new AD,i.segments.addObserver(_assertThisInitialized(i)),cA(i.options.stroke)||(i.stroke("#000"),cA(i.options.stroke.lineJoin)||i.options.set("stroke.lineJoin","miter")),i}return _createClass(n,[{key:"moveTo",value:function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}},{key:"lineTo",value:function(e,t){var n=cA(t)?new KA(e,t):e,i=new GD(n);return this.segments.push(i),this}},{key:"curveTo",value:function(e,t,n){if(this.segments.length>0){var i=bA(this.segments),r=new GD(n,t);this.suspend(),i.controlOut(e),this.resume(),this.segments.push(r)}return this}},{key:"arc",value:function(e,t,n,i,r){if(this.segments.length>0){var o=bA(this.segments).anchor(),a=CA(e),s=new KA(o.x-n*Math.cos(a),o.y-i*Math.sin(a)),l=new wD(s,{startAngle:e,endAngle:t,radiusX:n,radiusY:i,anticlockwise:r});this._addArcSegments(l)}return this}},{key:"arcTo",value:function(e,t,n,i,r,o){if(this.segments.length>0){var a=bA(this.segments).anchor(),s=wD.fromPoints(a,e,t,n,i,r,o);this._addArcSegments(s)}return this}},{key:"_addArcSegments",value:function(e){this.suspend();for(var t=e.curvePoints(),n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()}},{key:"close",value:function(){return this.options.closed=!0,this.geometryChange(),this}},{key:"rawBBox",value:function(){return this._bbox()}},{key:"_containsPoint",value:function(e){for(var t,n,i=this.segments,r=i.length,o=0,a=1;a<r;a++)t=i[a-1],n=i[a],o+=t._intersectionsTo(n,e);return!this.options.closed&&i[0].anchor().equals(i[r-1].anchor())||(o+=VD(i[0].anchor(),i[r-1].anchor(),e)),o%2!=0}},{key:"_isOnPath",value:function(e,t){var n=this.segments,i=n.length,r=t||this.options.stroke.width;if(i>1){if(n[0]._isOnPathTo(n[1],e,r,"start"))return!0;for(var o=2;o<=i-2;o++)if(n[o-1]._isOnPathTo(n[o],e,r))return!0;if(n[i-2]._isOnPathTo(n[i-1],e,r,"end"))return!0}return!1}},{key:"_bbox",value:function(e){var t,n=this.segments,i=n.length;if(1===i){var r=n[0].anchor().transformCopy(e);t=new JA(r,YA.ZERO)}else if(i>0)for(var o=1;o<i;o++){var a=n[o-1].bboxTo(n[o],e);t=t?JA.union(t,a):a}return t}}],[{key:"fromRect",value:function(e,t){return new n(t).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close()}},{key:"fromPoints",value:function(e,t){if(e){for(var i=new n(t),r=0;r<e.length;r++){var o=KA.create(e[r]);o&&(0===r?i.moveTo(o):i.lineTo(o))}return i}}},{key:"fromArc",value:function(e,t){var i=new n(t),r=e.startAngle,o=e.pointAt(r);return i.moveTo(o.x,o.y),i.arc(r,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),i}}]),n}(iD);nR.prototype.nodeType="Path",lD.extend(nR.prototype),cD.extend(nR.prototype),nR.parse=function(e,t){return tR.current.parse(e,t)};var iR=nR,rR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wD,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(e=t.call(this,r)).geometry(i),cA(e.options.stroke)||e.stroke("#000"),e}return _createClass(n,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this.geometry().bbox()}},{key:"toPath",value:function(){var e=new iR,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),n}(iD);rR.prototype.nodeType="Arc",lD.extend(rR.prototype),cD.extend(rR.prototype),fD(rR.prototype,["geometry"]);var oR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new KA,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,n),(i=t.call(this,o)).content(e),i.position(r),i.options.font||(i.options.font="12px sans-serif"),cA(i.options.fill)||i.fill("#000"),i}return _createClass(n,[{key:"content",value:function(e){return cA(e)?(this.options.set("content",e),this):this.options.get("content")}},{key:"measure",value:function(){return NA(this.content(),{font:this.options.get("font")})}},{key:"rect",value:function(){var e=this.measure(),t=this.position().clone();return new JA(t,[e.width,e.height])}},{key:"bbox",value:function(e){var t=qA(this.currentTransform(e));return this.rect().bbox(t)}},{key:"rawBBox",value:function(){return this.rect().bbox()}},{key:"_containsPoint",value:function(e){return this.rect().containsPoint(e)}}]),n}(iD);oR.prototype.nodeType="Text",lD.extend(oR.prototype),RD(oR.prototype,["position"]);var aR=oR,sR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new JA,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,n),(i=t.call(this,o)).src(e),i.rect(r),i}return _createClass(n,[{key:"src",value:function(e){return cA(e)?(this.options.set("src",e),this):this.options.get("src")}},{key:"bbox",value:function(e){var t=qA(this.currentTransform(e));return this._rect.bbox(t)}},{key:"rawBBox",value:function(){return this._rect.bbox()}},{key:"_containsPoint",value:function(e){return this._rect.containsPoint(e)}},{key:"_hasFill",value:function(){return this.src()}}]),n}(iD);sR.prototype.nodeType="Image",fD(sR.prototype,["rect"]);var lR=sR,uR=function(e,t){e.traverse=function(e){for(var n=this[t],i=0;i<n.length;i++){var r=n[i];r.traverse?r.traverse(e):e(r)}return this}},cR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).children=[],i}return _createClass(n,[{key:"childrenChange",value:function(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})}},{key:"append",value:function(){return aA(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}},{key:"insert",value:function(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}},{key:"insertAt",value:function(e,t){return this.insert(t,e)}},{key:"remove",value:function(e){var t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}},{key:"removeAt",value:function(e){if(0<=e&&e<this.children.length){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}},{key:"clear",value:function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}},{key:"bbox",value:function(e){return UD(this.children,!0,this.currentTransform(e))}},{key:"rawBBox",value:function(){return UD(this.children,!1)}},{key:"_clippedBBox",value:function(e){return WD(this.children,this.currentTransform(e))}},{key:"currentTransform",value:function(e){return iD.prototype.currentTransform.call(this,e)||null}},{key:"containsPoint",value:function(e,t){if(this.visible())for(var n=this.children,i=this.currentTransform(t),r=0;r<n.length;r++)if(n[r].containsPoint(e,i))return!0;return!1}},{key:"_reparent",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.parent;r&&r!==this&&r.remove&&r.remove(i),i.parent=t}}}]),n}(iD);cR.prototype.nodeType="Group",uR(cR.prototype,"children");var hR=cR,fR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new JA,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(e=t.call(this,r)).geometry(i),cA(e.options.stroke)||e.stroke("#000"),e}return _createClass(n,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_containsPoint",value:function(e){return this._geometry.containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),n}(iD);fR.prototype.nodeType="Rect",lD.extend(fR.prototype),cD.extend(fR.prototype),fD(fR.prototype,["geometry"]);var dR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_change",value:function(){this.optionsChange({field:"stops"})}}]),n}(ED);function pR(e){return function(t){return cA(t)?(this.options.set(e,t),this):this.options.get(e)}}var vR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).options=new VA({offset:e,color:i,opacity:cA(r)?r:1}),o.options.addObserver(_assertThisInitialized(o)),o}return _createClass(n,null,[{key:"create",value:function(e){if(cA(e))return e instanceof n?e:e.length>1?new n(e[0],e[1],e[2]):new n(e.offset,e.color,e.opacity)}}]),n}(FE);!function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=pR(t[n])}(vR.prototype,["offset","color","opacity"]),AE.extend(vR.prototype);var mR=vR,gR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this)).stops=new dR(e._createStops(i.stops)),e.stops.addObserver(_assertThisInitialized(e)),e._userSpace=i.userSpace,e.id=fA(),e}return _createClass(n,[{key:"userSpace",value:function(e){return cA(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}},{key:"_createStops",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;n++)t.push(mR.create(e[n]));return t}},{key:"addStop",value:function(e,t,n){this.stops.push(new mR(e,t,n))}},{key:"removeStop",value:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}}]),n}(FE);gR.prototype.nodeType="Gradient",AE.extend(gR.prototype),Object.assign(gR.prototype,{optionsChange:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var yR=gR,kR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).start(i.start||new KA),e.end(i.end||new KA(1,0)),e}return n}(yR);RD(kR.prototype,["start","end"]);var bR=kR,wR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).center(i.center||new KA),e._radius=cA(i.radius)?i.radius:1,e._fallbackFill=i.fallbackFill,e}return _createClass(n,[{key:"radius",value:function(e){return cA(e)?(this._radius=e,this.geometryChange(),this):this._radius}},{key:"fallbackFill",value:function(e){return cA(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}]),n}(yR);RD(wR.prototype,["center"]);var CR=wR;function _R(e){return.5-Math.cos(e*Math.PI)/2}function SR(e){return e}function xR(e,t,n,i){var r=1.70158,o=0,a=i;return 0===e?n:1===e?n+i:(o||(o=.5),a<Math.abs(i)?(a=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*e)*Math.sin((Number(e)-r)*(1.1*Math.PI)/o)+i+n)}var TR,OR=((TR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._items=[],e}return _createClass(n,[{key:"register",value:function(e,t){this._items.push({name:e,type:t})}},{key:"create",value:function(e,t){var n,i=this._items;if(t&&t.type)for(var r=t.type.toLowerCase(),o=0;o<i.length;o++)if(i[o].name.toLowerCase()===r){n=i[o];break}if(n)return new n.type(e,t)}}]),n}(FE)).current=new TR,TR),IR=Date.now||function(){return(new Date).getTime()},ER=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).options=Object.assign({},r.options,i),r.element=e,r}return _createClass(n,[{key:"setup",value:function(){}},{key:"step",value:function(){}},{key:"play",value:function(){var e=this,t=this.options,n=t.duration,i=t.delay,r=void 0===i?0:i,o=f[t.easing],a=IR()+r,s=a+n;0===n?(this.step(1),this.abort()):setTimeout((function(){!function t(){if(!e._stopped){var i=IR(),r=Math.max(Math.min(i-a,n),0),l=o(r/n,r,0,1,n);e.step(l),i<s?ME(t):e.abort()}}()}),r)}},{key:"abort",value:function(){this._stopped=!0}},{key:"destroy",value:function(){this.abort()}}]),n}(FE);ER.prototype.options={duration:500,easing:"swing"},ER.create=function(e,t,n){return OR.current.create(e,t,n)};var AR,DR,RR=((AR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._items=[],e}return _createClass(n,[{key:"register",value:function(e,t,n){var i=this._items,r=i[0],o={name:e,type:t,order:n};!r||n<r.order?i.unshift(o):i.push(o)}},{key:"create",value:function(e,t){var n=this._items,i=n[0];if(t&&t.type)for(var r=t.type.toLowerCase(),o=0;o<n.length;o++)if(n[o].name===r){i=n[o];break}if(i)return new i.type(e,t);!function(e){var t=window.console;void 0!==t&&t.log&&t.log(e)}("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)}}]),n}(FE)).current=new AR,AR),MR=["click","mouseenter","mouseleave","mousemove","resize"],FR=((DR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).options=Object.assign({},i),r.element=e,r.element._kendoExportVisual=r.exportVisual.bind(_assertThisInitialized(r)),r._click=r._handler("click"),r._mouseenter=r._handler("mouseenter"),r._mouseleave=r._handler("mouseleave"),r._mousemove=r._handler("mousemove"),r._visual=new hR,IA(e,r.options),r.bind(MR,r.options),r._enableTracking(),r}return _createClass(n,[{key:"draw",value:function(e){this._visual.children.push(e)}},{key:"clear",value:function(){this._visual.children=[]}},{key:"destroy",value:function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}},{key:"eventTarget",value:function(e){for(var t,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.touch?e.touch.initialTouch:e.target}(e);!t&&n&&(t=n._kendoNode,n!==this.element);)n=n.parentElement;if(t)return t.srcElement}},{key:"exportVisual",value:function(){return this._visual}},{key:"getSize",value:function(){return IA(this.element)}},{key:"currentSize",value:function(e){if(!e)return this._size;this._size=e}},{key:"setSize",value:function(e){IA(this.element,e),this.currentSize(e),this._resize()}},{key:"resize",value:function(e){var t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}},{key:"size",value:function(e){if(!e)return this.getSize();this.setSize(e)}},{key:"suspendTracking",value:function(){this._suspendedTracking=!0}},{key:"resumeTracking",value:function(){this._suspendedTracking=!1}},{key:"_enableTracking",value:function(){}},{key:"_resize",value:function(){}},{key:"_handler",value:function(e){var t=this;return function(n){var i=t.eventTarget(n);i&&!t._suspendedTracking&&t.trigger(e,{element:i,originalEvent:n,type:e})}}},{key:"_elementOffset",value:function(){var e=this.element,t=TA(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,i=t.paddingTop,r=function(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}(e),o=r.left,a=r.top;return{left:o+parseInt(n,10),top:a+parseInt(i,10)}}},{key:"_surfacePoint",value:function(e){var t=this._elementOffset(),n=function(e){return cA((e.x||{}).location)?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}(e);return new KA(n.x-t.left,n.y-t.top)}}]),n}(WE)).create=function(e,t){return RR.current.create(e,t)},DR.support={},DR),PR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).childNodes=[],i.parent=null,e&&(i.srcElement=e,i.observe()),i}return _createClass(n,[{key:"destroy",value:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}},{key:"load",value:function(){}},{key:"observe",value:function(){this.srcElement&&this.srcElement.addObserver(this)}},{key:"append",value:function(e){this.childNodes.push(e),e.parent=this}},{key:"insertAt",value:function(e,t){this.childNodes.splice(t,0,e),e.parent=this}},{key:"remove",value:function(e,t){for(var n=e+t,i=e;i<n;i++)this.childNodes[i].removeSelf();this.childNodes.splice(e,t)}},{key:"removeSelf",value:function(){this.clear(),this.destroy()}},{key:"clear",value:function(){this.remove(0,this.childNodes.length)}},{key:"invalidate",value:function(){this.parent&&this.parent.invalidate()}},{key:"geometryChange",value:function(){this.invalidate()}},{key:"optionsChange",value:function(){this.invalidate()}},{key:"childrenChange",value:function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}}]),n}(FE);function zR(e,t){return cA(t)&&null!==t?" ".concat(e,'="').concat(t,'" '):""}function NR(e){for(var t="",n=0;n<e.length;n++)t+=zR(e[n][0],e[n][1]);return t}function LR(e){for(var t="",n=0;n<e.length;n++){var i=e[n][1];cA(i)&&(t+=e[n][0]+":"+i+";")}if(""!==t)return t}var jR={},VR="http://www.w3.org/2000/svg",BR=function(e,t){e.innerHTML=t};if("undefined"!=typeof document){var HR=document.createElement("div"),GR="undefined"!=typeof DOMParser;HR.innerHTML="<svg xmlns='http://www.w3.org/2000/svg'></svg>",GR&&HR.firstChild.namespaceURI!==VR&&(BR=function(e,t){var n=(new DOMParser).parseFromString(t,"text/xml"),i=document.adoptNode(n.documentElement);e.innerHTML="",e.appendChild(i)})}var UR=BR,WR={clip:"clip-path",fill:"fill"};function qR(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType)}var $R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).definitions={},r.options=i,r}return _createClass(n,[{key:"destroy",value:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"load",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.children,o=new jR[i.nodeType](i,this.options);cA(t)?this.insertAt(o,t):this.append(o),o.createDefinitions(),r&&r.length>0&&o.load(r);var a=this.element;a&&o.attachTo(a,t)}}},{key:"root",value:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"attachTo",value:function(e,t){var n=document.createElement("div");UR(n,"<svg xmlns='"+VR+"' version='1.1'>"+this.render()+"</svg>");var i=n.firstChild.firstChild;i&&(cA(t)?e.insertBefore(i,e.childNodes[t]||null):e.appendChild(i),this.setElement(i))}},{key:"setElement",value:function(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;for(var t=this.childNodes,n=0;n<t.length;n++)t[n].setElement(e.childNodes[n])}},{key:"clear",value:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var e=this.childNodes,t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}},{key:"removeSelf",value:function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}_get(_getPrototypeOf(n.prototype),"removeSelf",this).call(this)}},{key:"template",value:function(){return this.renderChildren()}},{key:"render",value:function(){return this.template()}},{key:"renderChildren",value:function(){for(var e=this.childNodes,t="",n=0;n<e.length;n++)t+=e[n].render();return t}},{key:"optionsChange",value:function(e){var t=e.field,i=e.value;"visible"===t?this.css("display",i?"":"none"):WR[t]&&qR(t,i)?this.updateDefinition(t,i):"opacity"===t?this.attr("opacity",i):"cursor"===t?this.css("cursor",i):"id"===t&&(i?this.attr("id",i):this.removeAttr("id")),_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}},{key:"attr",value:function(e,t){this.element&&this.element.setAttribute(e,t)}},{key:"allAttr",value:function(e){for(var t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}},{key:"css",value:function(e,t){this.element&&(this.element.style[e]=t)}},{key:"allCss",value:function(e){for(var t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}},{key:"removeAttr",value:function(e){this.element&&this.element.removeAttribute(e)}},{key:"mapTransform",value:function(e){var t=[];return e&&t.push(["transform","matrix("+e.matrix().toString(6)+")"]),t}},{key:"renderTransform",value:function(){return NR(this.mapTransform(this.srcElement.transform()))}},{key:"transformChange",value:function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr("transform")}},{key:"mapStyle",value:function(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display","none"]),t}},{key:"renderStyle",value:function(){return zR("style",LR(this.mapStyle(!0)))}},{key:"renderOpacity",value:function(){return zR("opacity",this.srcElement.options.opacity)}},{key:"renderId",value:function(){return zR("id",this.srcElement.options.id)}},{key:"createDefinitions",value:function(){var e=this.srcElement,t=this.definitions;if(e){var n,i=e.options;for(var r in WR){var o=i.get(r);o&&qR(r,o)&&(t[r]=o,n=!0)}n&&this.definitionChange({action:"add",definitions:t})}}},{key:"definitionChange",value:function(e){this.parent&&this.parent.definitionChange(e)}},{key:"updateDefinition",value:function(e,t){var n=this.definitions,i=n[e],r=WR[e],o={};i&&(o[e]=i,this.definitionChange({action:"remove",definitions:o}),delete n[e]),t?(o[e]=t,this.definitionChange({action:"add",definitions:o}),n[e]=t,this.attr(r,this.refUrl(t.id))):i&&this.removeAttr(r)}},{key:"clearDefinitions",value:function(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}},{key:"renderDefinitions",value:function(){return NR(this.mapDefinitions())}},{key:"mapDefinitions",value:function(){var e=this.definitions,t=[];for(var n in e)t.push([WR[n],this.refUrl(e[n].id)]);return t}},{key:"refUrl",value:function(e){var t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return"url(".concat(t?"":n,"#").concat(e,")")}},{key:"baseUrl",value:function(){return function(){var e=document.getElementsByTagName("base")[0],t=document.location.href,n="";if(e&&!($E.browser||{}).msie){var i=t.indexOf("#");-1!==i&&(t=t.substring(0,i)),n=t}return n}()}}]),n}(PR),KR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"template",value:function(){return"<stop ".concat(this.renderOffset()," ").concat(this.renderStyle()," />")}},{key:"renderOffset",value:function(){return zR("offset",this.srcElement.offset())}},{key:"mapStyle",value:function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}},{key:"optionsChange",value:function(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)}}]),n}($R),ZR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).id=e.id,i.loadStops(),i}return _createClass(n,[{key:"loadStops",value:function(){for(var e=this.srcElement.stops,t=this.element,n=0;n<e.length;n++){var i=new KR(e[n]);this.append(i),t&&i.attachTo(t)}}},{key:"optionsChange",value:function(e){"gradient.stops"===e.field?(PR.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}},{key:"renderCoordinates",value:function(){return NR(this.mapCoordinates())}},{key:"mapSpace",value:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}]),n}($R),YR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"template",value:function(){return"<linearGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</linearGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}}]),n}(ZR),QR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"template",value:function(){return"<radialGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</radialGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}}]),n}(ZR),JR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).srcElement=e,i.id=e.id,i.load([e]),i}return _createClass(n,[{key:"template",value:function(){return"<clipPath id='".concat(this.id,"'>").concat(this.renderChildren(),"</clipPath>")}}]),n}($R),XR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).definitionMap={},e}return _createClass(n,[{key:"attachTo",value:function(e){this.element=e}},{key:"template",value:function(){return"<defs>".concat(this.renderChildren(),"</defs>")}},{key:"definitionChange",value:function(e){var t=e.definitions,n=e.action;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)}},{key:"createDefinition",value:function(e,t){var n;return"clip"===e?n=JR:"fill"===e&&(t instanceof bR?n=YR:t instanceof CR&&(n=QR)),new n(t)}},{key:"addDefinitions",value:function(e){for(var t in e)this.addDefinition(t,e[t])}},{key:"addDefinition",value:function(e,t){var n=this.element,i=this.definitionMap,r=t.id,o=i[r];if(o)o.count++;else{var a=this.createDefinition(e,t);i[r]={element:a,count:1},this.append(a),n&&a.attachTo(this.element)}}},{key:"removeDefinitions",value:function(e){for(var t in e)this.removeDefinition(e[t])}},{key:"removeDefinition",value:function(e){var t=this.definitionMap,n=e.id,i=t[n];i&&(i.count--,0===i.count&&(this.remove(this.childNodes.indexOf(i.element),1),delete t[n]))}}]),n}($R),eM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).options=e,i.defs=new XR,i}return _createClass(n,[{key:"attachTo",value:function(e){this.element=e,this.defs.attachTo(e.firstElementChild)}},{key:"clear",value:function(){PR.prototype.clear.call(this)}},{key:"template",value:function(){return this.defs.render()+this.renderChildren()}},{key:"definitionChange",value:function(e){this.defs.definitionChange(e)}}]),n}($R),tM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i))._root=new eM(Object.assign({rtl:"rtl"===TA(e,"direction").direction},r.options)),UR(r.element,r._template()),r._rootElement=r.element.firstElementChild,function(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(o){}if(t){var n=-t.e%1,i=-t.f%1,r=e.style;0===n&&0===i||(r.left=n+"px",r.top=i+"px")}}(r._rootElement),r._root.attachTo(r._rootElement),xA(r.element,{click:r._click,mouseover:r._mouseenter,mouseout:r._mouseleave,mousemove:r._mousemove}),r.resize(),r}return _createClass(n,[{key:"destroy",value:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,EA(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"translate",value:function(e){var t="".concat(Math.round(e.x)," ").concat(Math.round(e.y)," ").concat(this._size.width," ").concat(this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t)}},{key:"draw",value:function(e){_get(_getPrototypeOf(n.prototype),"draw",this).call(this,e),this._root.load([e])}},{key:"clear",value:function(){_get(_getPrototypeOf(n.prototype),"clear",this).call(this),this._root.clear()}},{key:"svg",value:function(){return"<?xml version='1.0' ?>"+this._template()}},{key:"exportVisual",value:function(){var e=this._visual,t=this._offset;if(t){var n=new hR;n.children.push(e),n.transform(tD().translate(-t.x,-t.y)),e=n}return e}},{key:"_resize",value:function(){this._offset&&this.translate(this._offset)}},{key:"_template",value:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='".concat(VR,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(this._root.render(),"</svg>")}}]),n}(FR);tM.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(FR.support.svg=!0,RR.current.register("svg",tM,10)),jR.Group=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"template",value:function(){return"<g".concat(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions(),">").concat(this.renderChildren(),"</g>")}},{key:"optionsChange",value:function(e){"transform"===e.field&&this.transformChange(e.value),_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}}]),n}($R);var nM={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},iM={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},rM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"geometryChange",value:function(){this.attr("d",this.renderData()),this.invalidate()}},{key:"optionsChange",value:function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var t=iM[e.field];t&&this.attr(t,e.value)}_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}},{key:"content",value:function(){this.element&&(this.element.textContent=this.srcElement.content())}},{key:"renderData",value:function(){return this.printPath(this.srcElement)}},{key:"printPath",value:function(e){var t=e.segments,n=t.length;if(n>0){for(var i,r,o=[],a=1;a<n;a++){var s=this.segmentType(t[a-1],t[a]);s!==r&&(r=s,o.push(s)),o.push("L"===s?this.printPoints(t[a].anchor()):this.printPoints(t[a-1].controlOut(),t[a].controlIn(),t[a].anchor()))}return i="M"+this.printPoints(t[0].anchor())+" "+o.join(" "),e.options.closed&&(i+="Z"),i}}},{key:"printPoints",value:function(){for(var e=arguments,t=e.length,n=[],i=0;i<t;i++)n.push(e[i].toString(3));return n.join(" ")}},{key:"segmentType",value:function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"}},{key:"mapStroke",value:function(e){var t=[];return e&&!kA(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),cA(e.opacity)&&t.push(["stroke-opacity",e.opacity]),cA(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke","none"]),t}},{key:"renderStroke",value:function(){return NR(this.mapStroke(this.srcElement.options.stroke))}},{key:"renderDashType",value:function(e){var t=e.dashType,n=e.width,i=void 0===n?1:n;if(t&&"solid"!==t){for(var r=nM[t.toLowerCase()],o=[],a=0;a<r.length;a++)o.push(r[a]*i);return o.join(" ")}}},{key:"renderLinecap",value:function(e){var t=e.dashType,n=e.lineCap;return t&&"solid"!==t?"butt":n}},{key:"mapFill",value:function(e){var t=[];return e&&"Gradient"===e.nodeType||(e&&!kA(e.color)?(t.push(["fill",e.color]),cA(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill","none"])),t}},{key:"renderFill",value:function(){return NR(this.mapFill(this.srcElement.options.fill))}},{key:"template",value:function(){return"<path ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," ").concat(zR("d",this.renderData())).concat(this.renderStroke()).concat(this.renderFill()).concat(this.renderDefinitions()).concat(this.renderTransform(),"></path>")}}]),n}($R);jR.Path=rM;var oM=rM;jR.Arc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderData",value:function(){return this.printPath(this.srcElement.toPath())}}]),n}(oM),jR.Circle=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"geometryChange",value:function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}},{key:"center",value:function(){return this.srcElement.geometry().center}},{key:"radius",value:function(){return this.srcElement.geometry().radius}},{key:"template",value:function(){return"<circle ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity(),"cx='").concat(this.center().x,"' cy='").concat(this.center().y,"' r='").concat(this.radius(),"'").concat(this.renderStroke()," ").concat(this.renderFill()," ").concat(this.renderDefinitions())+this.renderTransform()+" ></circle>"}}]),n}(oM),jR.Rect=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"geometryChange",value:function(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.invalidate()}},{key:"size",value:function(){return this.srcElement.geometry().size}},{key:"origin",value:function(){return this.srcElement.geometry().origin}},{key:"template",value:function(){return"<rect ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," x='").concat(this.origin().x,"' y='").concat(this.origin().y,"' width='").concat(this.size().width,"' height='").concat(this.size().height,"' ").concat(this.renderStroke()," ").concat(this.renderFill()," ").concat(this.renderDefinitions()," ").concat(this.renderTransform()," />")}}]),n}(oM),jR.Image=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"geometryChange",value:function(){this.allAttr(this.mapPosition()),this.invalidate()}},{key:"optionsChange",value:function(e){"src"===e.field&&this.allAttr(this.mapSource()),_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}},{key:"mapPosition",value:function(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}},{key:"renderPosition",value:function(){return NR(this.mapPosition())}},{key:"mapSource",value:function(e){var t=this.srcElement.src();return e&&(t=VE(t)),[["xlink:href",t]]}},{key:"renderSource",value:function(){return NR(this.mapSource(!0))}},{key:"template",value:function(){return"<image preserveAspectRatio='none' ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderTransform()," ").concat(this.renderOpacity()).concat(this.renderPosition()," ").concat(this.renderSource()," ").concat(this.renderDefinitions(),"></image>")}}]),n}(oM);var aM=/&(?:[a-zA-Z]+|#\d+);/g;function sM(e){if(!e||"string"!=typeof e||!aM.test(e))return e;var t=sM._element;return aM.lastIndex=0,e.replace(aM,(function(e){return t.innerHTML=e,t.textContent||t.innerText}))}"undefined"!=typeof document&&(sM._element=document.createElement("span")),jR.Text=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"geometryChange",value:function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}},{key:"optionsChange",value:function(e){"font"===e.field?(this.attr("style",LR(this.mapStyle())),this.geometryChange()):"content"===e.field&&_get(_getPrototypeOf(n.prototype),"content",this).call(this,this.srcElement.content()),_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}},{key:"mapStyle",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"mapStyle",this).call(this,e),i=this.srcElement.options.font;return e&&(i=VE(i)),t.push(["font",i],["white-space","pre"]),t}},{key:"pos",value:function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}},{key:"renderContent",value:function(){var e=this.srcElement.content();return RA(e=VE(e=sM(e)))}},{key:"renderTextAnchor",value:function(){var e;return!(this.options||{}).rtl||$E.browser.msie||$E.browser.edge||(e="end"),zR("text-anchor",e)}},{key:"template",value:function(){return"<text ".concat(this.renderId()," ").concat(this.renderTextAnchor()," ").concat(this.renderStyle()," ").concat(this.renderOpacity(),"x='").concat(this.pos().x,"' y='").concat(this.pos().y,"' ").concat(this.renderStroke()," ").concat(this.renderTransform()," ").concat(this.renderDefinitions()).concat(this.renderFill(),">").concat(this.renderContent(),"</text>")}}]),n}(oM),jR.MultiPath=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderData",value:function(){var e=this.srcElement.paths;if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push(this.printPath(e[n]));return t.join(" ")}}}]),n}(oM);var lM={};function uM(e,t){var n=t.segments;if(0!==n.length){var i=n[0],r=i.anchor();e.moveTo(r.x,r.y);for(var o=1;o<n.length;o++){r=(i=n[o]).anchor();var a=n[o-1].controlOut(),s=i.controlIn();a&&s?e.bezierCurveTo(a.x,a.y,s.x,s.y,r.x,r.y):e.lineTo(r.x,r.y)}t.options.closed&&e.closePath()}}var cM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),i=t.call(this,e),e&&i.initClip(),i}return _createClass(n,[{key:"initClip",value:function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}},{key:"clear",value:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),_get(_getPrototypeOf(n.prototype),"clear",this).call(this)}},{key:"clearClip",value:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}},{key:"setClip",value:function(e){this.clip&&(e.beginPath(),uM(e,this.clip),e.clip())}},{key:"optionsChange",value:function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}},{key:"setTransform",value:function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}},{key:"loadElements",value:function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],o=r.children,a=new lM[r.nodeType](r,n);o&&o.length>0&&a.load(o,t,n),cA(t)?this.insertAt(a,t):this.append(a)}}},{key:"load",value:function(e,t,n){this.loadElements(e,t,n),this.invalidate()}},{key:"setOpacity",value:function(e){if(this.srcElement){var t=this.srcElement.opacity();cA(t)&&this.globalAlpha(e,t)}}},{key:"globalAlpha",value:function(e,t){var n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n}},{key:"visible",value:function(){var e=this.srcElement;return!e||e&&!1!==e.options.visible}}]),n}(PR),hM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderTo",value:function(e){if(this.visible()){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);for(var t=this.childNodes,n=0;n<t.length;n++){var i=t[n];i.visible()&&i.renderTo(e)}e.restore()}}}]),n}(cM);uR(hM.prototype,"childNodes"),lM.Group=hM;var fM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this)).canvas=e,r.size=i,r.ctx=e.getContext("2d");var o,a,s,l,u=r._invalidate.bind(_assertThisInitialized(r));return r.invalidate=(o=function(){ME(u)},s=0,(l=function(){var e=KE()-s,t=arguments,n=function(){o.apply(null,t),s=KE()};if(!s)return n();a&&clearTimeout(a),e>1e3/60?n():a=setTimeout(n,1e3/60-e)}).cancel=function(){clearTimeout(a)},l),r}return _createClass(n,[{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.canvas=null,this.ctx=null}},{key:"load",value:function(e,t,n){this.loadElements(e,t,n),this._invalidate()}},{key:"_rescale",value:function(){var e=this.canvas,t=this.size,n=1;"number"==typeof window.devicePixelRatio&&(n=window.devicePixelRatio),e.width=t.width*n,e.height=t.height*n,this.ctx.scale(n,n)}},{key:"_invalidate",value:function(){this.ctx&&(this._rescale(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}]),n}(hM);uR(fM.prototype,"childNodes");var dM=fM,pM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).shapes=[],e}return _createClass(n,[{key:"_add",value:function(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}},{key:"pointShapes",value:function(e){for(var t=this.shapes,n=t.length,i=[],r=0;r<n;r++)t[r].bbox.containsPoint(e)&&i.push(t[r].shape);return i}},{key:"insert",value:function(e,t){this._add(e,t)}},{key:"remove",value:function(e){for(var t=this.shapes,n=t.length,i=0;i<n;i++)if(t[i].shape===e){t.splice(i,1);break}}}]),n}(FE),vM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).children=[],i.rect=e,i}return _createClass(n,[{key:"inBounds",value:function(e){var t=this.rect,n=t.bottomRight(),i=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&i.x<=n.x&&i.y<=n.y}},{key:"pointShapes",value:function(e){for(var t=this.children,i=t.length,r=_get(_getPrototypeOf(n.prototype),"pointShapes",this).call(this,e),o=0;o<i;o++)aA(r,t[o].pointShapes(e));return r}},{key:"insert",value:function(e,t){var n=this.children,i=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(var r=0;r<n.length;r++)if(n[r].insert(e,t)){i=!0;break}i||this._add(e,t)}i=!0}return i}},{key:"_initChildren",value:function(){var e=this.rect,t=this.children,i=e.center(),r=e.width()/2,o=e.height()/2;t.push(new n(new JA([e.origin.x,e.origin.y],[r,o])),new n(new JA([i.x,e.origin.y],[r,o])),new n(new JA([e.origin.x,i.y],[r,o])),new n(new JA([i.x,i.y],[r,o])))}}]),n}(pM);function mM(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}var gM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initRoots(),e}return _createClass(n,[{key:"initRoots",value:function(){this.rootMap={},this.root=new pM,this.rootElements=[]}},{key:"clear",value:function(){for(var e=this.rootElements,t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}},{key:"pointShape",value:function(e){var t=(this.rootMap[Math.floor(e.x/3e3)]||{})[Math.floor(e.y/3e3)],n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(mM);for(var i=0;i<n.length;i++)if(n[i].containsPoint(e))return n[i]}},{key:"assignZindex",value:function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=0,r=Math.pow(1e4,75),o=[];n;)o.push(n),n=n.parent;for(;o.length;)i+=(((n=o.pop()).parent?n.parent.children:this.rootElements).indexOf(n)+1)*r,r/=1e4;e[t]._zIndex=i}}},{key:"optionsChange",value:function(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)}},{key:"geometryChange",value:function(e){this.bboxChange(e.element)}},{key:"bboxChange",value:function(e){if("Group"===e.nodeType)for(var t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}},{key:"add",value:function(e){var t=Array.isArray(e)?e.slice(0):[e];aA(this.rootElements,t),this._insert(t)}},{key:"childrenChange",value:function(e){if("remove"===e.action)for(var t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}},{key:"_insert",value:function(e){for(var t;e.length>0;)(t=e.pop()).addObserver(this),"Group"===t.nodeType?aA(e,t.children):this._insertShape(t)}},{key:"_insertShape",value:function(e){var t=e.bbox();if(t){var n=this.getSectors(t),i=n[0][0],r=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{var o=this.rootMap;o[i]||(o[i]={}),o[i][r]||(o[i][r]=new vM(new JA([3e3*i,3e3*r],[3e3,3e3]))),o[i][r].insert(e,t)}}}},{key:"remove",value:function(e){if(e.removeObserver(this),"Group"===e.nodeType)for(var t=e.children,n=0;n<t.length;n++)this.remove(t[n]);else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}},{key:"inRoot",value:function(e){return e[0].length>1||e[1].length>1}},{key:"getSectors",value:function(e){for(var t=e.bottomRight(),n=Math.floor(t.x/3e3),i=Math.floor(t.y/3e3),r=[[],[]],o=Math.floor(e.origin.x/3e3);o<=n;o++)r[0].push(o);for(var a=Math.floor(e.origin.y/3e3);a<=i;a++)r[1].push(a);return r}}]),n}(FE),yM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this,e,i)).element.innerHTML=r._template(_assertThisInitialized(r));var o=r.element.firstElementChild,a=IA(e);return o.width=a.width,o.height=a.height,r._rootElement=o,r._root=new dM(o,a),r._mouseTrackHandler=r._trackMouse.bind(_assertThisInitialized(r)),xA(r.element,{click:r._mouseTrackHandler,mousemove:r._mouseTrackHandler}),r}return _createClass(n,[{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),EA(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}},{key:"draw",value:function(e){_get(_getPrototypeOf(n.prototype),"draw",this).call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}},{key:"clear",value:function(){_get(_getPrototypeOf(n.prototype),"clear",this).call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}},{key:"eventTarget",value:function(e){if(this._searchTree){var t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}},{key:"image",value:function(){var e=this._root,t=this._rootElement,n=[];e.traverse((function(e){e.loading&&n.push(e.loading)}));var i,r=uA(),o=function(){e._invalidate();try{var n=t.toDataURL();r.resolve(n)}catch(i){r.reject(i)}};return(i=n,Promise.all(i)).then(o,o),r}},{key:"suspendTracking",value:function(){_get(_getPrototypeOf(n.prototype),"suspendTracking",this).call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}},{key:"resumeTracking",value:function(){if(_get(_getPrototypeOf(n.prototype),"resumeTracking",this).call(this),!this._searchTree){this._searchTree=new gM;for(var e=this._root.childNodes,t=[],i=0;i<e.length;i++)t.push(e[i].srcElement);this._searchTree.add(t)}}},{key:"_resize",value:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}},{key:"_template",value:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}},{key:"_enableTracking",value:function(){this._searchTree=new gM,this._cursor=new(function(){function e(t){_classCallCheck(this,e),t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}return _createClass(e,[{key:"clear",value:function(){this._resetCursor()}},{key:"destroy",value:function(){this._resetCursor(),delete this.element}},{key:"_mouseenter",value:function(e){var t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}},{key:"_mouseleave",value:function(){this._resetCursor()}},{key:"_shapeCursor",value:function(e){for(var t=e.element;t&&!cA(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}},{key:"_getCursor",value:function(){if(this.element)return this.element.style.cursor}},{key:"_setCursor",value:function(e){this.element&&(this.element.style.cursor=e,this._current=e)}},{key:"_resetCursor",value:function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}]),e}())(this),_get(_getPrototypeOf(n.prototype),"_enableTracking",this).call(this)}},{key:"_trackMouse",value:function(e){if(!this._suspendedTracking){var t=this.eventTarget(e);if("click"!==e.type){var n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}}}]),n}(FR);yM.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(FR.support.canvas=!0,RR.current.register("canvas",yM,20));var kM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderTo",value:function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}},{key:"setFill",value:function(e){var t=this.srcElement.options.fill,n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):kA(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n}},{key:"setGradientFill",value:function(e,t){var n,i=this.srcElement.rawBBox();if(t instanceof bR){var r=t.start(),o=t.end();n=e.createLinearGradient(r.x,r.y,o.x,o.y)}else if(t instanceof CR){var a=t.center();n=e.createRadialGradient(a.x,a.y,0,a.x,a.y,t.radius())}!function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=oA(i.color());r.a*=i.opacity(),e.addColorStop(i.offset(),r.toCssRgba())}}(n,t.stops),e.save(),t.userSpace()||e.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),e.fillStyle=n,e.fill(),e.restore()}},{key:"setStroke",value:function(e){var t=this.srcElement.options.stroke;if(t&&!kA(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=SA(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}},{key:"dashType",value:function(){var e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}},{key:"setLineDash",value:function(e){var t=this.dashType();if(t&&"solid"!==t){var n=nM[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}}},{key:"setLineCap",value:function(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&"solid"!==t?e.lineCap="butt":n&&n.lineCap&&(e.lineCap=n.lineCap)}},{key:"setLineJoin",value:function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}},{key:"renderPoints",value:function(e,t){uM(e,t)}}]),n}(cM);lM.Path=kM;var bM=kM;lM.Arc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderPoints",value:function(e){uM(e,this.srcElement.toPath())}}]),n}(bM),lM.Circle=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),n=t.center,i=t.radius;e.arc(n.x,n.y,i,0,2*Math.PI)}}]),n}(bM),lM.Rect=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),n=t.origin,i=t.size;e.rect(n.x,n.y,i.width,i.height)}}]),n}(bM),lM.Image=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this,e)).onLoad=r.onLoad.bind(_assertThisInitialized(r)),r.onError=r.onError.bind(_assertThisInitialized(r)),r.loading=uA();var o=r.img=new Image;return i&&!/^data:/i.test(e.src())&&(o.crossOrigin=i),o.src=e.src(),o.complete?r.onLoad():(o.onload=r.onLoad,o.onerror=r.onError),r}return _createClass(n,[{key:"renderTo",value:function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}},{key:"optionsChange",value:function(e){"src"===e.field?(this.loading=uA(),this.img.src=this.srcElement.src()):_get(_getPrototypeOf(n.prototype),"optionsChange",this).call(this,e)}},{key:"onLoad",value:function(){this.loading.resolve(),this.invalidate()}},{key:"onError",value:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}},{key:"drawImage",value:function(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}}]),n}(bM),lM.Text=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderTo",value:function(e){var t=this.srcElement,n=t.position(),i=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),n.x,n.y+i.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+i.baseline)),e.restore()}}]),n}(bM),lM.MultiPath=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"renderPoints",value:function(e){for(var t=this.srcElement.paths,n=0;n<t.length;n++)uM(e,t[n])}}]),n}(bM);var wM,CM="undefined"!=typeof Uint8Array&&$E.browser&&(!$E.browser.msie||$E.browser.version>9),_M=(wM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(e){for(var t=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,i=t.length,r=[];n<i;){var o=wM.indexOf(t.charAt(n++)),a=wM.indexOf(t.charAt(n++)),s=wM.indexOf(t.charAt(n++)),l=wM.indexOf(t.charAt(n++)),u=(15&a)<<4|s>>>2,c=(3&s)<<6|l;r.push(o<<2|a>>>4),64!=s&&r.push(u),64!=l&&r.push(c)}return r},encode:function(e){for(var t=0,n=e.length,i="";t<n;){var r=e[t++],o=e[t++],a=e[t++],s=(3&r)<<4|o>>>4,l=(15&o)<<2|a>>>6,u=63&a;t-n==2?l=u=64:t-n==1&&(u=64),i+=wM.charAt(r>>>2)+wM.charAt(s)+wM.charAt(l)+wM.charAt(u)}return i}});function SM(e){var t=0,n=0;null==e?e=CM?new Uint8Array(256):[]:n=e.length;var i=CM?function(t){if(t>=e.length){var n=new Uint8Array(Math.max(t+256,2*e.length));n.set(e,0),e=n}}:function(){},r=CM?function(){return new Uint8Array(e.buffer,0,n)}:function(){return e},o=CM?function(r){if("string"==typeof r)return v(r);var o=r.length;i(t+o),e.set(r,t),(t+=o)>n&&(n=t)}:function(e){if("string"==typeof e)return v(e);for(var t=0;t<e.length;++t)s(e[t])};function a(){return t<n?e[t++]:0}function s(r){i(t),e[t++]=255&r,t>n&&(n=t)}function l(){return a()<<8|a()}function u(e){s(e>>8),s(e)}function c(){return 65536*l()+l()}function h(e){u(e>>>16&65535),u(65535&e)}function f(){var e=c();return e>=2147483648?e-4294967296:e}function d(e){h(e<0?e+4294967296:e)}function p(e){return m(e,a)}function v(e){for(var t=0;t<e.length;++t)s(e.charCodeAt(t))}function m(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=t();return n}var g={eof:function(){return t>=n},readByte:a,writeByte:s,readShort:l,writeShort:u,readLong:c,writeLong:h,readFixed:function(){return c()/65536},writeFixed:function(e){h(Math.round(65536*e))},readShort_:function(){var e=l();return e>=32768?e-65536:e},writeShort_:function(e){u(e<0?e+65536:e)},readLong_:f,writeLong_:d,readFixed_:function(){return f()/65536},writeFixed_:function(e){d(Math.round(65536*e))},read:p,write:o,readString:function(e){return String.fromCharCode.apply(String,p(e))},writeString:v,times:m,get:r,slice:CM?function(t,n){if(e.buffer.slice)return new Uint8Array(e.buffer.slice(t,t+n));var i=new Uint8Array(n);return i.set(new Uint8Array(e.buffer,t,n)),i}:function(t,n){return e.slice(t,t+n)},offset:function(e){return null!=e?(t=e,g):t},skip:function(e){t+=e},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n})),saveExcursion:function(e){var n=t;try{return e()}finally{t=n}},writeBase64:function(e){window.atob?v(window.atob(e)):o(_M.decode(e))},base64:function(){return _M.encode(r())}};return g}function xM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function TM(e){return Object.keys(e).sort((function(e,t){return e-t})).map(parseFloat)}function OM(e){this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort();for(var t=this.tables={},n=0;n<this.tableCount;++n){var i={tag:e.readString(4),checksum:e.readLong(),offset:e.readLong(),length:e.readLong()};t[i.tag]=i}}function IM(e){function t(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}for(var n in t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},e)xM(e,n)&&(t[n]=t.prototype[n]=e[n]);return t}OM.prototype={readTable:function(e,t){var n=this.tables[e];if(!n)throw new Error("Table "+e+" not found in directory");return this[e]=n.table=new t(this,n)},render:function(e){var t=Object.keys(e).length,n=Math.pow(2,Math.floor(Math.log(t)/Math.LN2)),i=16*n,r=Math.floor(Math.log(n)/Math.LN2),o=16*t-i,a=SM();a.writeLong(this.scalerType),a.writeShort(t),a.writeShort(i),a.writeShort(r),a.writeShort(o);var s=16*t,l=a.offset()+s,u=null,c=SM();for(var h in e)if(xM(e,h)){var f=e[h];for(a.writeString(h),a.writeLong(this.checksum(f)),a.writeLong(l),a.writeLong(f.length),c.write(f),"head"==h&&(u=l),l+=f.length;l%4;)c.writeByte(0),l++}a.write(c.get());var d=2981146554-this.checksum(a.get());return a.offset(u+8),a.writeLong(d),a.get()},checksum:function(e){e=SM(e);for(var t=0;!e.eof();)t+=e.readLong();return 4294967295&t}};IM({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_()},render:function(e){var t=SM();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),IM({parse:function(e){e.offset(this.offset),this.offsets=0===this.file.head.indexToLocFormat?e.times(this.length/2,(function(){return 2*e.readShort()})):e.times(this.length/4,e.readLong)},offsetOf:function(e){return this.offsets[e]},lengthOf:function(e){return this.offsets[e+1]-this.offsets[e]},render:function(e){for(var t=SM(),n=e[e.length-1]>65535,i=0;i<e.length;++i)n?t.writeLong(e[i]):t.writeShort(e[i]/2);return{format:n?1:0,table:t.get()}}}),IM({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort()},render:function(e){var t=SM();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),IM({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort()},render:function(e){var t=SM();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),IM({parse:function(e){e.offset(this.offset);var t=this.file;this.metrics=e.times(t.hhea.numOfLongHorMetrics,(function(){return{advance:e.readShort(),lsb:e.readShort_()}})),this.leftSideBearings=e.times(t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,e.readShort_)},forGlyph:function(e){var t=this.metrics,n=t.length;return e<n?t[e]:{advance:t[n-1].advance,lsb:this.leftSideBearings[e-n]}},render:function(e){for(var t=SM(),n=0;n<e.length;++n){var i=this.forGlyph(e[n]);t.writeShort(i.advance),t.writeShort_(i.lsb)}return t.get()}}),function(){function e(e){this.raw=e}function t(e){this.raw=e;for(var t=this.glyphIds=[],n=this.idOffsets=[];;){var i=e.readShort();if(n.push(e.offset()),t.push(e.readShort()),!(32&i))break;e.skip(1&i?4:2),128&i?e.skip(8):64&i?e.skip(4):8&i&&e.skip(2)}}e.prototype={compound:!1,render:function(){return this.raw.get()}},t.prototype={compound:!0,render:function(e){for(var t=SM(this.raw.get()),n=0;n<this.glyphIds.length;++n){var i=this.glyphIds[n];t.offset(this.idOffsets[n]),t.writeShort(e[i])}return t.get()}},IM({parse:function(){this.cache={}},glyphFor:function(n){var i=this.cache;if(xM(i,n))return i[n];var r=this.file.loca,o=r.lengthOf(n);if(0===o)return i[n]=null;var a=this.rawData,s=this.offset+r.offsetOf(n),l=SM(a.slice(s,o)),u=l.readShort_(),c=l.readShort_(),h=l.readShort_(),f=l.readShort_(),d=l.readShort_(),p=i[n]=-1==u?new t(l):new e(l);return p.numberOfContours=u,p.xMin=c,p.yMin=h,p.xMax=f,p.yMax=d,p},render:function(e,t,n){for(var i=SM(),r=[],o=0;o<t.length;++o){var a=e[t[o]];r.push(i.offset()),a&&i.write(a.render(n))}return r.push(i.offset()),{table:i.get(),offsets:r}}})}(),function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}IM({parse:function(t){t.offset(this.offset),t.readShort();for(var n=t.readShort(),i=this.offset+t.readShort(),r=t.times(n,(function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+i}})),o=this.strings={},a=0;a<r.length;++a){var s=r[a];t.offset(s.offset);var l=t.readString(s.length);o[s.nameID]||(o[s.nameID]=[]),o[s.nameID].push(new e(l,s))}this.postscriptEntry=o[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(t){var n=this.strings,i=0;for(var r in n)xM(n,r)&&(i+=n[r].length);var o=SM(),a=SM();for(r in o.writeShort(0),o.writeShort(i),o.writeShort(6+12*i),n)if(xM(n,r))for(var s=6==r?[new e(t,this.postscriptEntry)]:n[r],l=0;l<s.length;++l){var u=s[l];o.writeShort(u.platformID),o.writeShort(u.platformSpecificID),o.writeShort(u.languageID),o.writeShort(u.nameID),o.writeShort(u.length),o.writeShort(a.offset()),a.writeString(u.text)}return o.write(a.get()),o.get()}})}(),EM=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),IM({parse:function(e){var t;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536:case 196608:break;case 131072:t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[];for(var n=this.offset+this.length;e.offset()<n;)this.names.push(e.readString(e.readByte()));break;case 151552:t=e.readShort(),this.offsets=e.read(t);break;case 262144:this.map=e.times(this.file.maxp.numGlyphs,e.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return EM[e]||".notdef";case 131072:var t=this.glyphNameIndex[e];return t<EM.length?EM[t]:this.names[t-EM.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){if(196608==this.format)return this.raw();var t=SM(this.rawData.slice(this.offset,32));t.writeLong(131072),t.offset(32);for(var n=[],i=[],r=0;r<e.length;++r){var o=this.glyphFor(e[r]),a=EM.indexOf(o);a>=0?n.push(a):(n.push(EM.length+i.length),i.push(o))}for(t.writeShort(e.length),r=0;r<n.length;++r)t.writeShort(n[r]);for(r=0;r<i.length;++r)t.writeByte(i[r].length),t.writeString(i[r]);return t.get()}});var EM,AM=function(){function e(e,t,n){var i=this;i.platformID=e.readShort(),i.platformSpecificID=e.readShort(),i.offset=t+e.readLong(),e.saveExcursion((function(){var t;switch(e.offset(i.offset),i.format=e.readShort(),i.format){case 0:i.length=e.readShort(),i.language=e.readShort();for(var r=0;r<256;++r)n[r]=e.readByte();break;case 4:i.length=e.readShort(),i.language=e.readShort();var o=e.readShort()/2;e.skip(6);var a=e.times(o,e.readShort);e.skip(2);var s=e.times(o,e.readShort),l=e.times(o,e.readShort_),u=e.times(o,e.readShort),c=(i.length+i.offset-e.offset())/2,h=e.times(c,e.readShort);for(r=0;r<o;++r){var f=s[r],d=a[r];for(t=f;t<=d;++t){var p;0===u[r]?p=t+l[r]:0!==(p=h[u[r]/2-(o-r)+(t-f)]||0)&&(p+=l[r]),n[t]=65535&p}}break;case 6:i.length=e.readShort(),i.language=e.readShort(),t=e.readShort();for(var v=e.readShort();v-- >0;)n[t++]=e.readShort();break;case 12:e.readShort(),i.length=e.readLong(),i.language=e.readLong();for(var m=e.readLong();m-- >0;){t=e.readLong();for(var g=e.readLong(),y=e.readLong();t<=g;)n[t++]=y++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+i.format)}}))}return IM({parse:function(t){var n=this,i=n.offset;t.offset(i),n.codeMap={},n.version=t.readShort();var r=t.readShort();n.tables=t.times(r,(function(){return new e(t,i,n.codeMap)}))},render:function(e,t){var n=SM();return n.writeShort(0),n.writeShort(1),n.write(function(e,t){var n=TM(e),i=[],r=[],o=null,a=null;function s(n){return t[e[n]]}for(var l=0;l<n.length;++l){var u=n[l],c=s(u)-u;null!=o&&c===a||(o&&r.push(o),i.push(u),a=c),o=u}o&&r.push(o),r.push(65535),i.push(65535);var h=i.length,f=2*h,d=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),p=Math.log(d/2)/Math.LN2,v=f-d,m=[],g=[],y=[];for(l=0;l<h;++l){var k=i[l],b=r[l];if(65535==k){m.push(0),g.push(0);break}var w=s(k);if(k-w>=32768){m.push(0),g.push(2*(y.length+h-l));for(var C=k;C<=b;++C)y.push(s(C))}else m.push(w-k),g.push(0)}var _=SM();return _.writeShort(3),_.writeShort(1),_.writeLong(12),_.writeShort(4),_.writeShort(16+8*h+2*y.length),_.writeShort(0),_.writeShort(f),_.writeShort(d),_.writeShort(p),_.writeShort(v),r.forEach(_.writeShort),_.writeShort(0),i.forEach(_.writeShort),m.forEach(_.writeShort_),g.forEach(_.writeShort),y.forEach(_.writeShort),_.get()}(e,t)),n.get()}})}(),DM=(IM({parse:function(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version>1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()))},render:function(){return this.raw()}}),1e5);function RM(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var e="",t=String(DM),n=0;n<t.length;++n)e+=String.fromCharCode(t.charCodeAt(n)-48+65);return++DM,e}()+"+"+this.font.psName}RM.prototype={use:function(e){var t=this;if("string"==typeof e)return function(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}(e).reduce((function(e,n){return e+String.fromCharCode(t.use(n))}),"");var n=t.unicodes[e];if(!n){n=t.next++,t.subset[n]=e,t.unicodes[e]=n;var i=t.font.cmap.codeMap[e];if(i&&(t.ncid2ogid[n]=i,null==t.ogid2ngid[i])){var r=t.nextGid++;t.ogid2ngid[i]=r,t.ngid2ogid[r]=i}}return n},encodeText:function(e){return this.use(e)},glyphIds:function(){return TM(this.ogid2ngid)},glyphsFor:function(e,t){t||(t={});for(var n=0;n<e.length;++n){var i=e[n];if(!t[i]){var r=t[i]=this.font.glyf.glyphFor(i);r&&r.compound&&this.glyphsFor(r.glyphIds,t)}}return t},render:function(){var e=this.glyphsFor(this.glyphIds());for(var t in e)if(xM(e,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t])){var n=this.nextGid++;this.ogid2ngid[t]=n,this.ngid2ogid[n]=t}var i=TM(this.ngid2ogid).map((function(e){return this.ngid2ogid[e]}),this),r=this.font,o=r.glyf.render(e,i,this.ogid2ngid),a=r.loca.render(o.offsets);this.lastChar=this.next-1;var s={cmap:AM.render(this.ncid2ogid,this.ogid2ngid),glyf:o.table,loca:a.table,hmtx:r.hmtx.render(i),hhea:r.hhea.render(i),maxp:r.maxp.render(i),post:r.post.render(i),name:r.name.render(this.psName),head:r.head.render(a.format),"OS/2":r.os2.render()};return this.font.directory.render(s)},cidToGidMap:function(){for(var e=SM(),t=0,n=this.firstChar;n<this.next;++n){for(;t<n;)e.writeShort(0),t++;var i=this.ncid2ogid[n];e.writeShort(i?this.ogid2ngid[i]:0),t++}return e.get()}};var MM=n("wSl+").deflate,FM=($E.browser,"\n"),PM=0,zM={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function NM(e,t,n){for(;e.length<t;)e=n+e;return e}function LM(e,t){return NM(String(e),t,"0")}function jM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var VM=Array.isArray||function(e){return e instanceof Array};function BM(e){return e instanceof Date}function HM(e,t){t("["),e.length>0&&t.withIndent((function(){for(var n=0;n<e.length;++n)n>0&&n%8==0?t.indent(e[n]):t(" ",e[n])})),t(" ]")}function GM(e,t){t("(D:",LM(e.getUTCFullYear(),4),LM(e.getUTCMonth()+1,2),LM(e.getUTCDate(),2),LM(e.getUTCHours(),2),LM(e.getUTCMinutes(),2),LM(e.getUTCSeconds(),2),"Z)")}function UM(e){return e*(72/25.4)}function WM(e){return UM(10*e)}function qM(e){return 72*e}function $M(e,t){if("number"==typeof e)return e;var n;if("string"==typeof e&&(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e))){var i=parseFloat(n[1]);if(!isNaN(i))return"pt"==n[2]?i:{mm:UM,cm:WM,in:qM}[n[2]](i)}if(null!=t)return t;throw new Error("Can't parse unit: "+e)}function KM(){}function ZM(e,t,n){for(var i in n||(n=KM),e.prototype=new n,t)jM(t,i)&&(e.prototype[i]=t[i]);return e}KM.prototype.beforeRender=function(){};var YM=ZM((function(e,t){this.value=e,this.utf16be=Boolean(t)}),{render:function(e){var t=this.value;t.length>0&&(t=this.value.replace(/([\(\)\\])/g,"\\$1"),this.utf16be&&(t="\xfe\xff"+function(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<65535)t+=yA(i);else{var r=56320+(i-65536&1023);t+=yA(55296+(i-65536>>10)),t+=yA(r)}}return t}(t))),e("(",t,")")},toString:function(){return this.value}}),QM=ZM((function(e){this.value=e}),{render:function(e){e("<");for(var t=0;t<this.value.length;++t)e(LM(this.value.charCodeAt(t).toString(16),4));e(">")}},YM),JM=ZM((function(e){this.name=e}),{render:function(e){e("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,(function(e){return"#"+LM(e.charCodeAt(0).toString(16),2)}))},toString:function(){return this.name}}),XM={};function eF(e){return jM(XM,e)?XM[e]:XM[e]=new JM(e)}JM.get=eF;var tF=ZM((function(e){this.props=e}),{render:function(e){var t=this.props,n=!0;e("<<"),e.withIndent((function(){for(var i in t)jM(t,i)&&!/^_/.test(i)&&(n=!1,e.indent(eF(i)," ",t[i]))})),n||e.indent(),e(">>")}}),nF=ZM((function(e,t,n){if("string"==typeof e){var i=SM();i.write(e),e=i}this.data=e,this.props=t||{},this.compress=n}),{render:function(e){var t=this.data.get(),n=this.props;this.compress&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(eF("FlateDecode")),t=MM(t)),n.Length=t.length,e(new tF(n)," stream",FM),e.writeData(t),e(FM,"endstream")}});ZM((function(){this.props={Type:eF("Catalog")}}),{setPages:function(e){this.props.Pages=e}},tF),ZM((function(){this.props={Type:eF("Pages"),Kids:[],Count:0}}),{addPage:function(e){this.props.Kids.push(e),this.props.Count++}},tF),ZM((function(e){this.props={Type:eF("Font"),Subtype:eF("Type1"),BaseFont:eF(e)},this._resourceName=eF("F"+ ++PM)}),{encodeText:function(e){return new YM(String(e))}},tF);var iF=ZM((function(e,t,n){(n=this.props=n||{}).Type=eF("Font"),n.Subtype=eF("Type0"),n.Encoding=eF("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=eF("F"+ ++PM);var i=t.head;this.name=t.psName;var r=this.scale=t.scale;this.bbox=[i.xMin*r,i.yMin*r,i.xMax*r,i.yMax*r],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*r,this.descent=t.descent*r,this.lineGap=t.lineGap*r,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}),{encodeText:function(e){return new QM(this._sub.encodeText(String(e)))},getTextWidth:function(e,t){for(var n=0,i=this._font.cmap.codeMap,r=0;r<t.length;++r){var o=i[t.charCodeAt(r)];n+=this._font.widthOfGlyph(o||0)}return n*e/1e3},beforeRender:function(){var e=this,t=e._sub,n=t.render(),i=new nF(SM(n),{Length1:n.length},!0),r=e._pdf.attach(new tF({Type:eF("FontDescriptor"),FontName:eF(e._sub.psName),FontBBox:e.bbox,Flags:e.flags,StemV:e.stemV,ItalicAngle:e.italicAngle,Ascent:e.ascent,Descent:e.descent,CapHeight:e.capHeight,XHeight:e.xHeight,FontFile2:e._pdf.attach(i)})),o=t.ncid2ogid,a=t.firstChar,s=t.lastChar,l=[];!function t(n,i){if(n<=s){var r=o[n];null==r?t(n+1):(i||l.push(n,i=[]),i.push(e._font.widthOfGlyph(r)),t(n+1,i))}}(a);var u=new tF({Type:eF("Font"),Subtype:eF("CIDFontType2"),BaseFont:eF(e._sub.psName),CIDSystemInfo:new tF({Registry:new YM("Adobe"),Ordering:new YM("Identity"),Supplement:0}),FontDescriptor:r,FirstChar:a,LastChar:s,DW:Math.round(e._font.widthOfGlyph(0)),W:l,CIDToGIDMap:e._pdf.attach(e._makeCidToGidMap())}),c=e.props;c.BaseFont=eF(e._sub.psName),c.DescendantFonts=[e._pdf.attach(u)];var h=new rF(a,s,t.subset),f=new nF(function(){var e=0,t=SM();function n(){for(var e=0;e<arguments.length;++e){var i=arguments[e];if(void 0===i)throw new Error("Cannot output undefined to PDF");if(i instanceof KM)i.beforeRender(n),i.render(n);else if(VM(i))HM(i,n);else if(BM(i))GM(i,n);else if("number"==typeof i){if(isNaN(i))throw new Error("Cannot output NaN to PDF");var r=i.toFixed(7);r.indexOf(".")>=0&&(r=r.replace(/\.?0+$/,"")),"-0"==r&&(r="0"),t.writeString(r)}else/string|boolean/.test(typeof i)?t.writeString(String(i)):"function"==typeof i.get?t.write(i.get()):"object"==typeof i&&(i?n(new tF(i)):t.writeString("null"))}}return n.writeData=function(e){t.write(e)},n.withIndent=function(t){++e,t(n),--e},n.indent=function(){n(FM,NM("",2*e,"  ")),n.apply(null,arguments)},n.offset=function(){return t.offset()},n.toString=function(){throw new Error("FIX CALLER")},n.get=function(){return t.get()},n.stream=function(){return t},n}(),null,!0);f.data(h),c.ToUnicode=e._pdf.attach(f)},_makeCidToGidMap:function(){return new nF(SM(this._sub.cidToGidMap()),null,!0)}},tF),rF=ZM((function(e,t,n){this.firstChar=e,this.lastChar=t,this.map=n}),{render:function(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent((function(){for(var n=t.firstChar;n<=t.lastChar;++n){var i=[t.map[n]].map((function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)})).join("");e.indent("<",LM(n.toString(16),4),">","<");for(var r=0;r<i.length;++r)e(LM(i.charCodeAt(r).toString(16),4));e(">")}})),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end")}});function oF(e){return e.map((function(e){return VM(e)?oF(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e})).join(" ")}function aF(e,t,n,i,r,o,a){var s=oF([t,n,i,r,o,a]),l=e.GRAD_COL_FUNCTIONS[s];return l||(l=e.GRAD_COL_FUNCTIONS[s]=e.attach(new tF({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,n,i],C1:[r,o,a]}))),l}function sF(e,t,n){var i=oF([t,n]),r=e.GRAD_OPC_FUNCTIONS[i];return r||(r=e.GRAD_OPC_FUNCTIONS[i]=e.attach(new tF({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[n]}))),r}ZM((function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(t=this.props=t||{}).Type=eF("Page"),t.ProcSet=[eF("PDF"),eF("Text"),eF("ImageB"),eF("ImageC"),eF("ImageI")],t.Resources=new tF({Font:new tF(this._fontResources),ExtGState:new tF(this._gsResources),XObject:new tF(this._xResources),Pattern:new tF(this._patResources),Shading:new tF(this._shResources)}),t.Annots=this._annotations}),{_out:function(){this._content.data.apply(null,arguments)},transform:function(e,t,n,i,r,o){hF(arguments)||(this._matrix=cF(arguments,this._matrix),this._out(e," ",t," ",n," ",i," ",r," ",o," cm"),this._out(FM))},translate:function(e,t){this.transform(1,0,0,1,e,t)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},beginText:function(){this._textMode=!0,this._out("BT",FM)},endText:function(){this._textMode=!1,this._out("ET",FM)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof iF||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",FM)},setTextLeading:function(e){this._requireTextMode(),this._out(e," TL",FM)},setTextRenderingMode:function(e){this._requireTextMode(),this._out(e," Tr",FM)},showText:function(e,t){if(this._requireFont(),e.length>1&&t&&this._font instanceof iF){var n=this._font.getTextWidth(this._fontSize,e);this._out(t/n*100," Tz ")}this._out(this._font.encodeText(e)," Tj",FM)},showTextNL:function(e){this._requireFont(),this._out(this._font.encodeText(e)," '",FM)},addLink:function(e,t){var n=this._toPage({x:t.left,y:t.bottom}),i=this._toPage({x:t.right,y:t.top});this._annotations.push(new tF({Type:eF("Annot"),Subtype:eF("Link"),Rect:[n.x,n.y,i.x,i.y],Border:[0,0,0],A:new tF({Type:eF("Action"),S:eF("URI"),URI:new YM(e)})}))},setStrokeColor:function(e,t,n){this._out(e," ",t," ",n," RG",FM)},setOpacity:function(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e},setStrokeOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",FM)}},setFillColor:function(e,t,n){this._out(e," ",t," ",n," rg",FM)},setFillOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",FM)}},gradient:function(e,t){this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var n,i=function(e,t,n){var i="radial"==t.type,r=function(e,t){var n,i,r,o,a=!1,s=[],l=[],u=[],c=[];for(n=1;n<t.length;++n)l.push(aF(e,(r=t[n-1].color).r,r.g,r.b,(o=(i=t[n]).color).r,o.g,o.b)),(r.a<1||o.a<1)&&(a=!0),u.push(i.offset),c.push(0,1);if(a)for(n=1;n<t.length;++n)s.push(sF(e,(r=t[n-1].color).a,(o=(i=t[n]).color).a));return u.pop(),{hasAlpha:a,colors:h(l),opacities:a?h(s):null};function h(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:u,Encode:c}}}(e,t.stops),o=i?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],a=function(e,t,n,i,r,o){var a,s;if(!o){var l=[t].concat(i);n.forEach((function(e){l.push(e.offset,e.color.r,e.color.g,e.color.b)})),s=oF(l),a=e.GRAD_COL[s]}return a||(a=new tF({Type:eF("Shading"),ShadingType:t?3:2,ColorSpace:eF("DeviceRGB"),Coords:i,Domain:[0,1],Function:r,Extend:[!0,!0]}),e.attach(a),a._resourceName="S"+ ++PM,s&&(e.GRAD_COL[s]=a)),a}(e,i,t.stops,o,r.colors,t.userSpace&&n),s=r.hasAlpha?function(e,t,n,i,r,o){var a,s;if(!o){var l=[t].concat(i);n.forEach((function(e){l.push(e.offset,e.color.a)})),s=oF(l),a=e.GRAD_OPC[s]}return a||(a=new tF({Type:eF("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:eF("Mask"),S:eF("Luminosity"),G:e.attach(new nF("/a0 gs /s0 sh",{Type:eF("XObject"),Subtype:eF("Form"),FormType:1,BBox:o?[o.left,o.top+o.height,o.left+o.width,o.top]:[0,1,1,0],Group:{Type:eF("Group"),S:eF("Transparency"),CS:eF("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:eF("DeviceGray"),Coords:i,Domain:[0,1],ShadingType:t?3:2,Function:r,Extend:[!0,!0]}}}}))}}),e.attach(a),a._resourceName="O"+ ++PM,s&&(e.GRAD_OPC[s]=a)),a}(e,i,t.stops,o,r.opacities,t.userSpace&&n):null;return{hasAlpha:r.hasAlpha,shading:a,opacity:s}}(this._pdf,e,t),r=i.shading._resourceName;this._shResources[r]=i.shading,i.hasAlpha&&(this._gsResources[n=i.opacity._resourceName]=i.opacity,this._out("/"+n+" gs ")),this._out("/"+r+" sh",FM),this.restore()},setDashPattern:function(e,t){this._out(e," ",t," d",FM)},setLineWidth:function(e){this._out(e," w",FM)},setLineCap:function(e){this._out(e," J",FM)},setLineJoin:function(e){this._out(e," j",FM)},setMitterLimit:function(e){this._out(e," M",FM)},save:function(){this._contextStack.push(this._context()),this._out("q",FM)},restore:function(){this._out("Q",FM),this._context(this._contextStack.pop())},moveTo:function(e,t){this._out(e," ",t," m",FM)},lineTo:function(e,t){this._out(e," ",t," l",FM)},bezier:function(e,t,n,i,r,o){this._out(e," ",t," ",n," ",i," ",r," ",o," c",FM)},bezier1:function(e,t,n,i){this._out(e," ",t," ",n," ",i," y",FM)},bezier2:function(e,t,n,i){this._out(e," ",t," ",n," ",i," v",FM)},close:function(){this._out("h",FM)},rect:function(e,t,n,i){this._out(e," ",t," ",n," ",i," re",FM)},ellipse:function(e,t,n,i){function r(t){return e+t}function o(e){return t+e}var a=.5522847498307936;this.moveTo(r(0),o(i)),this.bezier(r(n*a),o(i),r(n),o(i*a),r(n),o(0)),this.bezier(r(n),o(-i*a),r(n*a),o(-i),r(0),o(-i)),this.bezier(r(-n*a),o(-i),r(-n),o(-i*a),r(-n),o(0)),this.bezier(r(-n),o(i*a),r(-n*a),o(i),r(0),o(i))},circle:function(e,t,n){this.ellipse(e,t,n,n)},stroke:function(){this._out("S",FM)},nop:function(){this._out("n",FM)},clip:function(){this._out("W n",FM)},clipStroke:function(){this._out("W S",FM)},closeStroke:function(){this._out("s",FM)},fill:function(){this._out("f",FM)},fillStroke:function(){this._out("B",FM)},drawImage:function(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",FM))},comment:function(e){var t=this;e.split(/\r?\n/g).forEach((function(e){t._out("% ",e,FM)}))},_context:function(e){if(null==e)return{opacity:this._opacity,matrix:this._matrix};this._opacity=e.opacity,this._matrix=e.matrix},_toPage:function(e){var t=this._matrix;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},tF);var lF={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function uF(e,t){e=e.toLowerCase(),lF[e]=function(){return lF[t]},lF[e+"|bold"]=function(){return lF[t+"|bold"]},lF[e+"|italic"]=function(){return lF[t+"|italic"]},lF[e+"|bold|italic"]=function(){return lF[t+"|bold|italic"]}}function cF(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3];return[n*l+i*c,n*u+i*h,r*l+o*c,r*u+o*h,a*l+s*c+t[4],a*u+s*h+t[5]]}function hF(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}uF("Times New Roman","serif"),uF("Courier New","monospace"),uF("Arial","sans-serif"),uF("Helvetica","sans-serif"),uF("Verdana","sans-serif"),uF("Tahoma","sans-serif"),uF("Georgia","sans-serif"),uF("Monaco","monospace"),uF("Andale Mono","monospace");var fF=$E.browser||{};function dF(e){return Array.prototype.slice.call(e)}var pF={},vF=function(){var e={};return e._root=e,e}(),mF=!("undefined"==typeof window)&&(fF.msie||fF.edge),gF=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i.getOrigin(),r))._pdfRect=i,o}return _createClass(n,[{key:"rect",value:function(){return this._pdfRect}},{key:"rawBBox",value:function(){return this._pdfRect}}]),n}(aR);function yF(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var kF,bF="undefined"!=typeof Element&&Element.prototype&&((kF=Element.prototype).matches?function(e,t){return e.matches(t)}:kF.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:kF.mozMatchesSelector?function(e,t){return e.mozMatchesSelector(t)}:kF.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)});function wF(e,t){if(e.closest)return e.closest(t);for(;e&&!/^\[object (?:HTML)?Document\]$/.test(String(e));){if(1==e.nodeType&&bF(e,t))return e;e=e.parentNode}}var CF=function(e){return e?function t(n){var i=n.cloneNode(!1);if(1==n.nodeType){var r,o=e(n),a=e(i),s=o.data();for(r in s)a.data(r,s[r]);for(/^canvas$/i.test(n.tagName)?i.getContext("2d").drawImage(n,0,0):/^(?:input|select|textarea|option)$/i.test(n.tagName)&&(i.removeAttribute("id"),i.removeAttribute("name"),/^textarea$/i.test(n.tagName)||(i.value=n.value),i.checked=n.checked,i.selected=n.selected),r=n.firstChild;r;r=r.nextSibling)i.appendChild(t(r))}return i}:function(e){var t=function e(t){var n=t.cloneNode(!1);t._kendoExportVisual&&(n._kendoExportVisual=t._kendoExportVisual);for(var i=t.firstChild;i;i=i.nextSibling)n.appendChild(e(i));return n}(e),n=e.querySelectorAll("canvas");n.length&&dF(t.querySelectorAll("canvas")).forEach((function(e,t){e.getContext("2d").drawImage(n[t],0,0)}));var i=e.querySelectorAll("input, select, textarea, option");return dF(t.querySelectorAll("input, select, textarea, option")).forEach((function(e,t){e.removeAttribute("id"),e.removeAttribute("name"),/^textarea$/i.test(e.tagName)||(e.value=i[t].value),e.checked=i[t].checked,e.selected=i[t].selected})),t}}("undefined"!=typeof window&&window.kendo&&window.kendo.jQuery);function _F(e,t){t||(t={});var n=uA();if(!e)return n.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");!function e(t,n){if(1==arguments.length)for(var i in t)jM(t,i)&&e(i,t[i]);else switch(t=t.toLowerCase(),lF[t]=n,t){case"dejavu sans":lF["sans-serif"]=n;break;case"dejavu sans|bold":lF["sans-serif|bold"]=n;break;case"dejavu sans|italic":lF["sans-serif|italic"]=n;break;case"dejavu sans|bold|italic":lF["sans-serif|bold|italic"]=n;break;case"dejavu serif":lF.serif=n;break;case"dejavu serif|bold":lF["serif|bold"]=n;break;case"dejavu serif|italic":lF["serif|italic"]=n;break;case"dejavu serif|bold|italic":lF["serif|bold|italic"]=n;break;case"dejavu mono":lF.monospace=n;break;case"dejavu mono|bold":lF["monospace|bold"]=n;break;case"dejavu mono|italic":lF["monospace|italic"]=n;break;case"dejavu mono|bold|italic":lF["monospace|bold|italic"]=n}}(EF(e.ownerDocument));var i,r="number"==typeof(i=t.scale||1)?{x:i,y:i}:Array.isArray(i)?{x:i[0],y:i[1]}:{x:i.x,y:i.y};function o(e){var n,i,o=new hR,a=e.getBoundingClientRect();return ZF(o,[r.x,0,0,r.y,-a.left*r.x,-a.top*r.y]),vF._clipbox=!1,vF._matrix=WA.unit(),vF._stackingContext={element:e,group:o},vF._avoidLinks=!0===t.avoidLinks?"a":t.avoidLinks,i="k-pdf-export",(n=e).classList?n.classList.add(i):n.className+=" "+i,uP(e,o),function(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).reduce((function(e,n){return n!=t&&e.push(n),e}),[]).join(" ")}(e,"k-pdf-export"),o}return zF(e,(function(){var i=t&&t.forcePageBreak,a=t&&t.paperSize&&"auto"!=t.paperSize,s=function(e){if("function"!=typeof e){var t=e;e=function(e,n){return e in t?t[e]:n}}var n=e("paperSize",zM.a4);if(!n)return{};if("string"==typeof n&&null==(n=zM[n.toLowerCase()]))throw new Error("Unknown paper size");n[0]=$M(n[0]),n[1]=$M(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var i=e("margin");return i&&(i="string"==typeof i||"number"==typeof i?{left:i=$M(i,0),top:i,right:i,bottom:i}:{left:$M(i.left,0),top:$M(i.top,0),right:$M(i.right,0),bottom:$M(i.bottom,0)},e("addMargin")&&(n[0]+=i.left+i.right,n[1]+=i.top+i.bottom)),{paperSize:n,margin:i}}((function(e,n){return"paperSize"==e?a?t[e]:"A4":e in t?t[e]:n})),l=a&&s.paperSize[0],u=a&&s.paperSize[1],c=t.margin&&s.margin,h=Boolean(c);if(i||u){c||(c={left:0,top:0,right:0,bottom:0}),l&&(l/=r.x),u&&(u/=r.y),c.left/=r.x,c.right/=r.x,c.top/=r.y,c.bottom/=r.y;var f=new hR({pdf:{multiPage:!0,paperSize:a?s.paperSize:"auto",_ignoreMargin:h}});!function(e,t,n,i,r,o,a){var s=function(e){if(null!=e)return"string"==typeof e&&(e=function(){throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.")}(e.replace(/^\s+|\s+$/g,""))),"function"==typeof e?function(t){var n=e(t);if(n&&"string"==typeof n){var i=document.createElement("div");i.innerHTML=n,n=i.firstElementChild}return n}:function(){return e.cloneNode(!0)}}(a.template),l=t.ownerDocument,u=[],c=a._destructive?t:CF(t),h=l.createElement("KENDO-PDF-DOCUMENT"),f=0;function d(){("-"!=n||r)&&function e(t){if("TABLE"==t.tagName&&yF(t,{tableLayout:"fixed"}),!p(t)){var i=BF(t),o=parseFloat(HF(i,"padding-bottom")),a=parseFloat(HF(i,"border-bottom-width")),s=f;f+=o+a;for(var l=!0,u=t.firstChild;u;u=u.nextSibling)if(1==u.nodeType){if(l=!1,bF(u,n)){v(u);continue}if(!r){e(u);continue}if(!/^(?:static|relative)$/.test(HF(BF(u),"position")))continue;var c=g(u);1==c||c&&p(u)?v(u):e(u)}else 3==u.nodeType&&r&&(y(u,l),l=!1);f=s}}(c);var t=m();c.parentNode.insertBefore(t,c),t.appendChild(c),s&&u.forEach((function(e,t){var n=s({element:e,pageNum:t+1,totalPages:u.length});n&&e.appendChild(n)})),zF(u,(function(){!function(e,t){var n=0;function i(){--n<=0&&t()}e.forEach((function(e){for(var t=e.querySelectorAll("img"),r=0;r<t.length;++r){var o=t[r];o.complete||(n++,o.onload=o.onerror=i)}})),n||i()}(u,(function(){e({pages:u,container:h})}))}))}function p(e){return!!(a.keepTogether&&bF(e,a.keepTogether)&&e.offsetHeight<=r-f)||!(/^h[1-6]$/i.test(e.tagName)&&e.offsetHeight>=r-f)&&(e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName))}function v(e){if(1==e.nodeType&&e!==c&&function(e){var t=e.parentNode,n=t.firstChild;if(e===n)return!0;if(e===t.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}(e))return v(e.parentNode);var t,n,i,r,o;n=(t=wF(e,"table"))&&t.querySelector("colgroup"),a.repeatHeaders&&(i=t&&t.querySelector("thead"),(r=wF(e,".k-grid.k-widget"))&&r.querySelector(".k-auto-scrollable")&&(o=r.querySelector(".k-grid-header")));var s=m(),u=l.createRange();u.setStartBefore(c),u.setEndBefore(e),s.appendChild(u.extractContents()),c.parentNode.insertBefore(s,c),k(e.parentNode),t&&(t=wF(e,"table"),a.repeatHeaders&&i&&t.insertBefore(i.cloneNode(!0),t.firstChild),n&&t.insertBefore(n.cloneNode(!0),t.firstChild)),a.repeatHeaders&&o&&(r=wF(e,".k-grid.k-widget")).insertBefore(o.cloneNode(!0),r.firstChild)}function m(){var e=l.createElement("KENDO-PDF-PAGE");return yF(e,{display:"block",boxSizing:"content-box",width:i?i+"px":"auto",padding:o.top+"px "+o.right+"px "+o.bottom+"px "+o.left+"px",position:"relative",height:r?r+"px":"auto",overflow:r||i?"hidden":"visible",clear:"both"}),a&&a.pageClassName&&(e.className=a.pageClassName),u.push(e),e}function g(e){var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return 0;var n=c.getBoundingClientRect().top,i=r-f;return t.height>i?3:t.top-n>i?1:t.bottom-n>i?2:0}function y(e,t){if(/\S/.test(e.data)){var n=e.data.length,i=l.createRange();i.selectNodeContents(e);var r=g(i);if(r){var o=e;if(1==r)v(t?e.parentNode:e);else if(function t(n,r,o){return i.setEnd(e,r),n==r||r==o?r:g(i)?t(n,n+r>>1,r):t(r,r+o>>1,o)}(0,n>>1,n),!/\S/.test(i.toString())&&t)v(e.parentNode);else{o=e.splitText(i.endOffset);var a=m();i.setStartBefore(c),a.appendChild(i.extractContents()),c.parentNode.insertBefore(a,c),k(o.parentNode)}y(o)}}}function k(e){var t=wF(e,"li");t&&(t.setAttribute("kendo-no-bullet","1"),k(t.parentNode))}dF(c.querySelectorAll("tfoot")).forEach((function(e){e.parentNode.appendChild(e)})),dF(c.querySelectorAll("ol")).forEach((function(e){dF(e.children).forEach((function(e,t){e.setAttribute("kendo-split-index",t)}))})),yF(h,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),i&&(yF(h,{width:i+"px",paddingLeft:o.left+"px",paddingRight:o.right+"px"}),yF(c,{overflow:"hidden"})),t.parentNode.insertBefore(h,t),h.appendChild(c),a.beforePageBreak?setTimeout((function(){a.beforePageBreak(h,d)}),15):setTimeout(d,15)}((function(e){if(t.progress){var i=!1,r=0;!function a(){if(r<e.pages.length){var s=o(e.pages[r]);f.append(s),t.progress({page:s,pageNum:++r,totalPages:e.pages.length,cancel:function(){i=!0}}),i?e.container.parentNode.removeChild(e.container):setTimeout(a)}else e.container.parentNode.removeChild(e.container),n.resolve(f)}()}else e.pages.forEach((function(e){f.append(o(e))})),e.container.parentNode.removeChild(e.container),n.resolve(f)}),e,i,l?l-c.left-c.right:null,u?u-c.top-c.bottom:null,c,t)}else n.resolve(o(e))})),n}_F.getFontFaces=EF,_F.drawText=function(e){var t=new hR;return vF._clipbox=!1,vF._matrix=WA.unit(),vF._stackingContext={element:e,group:t},LF(e,BF(e),t),3==e.firstChild.nodeType?lP(e,e.firstChild,t):oP(e,t),jF(),t};var SF,xF=function(){var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,n=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,r=/^([-0-9.]+(deg|grad|rad|turn)|0)/,o=/^(\s+)/,a=/^(\()/,s=/^(\))/,l=/^(,)/,u=/^(url)\(/,c=/^(.*?)\)/,h={},f={};function d(f){var d,p=f;if(AF(h,p))return h[p];function v(e){!function(){var e=o.exec(f);e&&(f=f.substr(e[1].length))}();var t=e.exec(f);if(t)return f=f.substr(t[1].length),t[1]}function m(){var e,i,r=oA(f,!0);if(r){var o=/^#[0-9a-f]+/i.exec(f)||/^rgba?\(.*?\)/i.exec(f)||/^..*?\b/.exec(f);return f=f.substr(o[0].length),r=r.toRGB(),(e=v(n))||(i=v(t)),{color:r,length:e,percent:i}}}return(d=v(e))?d=function(e){var n,o,u,c=[],h=!1;if(v(a)){if("0"==(n=v(r))&&(n="0deg"),n?(n=function(e){var t=parseFloat(e);return/grad$/.test(e)?Math.PI*t/200:/rad$/.test(e)?t:/turn$/.test(e)?Math.PI*t*2:/deg$/.test(e)?Math.PI*t/180:void 0}(n),v(l)):("to"==(o=v(i))?o=v(i):o&&/^-/.test(e)&&(h=!0),u=v(i),v(l)),/-moz-/.test(e)&&null==n&&null==o){var d=v(t),p=v(t);h=!0,"0%"==d?o="left":"100%"==d&&(o="right"),"0%"==p?u="top":"100%"==p&&(u="bottom"),v(l)}for(;f&&!v(s);){var g=m();if(!g)break;c.push(g),v(l)}return{type:"linear",angle:n,to:o&&u?o+" "+u:o||u||null,stops:c,reverse:h}}}(d):(d=v(u))&&(d=function(){if(v(a)){var e=v(c);return e=e.replace(/^['"]+|["']+$/g,""),v(s),{type:"url",url:e}}}()),h[p]=d||{type:"none"}}return function(e){return AF(f,e)?f[e]:f[e]=TF(e).map(d)}}(),TF=(SF={},function(e,t){t||(t=/^\s*,\s*/);var n=e+t;if(AF(SF,n))return SF[n];var i,r=[],o=0,a=0,s=0,l=!1;function u(t){return i=t.exec(e.substr(a))}function c(e){return e.replace(/^\s+|\s+$/g,"")}for(;a<e.length;)!l&&u(/^[\(\[\{]/)?(s++,a++):!l&&u(/^[\)\]\}]/)?(s--,a++):!l&&u(/^[\"\']/)?(l=i[0],a++):"'"==l&&u(/^\\\'/)||'"'==l&&u(/^\\\"/)?a+=2:"'"==l&&u(/^\'/)||'"'==l&&u(/^\"/)?(l=!1,a++):u(t)?(!l&&!s&&a>o&&(r.push(c(e.substring(o,a))),o=a+i[0].length),a+=i[0].length):a++;return o<a&&r.push(c(e.substring(o,a))),SF[n]=r}),OF=function(e){return function(t){var n,i=e[t];return i||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))||(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t)))&&(i=e[t]=n[2]),i}}(Object.create(null)),IF=function(e){return function(t){var n=e[t];return null==n&&(n=e[t]=NA("Mapq",{font:t}).height),n}}(Object.create(null));function EF(e){null==e&&(e=document);for(var t={},n=0;n<e.styleSheets.length;++n)i(e.styleSheets[n]);return t;function i(e){if(e){var t=null;try{t=e.cssRules}catch(n){}t&&function(e,t){for(var n=0;n<t.length;++n){var a=t[n];switch(a.type){case 3:i(a.styleSheet);break;case 5:var s=a.style,l=TF(HF(s,"font-family")),u=/^([56789]00|bold)$/i.test(HF(s,"font-weight")),c="italic"==HF(s,"font-style"),h=r(a);h.length>0&&o(e,l,u,c,h[0])}}}(e,t)}}function r(e){var t=HF(e.style,"src");if(t)return TF(t).reduce((function(e,t){var n=OF(t);return n&&e.push(n),e}),[]);var n=OF(e.cssText);return n?[n]:[]}function o(e,n,i,r,o){/^data:/i.test(o)||/^[^\/:]+:\/\//.test(o)||/^\//.test(o)||(o=String(e.href).replace(/[^\/]*$/,"")+o),n.forEach((function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),i&&(e+="|bold"),r&&(e+="|italic"),t[e]=o}))}}function AF(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function DF(e,t){var n=vF;for(e="_counter_"+e;n&&!AF(n,e);)n=Object.getPrototypeOf(n);n||(n=vF._root),n[e]=(n[e]||0)+(null==t?1:t)}function RF(e,t){vF[e="_counter_"+e]=null==t?0:t}function MF(e,t,n){for(var i=0;i<e.length;){var r=e[i++],o=parseFloat(e[i]);isNaN(o)?t(r,n):(t(r,o),++i)}}function FF(e){var t=HF(e,"counter-reset");t&&MF(TF(t,/^\s+/),RF,0);var n=HF(e,"counter-increment");n&&MF(TF(n,/^\s+/),DF,1)}function PF(e,t){var n=oA(e,!0);return n&&(n=n.toRGB(),t?n=n.toCssRgba():0===n.a&&(n=null)),n}function zF(e,t){var n=[];function i(e){pF[e]||(pF[e]=!0,n.push(e))}function r(e){/^img$/i.test(e.tagName)&&i(e.src),xF(HF(BF(e),"background-image")).forEach((function(e){"url"==e.type&&i(e.url)})),e.children&&dF(e.children).forEach(r)}Array.isArray(e)?e.forEach(r):r(e);var o=n.length;function a(){--o<=0&&t()}0===o&&a(),n.forEach((function(e){var t=pF[e]=new window.Image;/^data:/i.test(e)||(t.crossOrigin="Anonymous"),t.src=e,t.complete?a():(t.onload=a,t.onerror=function(){pF[e]=null,a()})}))}function NF(e){var t="";do{t=String.fromCharCode(97+e%26)+t,e=Math.floor(e/26)}while(e>0);return t}function LF(e,t,n){(vF=Object.create(vF))[e.tagName.toLowerCase()]={element:e,style:t};var i=HF(t,"text-decoration");if(i&&"none"!=i){var r=HF(t,"color");i.split(/\s+/g).forEach((function(e){vF[e]||(vF[e]=r)}))}(function(e){function t(t){return HF(e,t)}if("none"!=t("transform")||"static"!=t("position")||"auto"!=t("z-index")||t("opacity")<1)return!0})(t)&&(vF._stackingContext={element:e,group:n})}function jF(){vF=Object.getPrototypeOf(vF)}function VF(e){if(null!=vF._clipbox){var t=e.bbox(vF._matrix);vF._clipbox=vF._clipbox?JA.intersect(vF._clipbox,t):t}}function BF(e,t){return window.getComputedStyle(e,t||null)}function HF(e,t,n){var i=e.getPropertyValue(t);return null!=i&&""!==i||(fF.webkit?i=e.getPropertyValue("-webkit-"+t):fF.mozilla?i=e.getPropertyValue("-moz-"+t):fF.opera?i=e.getPropertyValue("-o-"+t):mF&&(i=e.getPropertyValue("-ms-"+t))),arguments.length>2&&(null==i||""===i)?n:i}function GF(e,t,n,i){e.setProperty(t,n,i),fF.webkit?e.setProperty("-webkit-"+t,n,i):fF.mozilla?e.setProperty("-moz-"+t,n,i):fF.opera?e.setProperty("-o-"+t,n,i):mF&&(e.setProperty("-ms-"+t,n,i),e[t="ms"+t.replace(/(^|-)([a-z])/g,(function(e,t,n){return t+n.toUpperCase()}))]=n)}function UF(e,t){return t="border-"+t,{width:parseFloat(HF(e,t+"-width")),style:HF(e,t+"-style"),color:PF(HF(e,t+"-color"),!0)}}function WF(e,t){var n=e.style.cssText,i=t();return e.style.cssText=n,i}function qF(e,t){var n=HF(e,"border-"+t+"-radius").split(/\s+/g).map(parseFloat);return 1==n.length&&n.push(n[0]),JF({x:n[0],y:n[1]})}function $F(e,t,n){var i,r,o,a,s;return"string"==typeof t?(i=BF(n),r=parseFloat(HF(i,t.replace("*","top"))),o=parseFloat(HF(i,t.replace("*","right"))),a=parseFloat(HF(i,t.replace("*","bottom"))),s=parseFloat(HF(i,t.replace("*","left")))):"number"==typeof t&&(r=o=a=s=t),{top:e.top+r,right:e.right-o,bottom:e.bottom-a,left:e.left+s,width:e.right-e.left-o-s,height:e.bottom-e.top-a-r}}function KF(e){return 180*e/Math.PI%360}function ZF(e,t){return t=new WA(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function YF(e,t){e.clip(t)}function QF(e,t,n,i){for(var r=new wD([t,n],i).curvePoints(),o=1;o<r.length;)e.curveTo(r[o++],r[o++],r[o++])}function JF(e){return(e.x<=0||e.y<=0)&&(e.x=e.y=0),e}function XF(e,t,n,i,r){var o=Math.max(0,t.x),a=Math.max(0,t.y),s=Math.max(0,n.x),l=Math.max(0,n.y),u=Math.max(0,i.x),c=Math.max(0,i.y),h=Math.max(0,r.x),f=Math.max(0,r.y),d=Math.min(e.width/(o+s),e.height/(l+c),e.width/(u+h),e.height/(f+a));return d<1&&(o*=d,a*=d,s*=d,l*=d,u*=d,c*=d,h*=d,f*=d),{tl:{x:o,y:a},tr:{x:s,y:l},br:{x:u,y:c},bl:{x:h,y:f}}}function eP(e,t,n){var i=BF(e),r=qF(i,"top-left"),o=qF(i,"top-right"),a=qF(i,"bottom-left"),s=qF(i,"bottom-right");if("padding"==n||"content"==n){var l=UF(i,"top"),u=UF(i,"right"),c=UF(i,"bottom"),h=UF(i,"left");if(r.x-=h.width,r.y-=l.width,o.x-=u.width,o.y-=l.width,s.x-=u.width,s.y-=c.width,a.x-=h.width,a.y-=c.width,"content"==n){var f=parseFloat(HF(i,"padding-top")),d=parseFloat(HF(i,"padding-right")),p=parseFloat(HF(i,"padding-bottom")),v=parseFloat(HF(i,"padding-left"));r.x-=v,r.y-=f,o.x-=d,o.y-=f,s.x-=d,s.y-=p,a.x-=v,a.y-=p}}return"number"==typeof n&&(r.x-=n,r.y-=n,o.x-=n,o.y-=n,s.x-=n,s.y-=n,a.x-=n,a.y-=n),tP(t,r,o,s,a)}function tP(e,t,n,i,r){var o=XF(e,t,n,i,r),a=o.tl,s=o.tr,l=o.br,u=o.bl,c=new iR({fill:null,stroke:null});return c.moveTo(e.left,e.top+a.y),a.x&&QF(c,e.left+a.x,e.top+a.y,{startAngle:-180,endAngle:-90,radiusX:a.x,radiusY:a.y}),c.lineTo(e.right-s.x,e.top),s.x&&QF(c,e.right-s.x,e.top+s.y,{startAngle:-90,endAngle:0,radiusX:s.x,radiusY:s.y}),c.lineTo(e.right,e.bottom-l.y),l.x&&QF(c,e.right-l.x,e.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),c.lineTo(e.left+u.x,e.bottom),u.x&&QF(c,e.left+u.x,e.bottom-u.y,{startAngle:90,endAngle:180,radiusX:u.x,radiusY:u.y}),c.close()}function nP(e,t){var n=String(parseFloat(e));switch(t){case"decimal-leading-zero":return n.length<2&&(n="0"+n),n;case"lower-roman":return lA(e).toLowerCase();case"upper-roman":return lA(e).toUpperCase();case"lower-latin":case"lower-alpha":return NF(e-1);case"upper-latin":case"upper-alpha":return NF(e-1).toUpperCase();default:return n}}function iP(e){if(e.cssText)return e.cssText;for(var t=[],n=0;n<e.length;++n)t.push(e[n]+": "+HF(e,e[n]));return t.join(";\n")}function rP(e,t){if("KENDO-PSEUDO-ELEMENT"!=e.tagName){var n=[];if(r(":before",e.firstChild),r(":after",null),n.length>0){var i=e.className;e.className+=" kendo-pdf-hide-pseudo-elements",oP(e,t),e.className=i,n.forEach((function(t){e.removeChild(t)}))}else oP(e,t)}else oP(e,t);function r(t,i){var r=BF(e,t),o=r.content;if(FF(r),o&&"normal"!=o&&"none"!=o&&"0px"!=r.width){var a=e.ownerDocument.createElement("KENDO-PSEUDO-ELEMENT");a.style.cssText=iP(r),a.textContent=function(e,t){function n(e,t,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(e){var t=[],n=vF;for(e="_counter_"+e;n;)AF(n,e)&&t.push(n[e]),n=Object.getPrototypeOf(n);return t.reverse()}(e).map((function(e){return nP(e,t)})).join(n)):nP(function(e){return vF[e="_counter_"+e]}(e)||0,t)}var i,r=TF(t,/^\s+/),o=[];return r.forEach((function(t){var r;(i=/^\s*(["'])(.*)\1\s*$/.exec(t))?o.push(i[2].replace(/\\([0-9a-f]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))):(i=/^\s*counter\((.*?)\)\s*$/.exec(t))?(r=TF(i[1]),o.push(n(r[0],r[1]))):(i=/^\s*counters\((.*?)\)\s*$/.exec(t))?(r=TF(i[1]),o.push(n(r[0],r[2],r[1]))):(i=/^\s*attr\((.*?)\)\s*$/.exec(t))?o.push(e.getAttribute(i[1])||""):o.push(t)})),o.join("")}(e,o),e.insertBefore(a,i),n.push(a)}}}function oP(e,t){var n=BF(e),i=UF(n,"top"),r=UF(n,"right"),o=UF(n,"bottom"),a=UF(n,"left"),s=qF(n,"top-left"),l=qF(n,"top-right"),u=qF(n,"bottom-left"),c=qF(n,"bottom-right"),h=HF(n,"direction"),f=HF(n,"background-color");f=PF(f);var d,p,v=xF(HF(n,"background-image")),m=TF(HF(n,"background-repeat")),g=TF(HF(n,"background-position")),y=TF(HF(n,"background-origin")),k=TF(HF(n,"background-size"));mF&&"ellipsis"==(d=n.textOverflow)&&(p=e.style.textOverflow,e.style.textOverflow="clip"),fF.msie&&fF.version<10&&(g=TF(e.currentStyle.backgroundPosition));var b,w,C,_=$F(e.getBoundingClientRect(),"border-*-width",e);!function(){var e=HF(n,"clip"),i=/^\s*rect\((.*)\)\s*$/.exec(e);if(i){var r=i[1].split(/[ ,]+/g),o="auto"==r[0]?_.top:parseFloat(r[0])+_.top,a="auto"==r[1]?_.right:parseFloat(r[1])+_.left,s="auto"==r[2]?_.bottom:parseFloat(r[2])+_.top,l="auto"==r[3]?_.left:parseFloat(r[3])+_.left,u=new hR,c=(new iR).moveTo(l,o).lineTo(a,o).lineTo(a,s).lineTo(l,s).close();YF(u,c),t.append(u),t=u,VF(c)}}();var S=HF(n,"display");if("table-row"==S)for(b=[],w=0,C=e.children;w<C.length;++w)b.push(C[w].getBoundingClientRect());else 1==(b=e.getClientRects()).length&&(b=[e.getBoundingClientRect()]);for(b=function(t){if(/^td$/i.test(e.tagName)){var n=vF.table;if(n&&"collapse"==HF(n.style,"border-collapse")){var i=UF(n.style,"left").width,r=UF(n.style,"top").width;if(0===i&&0===r)return t;var o=n.element.getBoundingClientRect(),a=n.element.rows[0].cells[0].getBoundingClientRect();if(a.top==o.top||a.left==o.left)return dF(t).map((function(e){return{left:e.left+i,top:e.top+r,right:e.right+i,bottom:e.bottom+r,height:e.height,width:e.width}}))}}return t}(b),w=0;w<b.length;++w)I(b[w],0===w,w==b.length-1);if("A"==e.tagName&&e.href&&!/^#?$/.test(e.getAttribute("href"))&&(!vF._avoidLinks||!bF(e,vF._avoidLinks))){var x=document.createRange();x.selectNodeContents(e),dF(x.getClientRects()).forEach((function(n){var i=new hR;i._pdfLink={url:e.href,top:n.top,right:n.right,bottom:n.bottom,left:n.left},t.append(i)}))}return b.length>0&&"list-item"==S&&!e.getAttribute("kendo-no-bullet")&&function(){var i=HF(n,"list-style-type");if("none"!=i){var r=HF(n,"list-style-position");switch(i){case"circle":case"disc":case"square":o((function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[i]}));break;case"decimal":case"decimal-leading-zero":o((function(e){a((function(t){++t,"decimal-leading-zero"==i&&t<10&&(t="0"+t),e.innerHTML=t+"."}))}));break;case"lower-roman":case"upper-roman":o((function(e){a((function(t){t=lA(t+1),"upper-roman"==i&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":o((function(e){a((function(t){t=NF(t),/^upper/i.test(i)&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}))}}function o(n){WF(e,(function(){e.style.position="relative";var i=e.ownerDocument.createElement("KENDO-PSEUDO-ELEMENT");i.style.position="absolute",i.style.boxSizing="border-box","outside"==r?(i.style.width="6em",i.style.left="-6.8em",i.style.textAlign="right"):i.style.left="0px",n(i),e.insertBefore(i,e.firstChild),uP(i,t),e.removeChild(i)}))}function a(t){var n=e.parentNode.children,i=e.getAttribute("kendo-split-index");if(null!=i)return t(0|i,n.length);for(var r=0;r<n.length;++r)if(n[r]===e)return t(r,n.length)}}(),function(){function i(){var n=eP(e,_,"padding"),i=new hR;YF(i,n),t.append(i),t=i,VF(n)}!function(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}(e)?(/^(hidden|auto|scroll)/.test(HF(n,"overflow"))||/^(hidden|auto|scroll)/.test(HF(n,"overflow-x"))||/^(hidden|auto|scroll)/.test(HF(n,"overflow-y")))&&i():i()}(),function(e,t){var n;if(e._kendoExportVisual)n=e._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&e.getAttribute(window.kendo.attr("role"))){var i=window.kendo.widgetInstance(window.kendo.jQuery(e));i&&(i.exportDOMVisual||i.exportVisual)&&(n=i.exportDOMVisual?i.exportDOMVisual():i.exportVisual())}if(!n)return!1;var r=new hR;r.children.push(n);var o=e.getBoundingClientRect();return r.transform(tD().translate(o.left,o.top)),t.append(r),!0}(e,t)||function e(t,n){switch(vF._stackingContext.element===t&&(vF._stackingContext.group=n),t.tagName.toLowerCase()){case"img":aP(t,t.src,n);break;case"canvas":try{aP(t,t.toDataURL("image/png"),n)}catch(u){}break;case"textarea":case"input":case"select":!function(t,n){var i=t.tagName.toLowerCase();if("input"==i&&("checkbox"==t.type||"radio"==t.type))return function(e,t){var n=HF(BF(e),"color"),i=e.getBoundingClientRect();"checkbox"==e.type?(t.append(iR.fromRect(new JA([i.left+1,i.top+1],[i.width-2,i.height-2])).stroke(n,1)),e.checked&&t.append((new iR).stroke(n,1.2).moveTo(i.left+.22*i.width,i.top+.55*i.height).lineTo(i.left+.45*i.width,i.top+.75*i.height).lineTo(i.left+.78*i.width,i.top+.22*i.width))):(t.append(new pD(new sD([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-2,i.height-2)/2)).stroke(n,1)),e.checked&&t.append(new pD(new sD([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-8,i.height-8)/2)).fill(n).stroke(null)))}(t,n);var r,o=t.parentNode,a=t.ownerDocument,s=a.createElement("KENDO-PSEUDO-ELEMENT");if(s.style.cssText=iP(BF(t)),"input"==i&&(s.style.whiteSpace="pre"),"select"!=i&&"textarea"!=i||(s.style.overflow="auto"),"select"==i)if(t.multiple)for(var l=0;l<t.options.length;++l)(r=a.createElement("KENDO-PSEUDO-ELEMENT")).style.cssText=iP(BF(t.options[l])),r.style.display="block",r.textContent=t.options[l].textContent,s.appendChild(r);else(r=function(e){return e.selectedOptions&&e.selectedOptions.length>0?e.selectedOptions[0]:e.options[e.selectedIndex]}(t))&&(s.textContent=r.textContent);else s.textContent=t.value;o.insertBefore(s,t),s.scrollLeft=t.scrollLeft,s.scrollTop=t.scrollTop,t.style.display="none",e(s,n),t.style.display="",o.removeChild(s)}(t,n);break;default:for(var i=[],r=[],o=[],a=t.firstChild;a;a=a.nextSibling)switch(a.nodeType){case 3:/\S/.test(a.data)&&lP(t,a,n);break;case 1:var s=BF(a),l=HF(s,"float");"static"!=HF(s,"position")?o.push(a):"none"!=l?r.push(a):i.push(a)}wA(i,sP).forEach((function(e){uP(e,n)})),wA(r,sP).forEach((function(e){uP(e,n)})),wA(o,sP).forEach((function(e){uP(e,n)}))}}(e,t),mF&&"ellipsis"==d&&(e.style.textOverflow=p),t;function T(e,n,i,r,o,a,s,l){if(!(i<=0)){var u,c=new hR;ZF(c,l),t.append(c),JF(a),JF(s),u=new iR({fill:{color:e},stroke:null}),c.append(u),u.moveTo(a.x?Math.max(a.x,r):0,0).lineTo(n-(s.x?Math.max(s.x,o):0),0).lineTo(n-Math.max(s.x,o),i).lineTo(Math.max(a.x,r),i).close(),a.x&&h(r,a,[-1,0,0,1,a.x,0]),s.x&&h(o,s,[1,0,0,1,n-s.x,0])}function h(t,n,r){var o=Math.PI/2*t/(t+i),a={x:n.x-t,y:n.y-i},s=new iR({fill:{color:e},stroke:null}).moveTo(0,0);ZF(s,r),QF(s,0,n.y,{startAngle:-90,endAngle:-KF(o),radiusX:n.x,radiusY:n.y}),a.x>0&&a.y>0?(s.lineTo(a.x*Math.cos(o),n.y-a.y*Math.sin(o)),QF(s,0,n.y,{startAngle:-KF(o),endAngle:-90,radiusX:a.x,radiusY:a.y,anticlockwise:!0})):a.x>0?s.lineTo(a.x,i).lineTo(0,i):s.lineTo(a.x,i).lineTo(a.x,0),c.append(s.close())}}function O(t,n,i,r,o,a,s){var l;if(i&&"none"!=i)if("url"==i.type){if(/^url\(\"data:image\/svg/i.test(i.url))return;var u=pF[i.url];u&&u.width>0&&u.height>0&&c(t,n,u.width,u.height,(function(e,t){e.append(new lR(i.url,t))}))}else{if("linear"!=i.type)return;c(t,n,n.width,n.height,(l=i,function(e,t){var n=t.width(),i=t.height();switch(l.type){case"linear":var r=null!=l.angle?l.angle:Math.PI;switch(l.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(i,n);break;case"top right":case"right top":r=Math.atan2(i,n);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(i,n);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(i,n)}l.reverse&&(r-=Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI);var o=Math.abs(n*Math.sin(r))+Math.abs(i*Math.cos(r)),a=Math.atan(n*Math.tan(r)/i),s=Math.sin(a),u=Math.cos(a),c=Math.abs(s)+Math.abs(u),h=c/2*s,f=c/2*u;r>Math.PI/2&&r<=3*Math.PI/2&&(h=-h,f=-f);var d=[],p=0,v=l.stops.map((function(e,t){var n=e.percent;n?n=parseFloat(n)/100:e.length?n=parseFloat(e.length)/o:0===t?n=0:t==l.stops.length-1&&(n=1);var i={color:e.color.toCssRgba(),offset:n};return null!=n?(p=n,d.forEach((function(e,t){e.stop.offset=e.left+(p-e.left)*(t+1)/(d.length+1)})),d=[]):d.push({left:p,stop:i}),i})),m=[.5-h,.5+f],g=[.5+h,.5-f];e.append(iR.fromRect(t).stroke(null).fill(new bR({start:m,end:g,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function c(t,n,i,l,u){var c,h=i/l,f=n;if("content-box"==a?(f=$F(f,"border-*-width",e),f=$F(f,"padding-*",e)):"padding-box"==a&&(f=$F(f,"border-*-width",e)),!/^\s*auto(\s+auto)?\s*$/.test(s))if("contain"==s)c=Math.min(f.width/i,f.height/l),i*=c,l*=c;else if("cover"==s)c=Math.max(f.width/i,f.height/l),i*=c,l*=c;else{var d=s.split(/\s+/g);i=/%$/.test(d[0])?f.width*parseFloat(d[0])/100:parseFloat(d[0]),l=1==d.length||"auto"==d[1]?i/h:/%$/.test(d[1])?f.height*parseFloat(d[1])/100:parseFloat(d[1])}var p=String(o);switch(p){case"bottom":p="50% 100%";break;case"top":p="50% 0";break;case"left":p="0 50%";break;case"right":p="100% 50%";break;case"center":p="50% 50%"}1==(p=p.split(/\s+/)).length&&(p[1]="50%"),p[0]=/%$/.test(p[0])?parseFloat(p[0])/100*(f.width-i):parseFloat(p[0]),p[1]=/%$/.test(p[1])?parseFloat(p[1])/100*(f.height-l):parseFloat(p[1]);var v=new JA([f.left+p[0],f.top+p[1]],[i,l]);function m(){for(;v.origin.x>n.left;)v.origin.x-=i}function g(){for(;v.origin.y>n.top;)v.origin.y-=l}function y(){for(;v.origin.x<n.right;)u(t,v.clone()),v.origin.x+=i}if("no-repeat"==r)u(t,v);else if("repeat-x"==r)m(),y();else if("repeat-y"==r)for(g();v.origin.y<n.bottom;)u(t,v.clone()),v.origin.y+=l;else if("repeat"==r){m(),g();for(var k=v.origin.clone();v.origin.y<n.bottom;)v.origin.x=k.x,y(),v.origin.y+=l}}}function I(n,d,p){if(0!==n.width&&0!==n.height){!function(e){var n=new hR;if(YF(n,tP(e,s,l,c,u)),t.append(n),f){var i=new iR({fill:{color:f.toCssRgba()},stroke:null});i.moveTo(e.left,e.top).lineTo(e.right,e.top).lineTo(e.right,e.bottom).lineTo(e.left,e.bottom).close(),n.append(i)}for(var r=v.length;--r>=0;)O(n,e,v[r],m[r%m.length],g[r%g.length],y[r%y.length],k[r%k.length])}(n);var b=a.width>0&&(d&&"ltr"==h||p&&"rtl"==h),w=r.width>0&&(p&&"ltr"==h||d&&"rtl"==h);if(0!==i.width||0!==a.width||0!==r.width||0!==o.width){if(i.color==r.color&&i.color==o.color&&i.color==a.color&&i.width==r.width&&i.width==o.width&&i.width==a.width&&b&&w){n=$F(n,i.width/2);var C=eP(e,n,i.width/2);return C.options.stroke={color:i.color,width:i.width},void t.append(C)}if(0===s.x&&0===l.x&&0===c.x&&0===u.x&&i.width<2&&a.width<2&&r.width<2&&o.width<2)return i.width>0&&t.append(new iR({stroke:{width:i.width,color:i.color}}).moveTo(n.left,n.top+i.width/2).lineTo(n.right,n.top+i.width/2)),o.width>0&&t.append(new iR({stroke:{width:o.width,color:o.color}}).moveTo(n.left,n.bottom-o.width/2).lineTo(n.right,n.bottom-o.width/2)),b&&t.append(new iR({stroke:{width:a.width,color:a.color}}).moveTo(n.left+a.width/2,n.top).lineTo(n.left+a.width/2,n.bottom)),void(w&&t.append(new iR({stroke:{width:r.width,color:r.color}}).moveTo(n.right-r.width/2,n.top).lineTo(n.right-r.width/2,n.bottom)));var _=XF(n,s,l,c,u),S=_.tl,x=_.tr,I=_.br,E=_.bl;T(i.color,n.width,i.width,a.width,r.width,S,x,[1,0,0,1,n.left,n.top]),T(o.color,n.width,o.width,r.width,a.width,I,E,[-1,0,0,-1,n.right,n.bottom]),T(a.color,n.height,a.width,o.width,i.width,A(E),A(S),[0,-1,1,0,n.left,n.bottom]),T(r.color,n.height,r.width,i.width,o.width,A(x),A(I),[0,1,-1,0,n.right,n.top])}}function A(e){return{x:e.y,y:e.x}}}}function aP(e,t,n){var i=function(e){var t=e.getBoundingClientRect();return t=$F(t,"border-*-width",e),$F(t,"padding-*",e)}(e),r=new JA([i.left,i.top],[i.width,i.height]),o=new lR(t,r);YF(o,eP(e,i,"content")),n.append(o)}function sP(e,t){var n=BF(e),i=BF(t),r=parseFloat(HF(n,"z-index")),o=parseFloat(HF(i,"z-index")),a=HF(n,"position"),s=HF(i,"position");return isNaN(r)&&isNaN(o)?/static|absolute/.test(a)&&/static|absolute/.test(s)?0:"static"==a?-1:"static"==s?1:0:isNaN(r)?0===o?0:o>0?-1:1:isNaN(o)?0===r?0:r>0?1:-1:parseFloat(r)-parseFloat(o)}function lP(e,t,n){if(null!=(i=vF._clipbox)&&!(i?0===i.width()||0===i.height():void 0)){var i,r=BF(e);if(!(parseFloat(HF(r,"text-indent"))<-500)){var o=t.data,a=0,s=o.search(/\S\s*$/)+1;if(s){var l=HF(r,"font-size"),u=HF(r,"line-height"),c=[HF(r,"font-style"),HF(r,"font-variant"),HF(r,"font-weight"),l,HF(r,"font-family")].join(" ");if(l=parseFloat(l),u=parseFloat(u),0!==l){var h=HF(r,"color"),f=e.ownerDocument.createRange(),d="justify"==HF(r,"text-align"),p=HF(r,"column-count",1),v=HF(r,"white-space"),m=HF(r,"text-transform"),g=e.getBoundingClientRect().width/l*5;0===g&&(g=500);for(var y=null,k=vF.underline,b=vF["line-through"],w=vF.overline,C=k||b||w;!S(););return void(C&&(f.selectNode(t),dF(f.getClientRects()).forEach((function(e){function t(t,i){if(t){var r=l/12,o=new iR({stroke:{width:r,color:t}});o.moveTo(e.left,i-=r).lineTo(e.right,i),n.append(o)}}t(k,e.bottom),t(b,e.bottom-e.height/2.7),t(w,e.top)}))))}}}}function _(e){if(mF||fF.chrome){for(var t=e.getClientRects(),n={top:1/0,right:-1/0,bottom:-1/0,left:1/0},i=!1,r=0;r<t.length;++r){var o=t[r];o.width<=1||o.bottom===y||(n.left=Math.min(o.left,n.left),n.top=Math.min(o.top,n.top),n.right=Math.max(o.right,n.right),n.bottom=Math.max(o.bottom,n.bottom),i=!0)}return i?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):e.getBoundingClientRect()}return e.getBoundingClientRect()}function S(){var e,i=a,r=o.substr(a).search(/\S/);if(a+=r,r<0||a>=s)return!0;f.setStart(t,a),f.setEnd(t,a+1),e=_(f);var l=!1;if((d||p>1)&&(r=o.substr(a).search(/\s/))>=0){f.setEnd(t,a+r);var k=_(f);k.bottom==e.bottom&&(e=k,l=!0,a+=r)}if(!l){if((r=function n(i,r,o){f.setEnd(t,r);var a=_(f);return a.bottom!=e.bottom&&i<r?n(i,i+r>>1,r):a.right!=e.right?(e=a,r<o?n(r,r+o>>1,o):r):r}(a,Math.min(s,a+g),s))==a)return!0;if(a=r,0===(r=f.toString().search(/\s+$/)))return!1;r>0&&(f.setEnd(t,f.startOffset+r),e=_(f))}mF&&(e=f.getClientRects()[0]);var b=f.toString();if(/^(?:pre|pre-wrap)$/i.test(v)){if(/\t/.test(b)){var w=0;for(r=i;r<f.startOffset;++r){var C=o.charCodeAt(r);9==C?w+=8-w%8:10==C||13==C?w=0:w++}for(;(r=b.search("\t"))>=0;){var S="        ".substr(0,8-(w+r)%8);b=b.substr(0,r)+S+b.substr(r+1)}}}else b=b.replace(/\s+/g," ");l||(y=e.bottom),function(e,t){if(mF&&!isNaN(u)){var i=IF(c),r=(t.top+t.bottom-i)/2;t={top:r,right:t.right,bottom:r+i,left:t.left,height:i,width:t.right-t.left}}switch(m){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))}var o=new gF(e,new JA([t.left,t.top],[t.width,t.height]),{font:c,fill:{color:h}});n.append(o)}(b,e)}}function uP(e,t){var n=BF(e);if(FF(n),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(e.tagName)&&null!=vF._clipbox){var i=parseFloat(HF(n,"opacity")),r=HF(n,"visibility"),o=HF(n,"display");if(0!==i&&"hidden"!=r&&"none"!=o){var a,s=function(e){var t=HF(e,"transform");if("none"==t)return null;var n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(t);if(n){var i=HF(e,"transform-origin");return{matrix:n=n[1].split(/\s*,\s*/g).map(parseFloat),origin:i=i.split(/\s+/g).map(parseFloat)}}}(n),l=HF(n,"z-index");(s||i<1)&&"auto"==l&&(l=0),a=function(e,t,n){var i;"auto"!=n?(i=vF._stackingContext.group,n=parseFloat(n)):(i=t,n=0);for(var r=i.children,o=0;o<r.length&&!(null!=r[o]._dom_zIndex&&r[o]._dom_zIndex>n);++o);var a=new hR;if(i.insert(o,a),a._dom_zIndex=n,i!==t&&vF._clipbox){var s=vF._matrix.invert(),l=vF._clipbox.transformCopy(s);YF(a,iR.fromRect(l))}return a}(0,t,l),i<1&&a.opacity(i*a.opacity()),LF(e,n,a),s?WF(e,(function(){GF(e.style,"transform","none","important"),GF(e.style,"transition","none","important"),"static"==HF(n,"position")&&GF(e.style,"position","relative","important");var t=e.getBoundingClientRect(),i=t.left+s.origin[0],r=t.top+s.origin[1],o=[1,0,0,1,-i,-r];o=cP(o,s.matrix),o=cP(o,[1,0,0,1,i,r]),o=ZF(a,o),vF._matrix=vF._matrix.multiplyCopy(o),rP(e,a)})):rP(e,a),jF()}}}function cP(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3];return[n*l+i*c,n*u+i*h,r*l+o*c,r*u+o*h,a*l+s*c+t[4],a*u+s*h+t[5]]}function hP(e){return"string"==typeof e}var fP,dP=/\{(\d+)}?\}/g,pP=function(){function e(t){var n=t.name,i=t.message;if(_classCallCheck(this,e),!n||!i)throw new Error("{ name: string, message: string } object is required!");this.name=n,this.message=i}return _createClass(e,[{key:"formatMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=vP(t),r=this.message.replace(dP,(function(e,t){return i[parseInt(t,10)]}));return"".concat(this.name,": ").concat(r)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Error(this.formatMessage(t))}}]),e}(),vP=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},mP=(fP={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(fP).reduce((function(e,t){return e[t]=new pP({name:t,message:fP[t]}),e}),{})),gP={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function yP(e){return hP(e)?kP(e):e}function kP(e){if(gP[e])return gP[e];if(gP.supplemental.likelySubtags){var t=e.split("-"),n=t[0],i=t.slice(1),r=function(e,t){for(var n=gP.supplemental.likelySubtags,i=0;i<t.length;i++){var r=n[e+"-"+t[i]];if(r)return r}if(n[e])return n[e]}(n,i),o=r?function(e,t){var n=e.split("-"),i=n[0],r=n[1],o=n[2];return gP[e]||-1!==t.indexOf(o)&&gP[i+"-"+o]||-1!==t.indexOf(r)&&gP[i+"-"+r]||gP[i]}(r,i):null;if(o)return o}throw mP.NoLocale.error(e)}function bP(e){if(e.territory)return e.territory;var t,n=e.identity;return t=n&&n.territory?n.territory:function(e,t){var n=gP.supplemental.likelySubtags,i=e.split("-");if(n){var r=n[e]||n[i[0]];r&&(i=r.split("-"))}if(t)for(var o=i.length-1;o>=1;o--){var a=i[o];a!==t.variant&&a!==t.script||i.splice(o,1)}var s=i.length;if(s>1)return i[s-1].toUpperCase()}(e.name,n),e.territory=t,t}function wP(e,t){var n,i=t.type,r=t.nameType,o=t.standAlone,a=t.lower,s=(a?"lower-":"")+r,l=yP(e).calendar[i][o?"stand-alone":"format"],u=l[s];return!u&&a&&(u=l[s]=(n=l[r],Array.isArray(n)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(n):function(e){var t={};for(var n in e)t[n]=e[n].toLowerCase();return t}(n))),u}function CP(e){var t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,r=parseInt(t[2],10);return new Date(n,i,r)}var _P=mP.NoCurrency,SP=mP.NoCurrencyDisplay,xP=mP.NoSupplementalCurrency,TP=mP.NoCurrencyRegion,OP=mP.NoValidCurrency,IP={"001":"USD",150:"EUR"};function EP(e,t,n){var i=yP(e).numbers.currencies;if(i){var r=i[t];if(r)return r;if(n)throw SP.error()}else if(n)throw _P.error()}function AP(e,t){return t.length-e.length}function DP(e,t){var n=yP(e),i=n.numbers;if(!i.localeCurrency){var r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(IP[e])return IP[e];var n=gP.supplemental.currencyData;if(n){var i=n.region[e];if(i)return function(e){for(var t,n,i,r,o=0;o<e.length;o++){var a=e[o],s=Object.keys(a)[0],l=a[s];if("XXX"!==s&&"false"!==l._tender&&l._from)if(l._to){if(!i){var u=CP(l._from),c=CP(l._to);(!n||n.to<c||n.from<u)&&(t=s,n={from:u,to:c})}}else{var h=CP(l._from);(!r||r<h)&&(i=s,r=h)}}return i||t}(i);if(t)throw TP.error(e)}else if(t)throw xP.error()}(bP(n),t);if(!r&&t)throw OP.error(n.name);i.localeCurrency=r}return i.localeCurrency}var RP=["sun","mon","tue","wed","thu","fri","sat"],MP=mP.NoWeekData,FP=mP.NoFirstDay;function PP(e){var t=yP(e);if(!isNaN(t.firstDay))return t.firstDay;var n=gP.supplemental.weekData;if(!n)throw MP.error();var i=n.firstDay[bP(t)]||n.firstDay["001"];if(!i)throw FP.error();return t.firstDay=RP.indexOf(i),t.firstDay}var zP=mP.NoWeekData;function NP(e){return 1/e==-1/0}function LP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.currency||(t.currency=DP(e,!0)),function(e,t){var n=t.value,i=t.currency,r=t.currencyDisplay,o=void 0===r?"symbol":r;if("code"===o)return i;var a=EP(e,i,!0);return"symbol"===o?a["symbol-alt-narrow"]||a.symbol:void 0===typeof n||1!==n?a["displayName-count-other"]:a["displayName-count-one"]}(e,t)}function jP(e,t,n,i,r){var o=r.numbers.symbols,a=e.indexOf(o.decimal),s=i.groupSize.slice(),l=s.shift(),u=-1!==a?a:n+1,c=e.substring(t,u),h=e,f=c.length;if(f>=l){for(var d=f,p=[];d>-1;){var v=c.substring(d-l,d);v&&p.push(v),d-=l;var m=s.shift();if(0===(l=void 0!==m?m:l)){(v=c.substring(0,d))&&p.push(v);break}}c=p.reverse().join(o.group),h=e.substring(0,t)+c+e.substring(u)}return h}function VP(e){return"currency"===e||"accounting"===e}function BP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t-String(e).length,r=e;if(i>0){var o=new Array(i+1).join("0");r=n?e+o:o+e}return r}function HP(e,t){var n=e,i=t||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i))).toFixed(Math.min(i,20))}var GP=/0+$/,UP=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function WP(e,t){var n=e.format;-1!==n.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf("$")&&(e.style="currency",e.symbol=LP(t))}function qP(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var n=e.literals=[];e.format=t.replace(UP,(function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return n.push(i),"__??__"}))}}var $P=/(\.(?:[0-9]*[1-9])?)0+$/g,KP=/\.$/,ZP=/\,/g;function YP(e,t,n){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t)}var QP=/^(n|c|p|e|a)(\d*)$/i;function JP(e){return hP(e)?function(e){var t=QP.exec(e);if(t){var n={style:"decimal"},i=t[1].toLowerCase();return"c"===i?n.style="currency":"a"===i?n.style="accounting":"p"===i?n.style="percent":"e"===i&&(n.style="scientific"),t[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(t[2],10)),n}}(e):e}function XP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(null==e)return"";if(!isFinite(e))return String(e);var i=kP(n),r=JP(t);return r?function(e,t,n){var i=n.numbers.symbols,r=t.style,o=VP(r);if("scientific"===r)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",i.decimal);var a,s=e;o&&(t.value=s,a=LP(n,t)),"percent"===r&&(s*=100,a=i.percentSign);var l=function(e){var t,n=e.minimumFractionDigits,i=e.maximumFractionDigits,r=e.style,o=VP(r);return o&&(t=function(e){var t=2,n=2,i=((gP.supplemental.currencyData||{}).fractions||{})[e];return i&&i._digits&&(n=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===n&&(n=o?t.minimumFractionDigits:0),void 0===i&&(i="percent"===r?Math.max(n,0):o?Math.max(n,t.maximumFractionDigits):Math.max(n,3)),{minimumFractionDigits:n,maximumFractionDigits:i}}(t),u=l.minimumFractionDigits,c=(s=HP(s,l.maximumFractionDigits))<0,h=NP(e),f=s.split("."),d=f[0],p=BP(f[1]?f[1].replace(GP,""):"",u,!0);c&&(d=d.substring(1)),t.minimumIntegerDigits&&(d=BP(d,t.minimumIntegerDigits));var v,m=!1!==t.useGrouping?jP(d,0,d.length,t,n):d;if(p&&(m+=i.decimal+p),o&&"name"===t.currencyDisplay)v=function(e,t){var n=e.numbers.currency,i=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(i=i.replace("n","-n")),i}(n,e);else{var g=t.patterns;v=c||h?g[1]||"-"+g[0]:g[0]}return"n"!==v||c?function(e,t,n){for(var i="",r=0,o=t.length;r<o;r++){var a=t.charAt(r);i+="n"===a?e:"$"===a||"%"===a?n:a}return i}(m,v,a):m}(e,Object.assign({},i.numbers[r.style||"decimal"],r),i):function(e,t,n){var i={negative:e<0,number:Math.abs(e),negativeZero:NP(e),format:t};return function(e){var t=e.number,n=e.format;if(n=n.split(";"),(e.negative||e.negativeZero)&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){var i=n[2];n=i||n[0],i&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(i)&&(e.constant=i)}else n=n[0];e.format=n}(i),i.constant?i.constant:(qP(i),WP(i,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(ZP,""))}(i),function(e){var t,n,i,r=e.number,o=e.format,a=o.indexOf(".");if(-1!==a){var s=o.lastIndexOf("0")-a,l=o.lastIndexOf("#")-a,u=s>-1,c=l>-1,h=r.toString().split("e"),f=(h=(h=h[1]?HP(r,Math.abs(h[1])):h[0]).split(".")[1]||"").length,d=-1;u||c?u&&s>l?f=s:l>s&&(c&&f>l?f=l:u&&f<s&&(f=s),d=u?s:0):(e.format=o.substring(0,a)+o.substring(a+1),a=-1,f=0),f>-1&&(r=HP(r,f),d>-1&&(t=r,i=0===(n=d)?$P:new RegExp("(\\.[0-9]{".concat(n,"}[1-9]*)0+$"),"g"),r=t.replace(i,"$1").replace(KP,"")))}else r=HP(r);e.negative&&-1*r>=0&&!e.negativeZero&&(e.negative=!1),e.number=r,e.decimalIndex=a}(i),function(e){var t=e.format,n=t.indexOf("#"),i=t.indexOf("0"),r=YP(n,i,!0),o=YP(n=t.lastIndexOf("#"),i=t.lastIndexOf("0"));r===t.length&&(o=r),e.start=r,e.end=o,e.lastZeroIndex=i}(i),function(e,t){var n=e.number;return-1!==e.start&&(n=function(e,t){var n=e;if(t)for(var i=t.length,r=0;r<i;r++)n=n.replace("__??__",t[r]);return n}(n=function(e,t,n){var i=e;if("currency"===t||"percent"===t){i="";for(var r=0,o=e.length;r<o;r++){var a=e.charAt(r);i+="$"===a||"%"===a?n:a}}return i}(n=function(e,t){var n=e.start,i=e.end,r=e.negative,o=e.negativeZero,a=e.format,s=e.decimalIndex,l=e.lastZeroIndex,u=e.hasNegativeFormat,c=e.hasGroup,h=e.number,f=h.toString().split("."),d=a.length,p=f[0],v=f[1]||"",m=p.length,g="";h=a.substring(0,n),!r&&!o||u||(h+="-");for(var y=n;y<d;y++){var k=a.charAt(y);if(-1===s){if(i-y<m){h+=p;break}}else if(-1!==l&&l<y&&(g=""),s-y<=m&&s-y>-1&&(h+=p,y=s),s===y){h+=(v?t.numbers.symbols.decimal:"")+v,y+=i-s+1;continue}"0"===k?(h+=k,g=k):"#"===k&&(h+=g)}return c&&(h=jP(h,n+(r&&!u?1:0),Math.max(i,m+n),t.numbers.decimal,t)),i>=n&&(h+=a.substring(i+1)),h}(e,t),e.style,e.symbol),e.literals)),n}(i,n))}(e,t,i)}function ez(e){return"number"==typeof e}var tz=/[eE][\-+]?[0-9]+/,nz=/\u00A0/g;function iz(e,t){if(t.length>1){var n=(t[1]||"").replace("$","").split("n");if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],"").replace(n[1],"")}}var rz=/\{(\d+)}/g;function oz(e){var t=arguments;return e.replace(rz,(function(e,n){return t[parseInt(n,10)+1]}))}var az=[2,1,5,3,4],sz=(_defineProperty(i={},(-2).toString(),8),_defineProperty(i,(-1).toString(),6),_defineProperty(i,2..toString(),6),_defineProperty(i,1..toString(),3),i),lz={numeric:1,"2-digit":2,short:3,long:4,narrow:5},uz=/[hHmsSzZoOvVxX]/,cz=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],hz={e:"c",E:"c",M:"L",Q:"q"},fz={},dz={};function pz(e){return fz[e]||(fz[e]=new RegExp(e+"+")),fz[e]}function vz(e){for(var t=[],n=e.charAt(0),i=n,r=1;r<e.length;r++){var o=e.charAt(r);o===i?n+=o:(t.push(n),n=i=o)}return t.push(n),t}function mz(e,t){var n,i,r=e.length,o=-Number.MAX_VALUE;for(var a in t){for(var s=[],l=a.replace("v","z"),u=0,c=0;c<r;c++){var h=e[c],f=(pz(h[0]).exec(l)||[])[0];if(f){if(l=l.replace(f,""),f.length!==h.length){var d=Math.max(Math.min(az[f.length]-az[h.length],2),-2);u-=sz[d]}}else u-=120;if(s.push(f),u<o)break}l.length&&(u-=20*vz(l).length),u>o&&(o=u,n=s,i=t[a])}i=i.replace("v","z");for(var p=0;p<r;p++){var v=n[p];if(v&&v!==e[p]){var m=n[p][0];i=i.replace(pz(m),e[p]),hz[m]&&(i=i.replace(pz(hz[m]),e[p]))}}return i}function gz(e,t){var n,i=t.calendar;if(hP(e))n=i.patterns[e]?i.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var r=e.skeleton;r||(e.datetime?n=oz(i.dateTimeFormats[e.datetime],i.timeFormats[e.datetime],i.dateFormats[e.datetime]):e.date?n=i.dateFormats[e.date]:e.time?n=i.timeFormats[e.time]:r=function(e){for(var t=[],n=0;n<cz.length;n++){var i=cz[n],r=e[i.key];if(r){var o=i.specifier||i.getSpecifier(e);t.push(o.repeat(lz[r]))}}return t.join("")}(e)),r&&(n=function(e,t){var n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(dz[t.name]&&dz[t.name][e])return dz[t.name][e];var i,r=e.search(uz);if(r>0){var o=e.substr(0,r),a=e.substr(r);i=oz(t.calendar.dateTimeFormats.short,n[a]||mz(vz(a),n),n[o]||mz(vz(o),n))}else i=mz(vz(e),n);return function(e,t,n){dz[n]||(dz[n]={}),dz[n][e]=t}(e,i,t.name),i}(r,t))}return n||(n=i.patterns.d),n}function yz(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function kz(e,t,n,i,r){return wP(e,{type:t,nameType:yz(n),standAlone:i,lower:r})}function bz(e){return"function"==typeof e}function wz(e){return Boolean(e)&&bz(e.getTime)&&bz(e.getMonth)}var Cz={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},_z=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function Sz(e,t,n,i){return t<=2?BP(e+1,t):kz(n,"months",t,i)[e]}function xz(e,t,n,i){var r=Math.floor(e.getMonth()/3);return t<3?r+1:kz(n,"quarters",t,i)[r]}function Tz(e,t,n){var i=n.shortHours,r=n.optionalMinutes,o=n.separator,a=n.localizedName,s=n.zZeroOffset,l=e.getTimezoneOffset()/60;if(0===l&&s)return"Z";var u=l<=0?"+":"-",c=Math.abs(l).toString().split("."),h=c[1]||0,f=u+(i?c[0]:BP(c[0],2));return!h&&r||(f+=(o?":":"")+BP(h,2)),a&&(f=oz(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,f)),f}function Oz(e,t,n,i){var r,o;return t<3?(r=e.getDay(),o=PP(n),(r<o?7-o+r:r-o)+1):kz(n,"days",t,i)[e.getDay()]}var Iz,Ez=((Iz={d:function(e,t){return BP(e.getDate(),t)},E:function(e,t,n){return kz(n,"days",t)[e.getDay()]},M:function(e,t,n){return Sz(e.getMonth(),t,n,!1)},L:function(e,t,n){return Sz(e.getMonth(),t,n,!0)},y:function(e,t){var n=e.getFullYear();return 2===t&&(n%=100),BP(n,t)},h:function(e,t){return BP(e.getHours()%12||12,t)},H:function(e,t){return BP(e.getHours(),t)},k:function(e,t){return BP(e.getHours()||24,t)},K:function(e,t){return BP(e.getHours()%12,t)},m:function(e,t){return BP(e.getMinutes(),t)},s:function(e,t){return BP(e.getSeconds(),t)},S:function(e,t){return 0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):BP("",t)},a:function(e,t,n){return kz(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,n){return Tz(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,n){return Tz(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,n){return Tz(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,n){return Tz(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,n){var i=e.getFullYear()>=0?1:0;return kz(n,"eras",t)[i]}}).e=Oz,Iz.c=function(e,t,n){return Oz(e,t,n,!0)},Iz.q=function(e,t,n){return xz(e,t,n,!0)},Iz.Q=xz,Iz);function Az(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!wz(e))return null==e?"":e;var i=kP(n);return gz(t,i).replace(_z,(function(t){var n=t.length;return t.includes("'")||t.includes('"')?t.slice(1,n-1):Ez[t[0]](e,n,i)}))}function Dz(e,t,n){var i=e.getTimezoneOffset(),r=new Date(e.getTime()+6e4*(t-n)),o=r.getTimezoneOffset();return new Date(r.getTime()+6e4*(o-i))}var Rz=/([+|\-]\d{1,2})(:?)(\d{2})?/,Mz=/^\/Date\((.*?)\)\/$/,Fz=/[+-]\d*/,Pz={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},zz=/\d+/,Nz=/^ */,Lz=/ *$/,jz=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],Vz=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Bz(e,t,n){return!(e>=t&&e<=n)}function Hz(e,t){for(var n=t.format,i=t.idx,r=0;n[i]===e;)r++,i++;return r>0&&(i-=1),t.idx=i,r}function Gz(e,t){var n=e?Pz[e]||new RegExp("^\\d{1,"+e+"}"):zz,i=t.value.substr(t.valueIdx,e).match(n);return i?(i=i[0],t.valueIdx+=i.length,parseInt(i,10)):null}function Uz(e,t,n){for(var i,r,o,a=0,s=e.length,l=0,u=0;a<s;a++)r=(i=e[a]).length,o=t.value.substr(t.valueIdx,r),n&&(o=o.toLowerCase()),o===i&&r>l&&(l=r,u=a);return l?(t.valueIdx+=l,u+1):null}function Wz(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function qz(e,t,n){var i=n.shortHours,r=n.noSeparator,o=n.optionalMinutes,a=n.localizedName,s=n.zLiteral;if(e.UTC=!0,s&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(a&&!Uz(function(e){var t=e.gmtFormat,n=e.gmtZeroFormat;if(!t)throw mP.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),n.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;var l=Rz.exec(e.value.substr(e.valueIdx,6));if(!l)return!a;var u=l[1],c=l[3],h=parseInt(u,10),f=l[2],d=parseInt(c,10);return!!(isNaN(h)||!i&&3!==u.length||!o&&isNaN(d)||r&&f)||(isNaN(d)&&(d=null),!!(Bz(h,-12,13)||d&&Bz(d,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=d)))}function $z(e,t,n){var i=Hz(e,t),r=kz(n,"months",i,"L"===e,!0),o=i<3?Gz(2,t):Uz(r,t,!0);if(null===o||Bz(o,1,12))return!0;t.month=o-1}function Kz(e,t,n){var i=Hz(e,t),r=kz(n,"days",i,"c"===e,!0),o=i<3?Gz(1,t):Uz(r,t,!0);if(!o&&0!==o||Bz(o,1,7))return!0}var Zz={d:function(e){Hz("d",e);var t=Gz(2,e);if(null===t||Bz(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===Uz(kz(t,"days",Hz("E",e),!1,!0),e,!0))return!0},M:function(e,t){return $z("M",e,t)},L:function(e,t){return $z("L",e,t)},y:function(e){var t=Hz("y",e),n=Gz(1===t?void 0:t,e);if(null===n)return!0;if(2===t){var i=(new Date).getFullYear();(n=i-i%100+n)>2029&&(n-=100)}e.year=n},h:function(e){Hz("h",e);var t=Gz(2,e);if(12===t&&(t=0),null===t||Bz(t,0,11))return!0;e.hours=t},K:function(e){Hz("K",e);var t=Gz(2,e);if(null===t||Bz(t,0,11))return!0;e.hours=t},a:function(e,t){var n=kz(t,"dayPeriods",Hz("a",e),!1,!0),i=Uz([n.pm],e,!0);if(!i&&!Uz([n.am],e,!0))return!0;e.pmHour=i},H:function(e){Hz("H",e);var t=Gz(2,e);if(null===t||Bz(t,0,23))return!0;e.hours=t},k:function(e){Hz("k",e);var t=Gz(2,e);if(null===t||Bz(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){Hz("m",e);var t=Gz(2,e);if(null===t||Bz(t,0,59))return!0;e.minutes=t},s:function(e){Hz("s",e);var t=Gz(2,e);if(null===t||Bz(t,0,59))return!0;e.seconds=t},S:function(e){var t=Hz("S",e),n=e.value.substr(e.valueIdx,t),i=null;if(isNaN(parseInt(n,10))||(i=HP(i=parseFloat("0."+n,10),3),i*=1e3,e.valueIdx+=t),null===i||Bz(i,0,999))return!0;e.milliseconds=i},z:function(e,t){var n=Hz("z",e)<4,i=qz(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Z:function(e,t){var n=Hz("Z",e),i=qz(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},x:function(e,t){var n=Hz("x",e),i=qz(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},X:function(e,t){var n=Hz("X",e),i=qz(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},G:function(e,t){var n=kz(t,"eras",Hz("G",e),!1,!0);if(null===Uz([n[0],n[1]],e,!0))return!0},e:function(e,t){return Kz("e",e,t)},c:function(e,t){return Kz("c",e,t)}};function Yz(e,t){return"".concat(Nz.exec(t)[0]).concat(e).concat(Lz.exec(t)[0])}function Qz(e,t,n){for(var i=gz(t,n).split(""),r={format:i,idx:0,value:Yz(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},o=i.length,a=!1;r.idx<o;r.idx++){var s=i[r.idx];if(a)"'"===s&&(a=!1),Wz(r);else if(Zz[s]){if(Zz[s](r,n))return null}else if("'"===s)a=!0,Wz(r);else if(!Wz(r))return null}return r.valueIdx<e.length?null:function(e){var t,n=e.year,i=e.month,r=e.day,o=e.hours,a=e.minutes,s=e.seconds,l=e.milliseconds,u=e.pmHour,c=e.UTC,h=e.hoursOffset,f=e.minutesOffset,d=null!==o||null!==a||s||null,p=new Date;return null===n&&null===i&&null===r&&d?(n=p.getFullYear(),i=p.getMonth(),r=p.getDate()):(null===n&&(n=p.getFullYear()),null===r&&(r=1)),u&&o<12&&(o+=12),c?(h&&(o+=-h),f&&(a+=-f*(h<0?-1:1)),t=new Date(Date.UTC(n,i,r,o,a,s,l))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(n,i,r,o,a,s,l),o),n<100&&t.setFullYear(n),t.getDate()!==r&&void 0===c?null:t}(r)||null}var Jz={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function Xz(e,t){var n=e[e.length-1];n&&"literal"===n.type?n.pattern+=t:e.push({type:"literal",pattern:t})}function eN(e){return"h"===e||"K"===e}var tN=/\{(\d+)(:[^\}]+)?\}/g;function nN(e,t,n){if(t){if(wz(e))return Az(e,t,n);if(ez(e))return XP(e,t,n)}return null!=e?e:""}var iN="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",rN={NoCurrency:"Solution: ".concat(iN,"#toc-no-currency"),NoCurrencyDisplay:"Solution: ".concat(iN,"#toc-no-currency-display"),NoCurrencyRegion:"Solution: ".concat(iN,"#toc-no-currency-region"),NoDateFieldNames:"Solution: ".concat(iN,"#toc-no-date-filed-names"),NoFirstDay:"Solution: ".concat(iN,"#toc-no-first-day"),NoGMTInfo:"Solution: ".concat(iN,"#toc-no-gmt-info"),NoLocale:"Solution: ".concat(iN,"#toc-no-locale"),NoValidCurrency:"Solution: ".concat(iN,"#toc-no-valid-currency"),NoWeekData:"Solution: ".concat(iN,"#toc-no-week-data")};function oN(e){return function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(null,n)}catch(r){throw r.message=function(e){var t=e.message,n=rN[Object.keys(rN).filter((function(e){return 0===t.indexOf(e)}))[0]];return n?"".concat(t," ").concat(n):t}(r),r}}}var aN=oN(wP),sN=oN((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=kP(t).calendar.dateFields;if(!n)throw mP.NoDateFieldNames.error();var i=n[e.type]||{};return i[e.nameType]||i.wide})),lN=oN(PP),uN=oN((function(e,t,n){return e.replace(tN,(function(e,i,r){return nN(t[parseInt(i,10)],r?r.substring(1):"",n)}))})),cN=oN(Az),hN=oN(XP),fN=oN((function(e){return yP(e).numbers.symbols})),dN=oN((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!e)return null;if(wz(e))return e;var i=String(e).trim(),r=function(e){if(e&&0===e.indexOf("/D")){var t=Mz.exec(e);if(t){t=t[1];var n=Fz.exec(t.substring(1));return t=new Date(parseInt(t,10)),n&&(n=function(e){var t="-"===e.substr(0,1)?-1:1,n=e.substring(1);return t*(n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(n[0]),t=Dz(t,t.getTimezoneOffset(),0),t=Dz(t,0,-1*n)),t}}}(i);if(r)return r;for(var o=kP(n),a=t||function(e){for(var t=[],n=e.patterns,i=Vz.length,r=0;r<i;r++)t.push(n[Vz[r]]);return t.concat(jz)}(o.calendar),s=(a=Array.isArray(a)?a:[a]).length,l=0;l<s;l++)if(r=Qz(i,a[l],o))return r;return r})),pN=oN((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&0!==e)return null;if(ez(e))return e;var i,r=kP(t),o=r.numbers.symbols,a=e.toString(),s=n||{};if(hP(n)&&(qP(s={format:n}),a=function(e,t){var n=t.literals,i=e;if(n)for(var r=0;r<n.length;r++)i=i.replace(n[r],"");return i}(a,s),WP(s,r)),("percent"===s.style||a.indexOf(o.percentSign)>-1)&&(a=a.replace(o.percentSign,""),i=!0),tz.test(a))return a=parseFloat(a.replace(o.decimal,".")),isNaN(a)?null:a;var l=function(e,t,n){var i,r=JP(n)||{},o=VP(r.style),a=e,s=r.currency||DP(t,o);if(s){var l=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=EP(e,t,n);if(i){if(!i.displays){var r=[t];for(var o in i)r.push(i[o]);r.sort(AP),i.displays=r}return i.displays}}(t,s,o);if(l)for(var u=0;u<l.length;u++){var c=l[u];if(a.includes(c)){a=a.replace(c,""),o=!0;break}}if(o){var h=iz(a,t.numbers.currency.patterns)||iz(a,t.numbers.accounting.patterns);h&&(i=!0,a=h)}}return{number:a,negative:i}}(a,r,s),u=l.negative,c=l.number,h=(a=String(c).trim()).indexOf("-");if(h>0)return null;var f=h>-1;return f=void 0!==u?u:f,a=a.replace("-","").replace(nz," ").split(o.group.replace(nz," ")).join("").replace(o.decimal,"."),a=parseFloat(a),isNaN(a)?a=null:f&&(a*=-1),a&&i&&(a/=100),a})),vN=oN((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=gz(e,kP(t)),i=[],r=_z.lastIndex=0,o=_z.exec(n);o;){var a=o[0];if(r<o.index&&Xz(i,n.substring(r,o.index)),a.startsWith('"')||a.startsWith("'"))Xz(i,a);else{var s=a[0],l=Cz[s],u={type:l,pattern:a};"hour"===l&&(u.hour12=eN(a));var c=Jz[l];if(c){var h=ez(c.minLength)?c.minLength:c.minLength[s],f=a.length;f>=h&&(u.names={type:c.type,nameType:yz(f),standAlone:c.standAlone===s})}i.push(u)}r=_z.lastIndex,o=_z.exec(n)}return r<n.length&&Xz(i,n.substring(r)),i})),mN=oN(nN),gN=oN((function(e){var t=yP(e);if(t.weekendRange)return t.weekendRange;var n=gP.supplemental.weekData;if(!n)throw zP.error();var i=bP(t),r=n.weekendEnd[i]||n.weekendEnd["001"];return t.weekendRange={start:RP.indexOf(n.weekendStart[i]||n.weekendStart["001"]),end:RP.indexOf(r)},t.weekendRange})),yN=/_/g;function kN(e){return new SN(e)}var bN,wN,CN,_N=((CN=function(){function e(){_classCallCheck(this,e),this.changes=new lu}return _createClass(e,[{key:"notify",value:function(){this.changes.emit()}}]),e}()).\u0275fac=function(e){return new(e||CN)},CN.\u0275prov=xe({token:CN,factory:function(e){return e?new e:kN(ct(Vu))},providedIn:"root"}),CN.ngInjectableDef=Te({factory:function(){return kN(ht(Vu))},token:CN,providedIn:"root"}),CN),SN=((wN=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).localeId=e,i}return _createClass(n,[{key:"format",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return uN(e,n,this.localeId)}},{key:"toString",value:function(e,t,n){return mN(e,t,n||this.localeId)}},{key:"formatDate",value:function(e,t,n){return cN(e,t,n||this.localeId)}},{key:"parseDate",value:function(e,t,n){return dN(e,t,n||this.localeId)}},{key:"parseNumber",value:function(e,t,n){return pN(e,n||this.localeId,t)}},{key:"formatNumber",value:function(e,t,n){return hN(e,t,n||this.localeId)}},{key:"dateFieldName",value:function(e,t){return sN(e,t||this.localeId)}},{key:"dateFormatNames",value:function(e,t){return aN(t||this.localeId,e)}},{key:"splitDateFormat",value:function(e,t){return vN(e,t||this.localeId)}},{key:"numberSymbols",value:function(e){return fN(e||this.localeId)}},{key:"firstDay",value:function(e){return lN(e||this.localeId)}},{key:"weekendRange",value:function(e){return gN(e||this.localeId)}},{key:"localeId",get:function(){return this.locale},set:function(e){var t=e.replace(yN,"-");t!==this.locale&&(this.locale=t,this.notify())}}]),n}(_N)).\u0275fac=function(e){return new(e||wN)(ct(Vu))},wN.\u0275prov=xe({token:wN,factory:wN.\u0275fac}),wN),xN=((bN=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:bN}),bN.\u0275inj=Oe({factory:function(e){return new(e||bN)}}),bN);$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11()),$localize(_templateObject12()),$localize(_templateObject13());var TN=["numericInput"],ON=["numericWrap"],IN=["increment",$localize(_templateObject14()),"decrement",$localize(_templateObject15())],EN=function(e,t){return{mouseup:e,mouseleave:t}},AN=function(e){return{mousedown:e}};function DN(e,t){if(1&e&&(Ka(0,"span",6),Ka(1,"span",7),Ya(2,"span",8),Za(),Ka(3,"span",9),Ya(4,"span",10),Za(),Za()),2&e){var n=as();qa("kendoEventsOutsideAngular",Xl(11,EN,n.releaseArrow,n.releaseArrow)),Dr(1),ys("k-state-active",n.arrowDirection===n.ArrowDirection.Up),qa("kendoEventsOutsideAngular",Jl(14,AN,n.increasePress))("title",n.incrementTitle),ja("aria-label",n.incrementTitle),Dr(2),ys("k-state-active",n.arrowDirection===n.ArrowDirection.Down),qa("kendoEventsOutsideAngular",Jl(16,AN,n.decreasePress))("title",n.decrementTitle),ja("aria-label",n.decrementTitle)}}var RN=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},MN=function(e,t,n,i,r,o,a){return{mousedown:e,dragenter:t,keydown:n,input:i,focus:r,blur:o,paste:a}},FN=function(e){return Math.min(e,20)},PN=function(e){return(String(e).split(".")[1]||"").length},zN=function(e,t){var n=FN(t);return parseFloat(e.toFixed(n))};function NN(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,i)}var LN,jN=((LN=function(){function e(t,n,i){_classCallCheck(this,e),this.renderer=t,this.inputElement=n,this.ngZone=i,this.hostClass=!0,this.onFocus=new lu,this.onBlur=new lu,this.onValueChange=new lu,this.autoFillStart=new lu,this.autoFillEnd=new lu,this.listeners=[]}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(t,"focus",(function(){return e.onFocus.emit()})),this.renderer.listen(t,"blur",(function(){return e.onBlur.emit()}))],this.ngZone.runOutsideAngular((function(){e.renderer.listen(t,"animationstart",(function(t){"autoFillStart"===t.animationName?e.autoFillStart.emit():"autoFillEnd"===t.animationName&&e.autoFillEnd.emit()}))}))}},{key:"ngOnDestroy",value:function(){this.listeners.forEach((function(e){return e()}))}},{key:"value",set:function(e){this.inputElement&&(this.inputElement.nativeElement.value=null==e?"":e,this.onValueChange.emit())},get:function(){return this.inputElement.nativeElement.value}},{key:"id",get:function(){return this.inputElement.nativeElement.id},set:function(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}}]),e}()).\u0275fac=function(e){return new(e||LN)(Ga(ll),Ga(rl),Ga(Xu))},LN.\u0275dir=zt({type:LN,selectors:[["input","kendoTextBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-textbox",t.hostClass)},inputs:{value:"value"},features:[el([{provide:Qg,useExisting:je((function(){return LN}))}])]}),LN),VN=/[eE][\-+]?([0-9]+)/,BN=function(e){return e>=0?Math.floor(e):Math.ceil(e)},HN=function(e){},GN=function(e){return!isNaN(e)&&null!==e};function UN(e,t){var n=t-String(e).length,i=e;if(n>0){var r=new Array(n+1).join("0");i=parseFloat(e+r)}return i}var WN,qN,$N,KN,ZN,YN,QN,JN,XN,eL,tL,nL,iL,rL,oL=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({}),aL=["min","max","step","decimals"],sL={decimals:null,max:null,min:null,step:1},lL=((qN=function(){function e(t,n,i,r,o,a,s){var l=this;_classCallCheck(this,e),this.intl=t,this.renderer=n,this.localizationService=i,this.injector=r,this.ngZone=o,this.changeDetector=a,this.hostElement=s,this.focusableId="k-"+Ng(),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new lu,this.onFocus=new lu,this.onBlur=new lu,this.ArrowDirection=oL,this.arrowDirection=oL.None,this.inputValue="",this.minValidateFn=HN,this.maxValidateFn=HN,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=HN,this.ngTouched=HN,this.ngValidatorChange=HN,this.increasePress=function(e){l.arrowPress(oL.Up,e)},this.decreasePress=function(e){l.arrowPress(oL.Down,e)},this.releaseArrow=function(){clearTimeout(l.spinTimeout),l.arrowDirection!==oL.None&&(l.arrowDirection=oL.None,l.changeDetector.detectChanges())},this.handlePaste=function(){l.isPasted=!0},this.handleInput=function(){var e=l.numericInput.nativeElement,t=e.selectionStart,n=e.selectionEnd,i=e.value;if(l.pressedKey===Jg.NumpadDecimal&&(i=l.replaceNumpadDotValue()),l.isPasted&&(i=l.formatInputValue(l.intl.parseNumber(i))),!l.isValid(i))return e.value=l.inputValue,void l.setSelection(t-1,n-1);var r=l.intl.parseNumber(i),o=l.restrictDecimals(r);if(l.autoCorrect){var a=l.limitInputValue(o);o=a.value,t=a.selectionStart,n=a.selectionEnd}r!==o||l.hasTrailingZeros(i)||!l.focused?(l.setInputValue(o),l.setSelection(t,n)):l.inputValue=i,l.isPasted&&(e.value=l.inputValue),l.updateValue(o),l.previousSelection=null,l.isPasted=!1},this.handleDragEnter=function(){l.focused||l.isDisabled||l.setInputValue(l.value,!0)},this.handleMouseDown=function(){l.mouseDown=!0},this.handleFocus=function(){if(!l.focused&&(l.focused=!0,!l.isDisabled)){var e=l.selectOnFocus||!l.mouseDown;l.ngZone.runOutsideAngular((function(){setTimeout((function(){e?l.selectAll():l.selectCaret()}),0)}))}l.mouseDown=!1,zg(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleBlur=function(){var e;l.changeDetector.markForCheck(),l.focused=!1,l.inputValue!==l.elementValue&&l.handleInput(),l.setInputValue(),(zg(l.onBlur)||(e=l.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&l.ngZone.run((function(){l.ngTouched(),l.onBlur.emit()}))},this.handleKeyDown=function(e){if(!l.isDisabled){var t;e.keyCode===Jg.ArrowDown?t=-1:e.keyCode===Jg.ArrowUp&&(t=1),t&&l.step&&(e.preventDefault(),l.addStep(t));var n=l.numericInput.nativeElement;l.previousSelection={end:n.selectionEnd,start:n.selectionStart},l.pressedKey=e.keyCode}},this.handleWheel=function(e){if(l.focused&&!l.isDisabled){e.preventDefault();var t=function(e){var t=0;return e.wheelDelta?t=(t=e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t):e.detail&&(t=Math.round(-e.detail/3)),t}(e);l.addStep(t)}},this.direction=i.rtl?"rtl":"ltr"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.localizationService.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr"})),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(C_,null)}},{key:"ngOnChanges",value:function(e){var t,n;Pg(aL,e,!1)&&this.parseOptions(aL.filter((function(t){return e[t]}))),this.verifySettings(),Pg(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,function(e){return null!==e.value&&e.value<n?{minError:{minValue:n,value:e.value}}:null}):HN,this.maxValidateFn=this.rangeValidation?(t=this.max,function(e){return null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null}):HN,this.ngValidatorChange()),Pg(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,Pg(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.ngValidatorChange=e}},{key:"writeValue",value:function(e){this.verifyValue(e);var t=this.restrictModelValue(e);this.value=t,this.setInputValue()}},{key:"registerOnChange",value:function(e){this.ngChange=e}},{key:"registerOnTouched",value:function(e){this.ngTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){NN(this.numericInput,"focus")}},{key:"blur",value:function(){NN(this.numericInput,"blur")}},{key:"notifyValueChange",value:function(){this.setInputValue()}},{key:"arrowPress",value:function(e,t){t.preventDefault(),this.isDisabled||(EE||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}},{key:"updateValue",value:function(e){var t,n,i=this;(t=this.value)===(n=e)||null===t&&void 0===n||void 0===t&&null===n||this.ngZone.run((function(){i.value=e,i.ngChange(e),i.valueChange.emit(e),i.changeDetector.markForCheck()}))}},{key:"replaceNumpadDotValue",value:function(){var e=this.inputValue||"";if(this.previousSelection){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,r=this.previousSelection,o=r.start,a=r.end;t.value=e=e.substring(0,o)+this.decimalSeparator+e.substring(a),this.setSelection(n,i)}return e}},{key:"isValid",value:function(e){return this.numericRegex||(this.numericRegex=(t={autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator},i=t.autoCorrect,r=t.min,"."===(o=t.separator)&&(o="\\"+o),n=0===t.decimals?"\\d*":"(?:(?:\\d+(".concat(o,"\\d*)?)|(?:").concat(o,"\\d*))?"),new RegExp("^".concat(i&&null!==r&&r>=0?"":"-?").concat(n,"$")))),this.numericRegex.test(e);var t,n,i,r,o}},{key:"spin",value:function(e,t){var n=this;clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout((function(){n.spin(e,50)}),t),this.addStep(e)}},{key:"addStep",value:function(e){var t,n,i,r=(t=this.value||0,n=this.step*e,i=function(e,t){return Math.max(PN(e),PN(t))}(t,n),zN(t+n,i));r=this.limitValue(r),r=this.restrictDecimals(r),this.setInputValue(r),this.updateValue(r)}},{key:"setSelection",value:function(e,t){this.focused&&NN(this.numericInput,"setSelectionRange",e,t)}},{key:"limitValue",value:function(e){var t=e;return this.isInRange(e)||(GN(this.max)&&e>this.max&&(t=this.max),GN(this.min)&&e<this.min&&(t=this.min)),t}},{key:"limitInputValue",value:function(e){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,r=t.value,o=e,a=!1;if(!this.isInRange(e)){var s,l,u=r.length-String(this.inputValue).length,c=this.min,h=this.max,f=GN(h),d=GN(c),p=e;if(0===n&&this.inputValue.substr(1)===r)return{selectionEnd:i,selectionStart:n,value:null};if(f&&e>h?e>0?l=!0:s=h:d&&e<c&&(e>0?s=c:l=!0),s){var v=this.tryPadValue(e,s);v&&BN(e)!==BN(s)&&(p=v,a=!0)}else l&&this.inputValue&&n!==r.length&&(p=parseFloat(r.substr(0,n)+r.substr(n+u)));o=this.limitValue(p),a=(a||o!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+u>0}return{selectionEnd:a?String(o).length:i,selectionStart:n,value:o}}},{key:"tryPadValue",value:function(e,t){var n,i=String(Math.floor(t)).length,r=UN(e,i),o=UN(e,i+1);return this.isInRange(r)?n=r:this.isInRange(o)&&(n=o),n}},{key:"isInRange",value:function(e){return!GN(e)||(!GN(this.min)||this.min<=e)&&(!GN(this.max)||e<=this.max)}},{key:"restrictModelValue",value:function(e){var t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}},{key:"restrictDecimals",value:function(e,t){var n=e;if(e&&this.hasDecimals){var i=this.decimals,r=String(e);if(t||VN.test(r))n=zN(e,i);else{var o=r.split("."),a=o[1];a&&a.length>i&&(a=a.substr(0,i),n=parseFloat("".concat(o[0],".").concat(a)))}}return n}},{key:"formatInputValue",value:function(e){var t=String(e),n=VN.exec(t);return n&&(t=e.toFixed(FN(parseInt(n[1],10)))),t.replace(".",this.decimalSeparator)}},{key:"formatValue",value:function(e,t){return null!==e&&function(e){return void 0!==e}(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):""}},{key:"setInputValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focused,n=this.formatValue(e,t);this.elementValue=n,this.inputValue=n}},{key:"verifySettings",value:function(){if(Ni()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ni()&&e&&"number"!=typeof e)throw new Error("The NumericTextBox component requires value of type Number and ".concat(JSON.stringify(e)," was set."))}},{key:"parseOptions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this[n];if("string"==typeof i){var r=parseFloat(i),o=!isNaN(r);if(Ni()&&!o&&""!==i)throw new Error("The NumericTextBox component requires value of type Number or a String representing a number for the ".concat(n," property and ").concat(JSON.stringify(i)," was set."));this[n]=o?r:sL[n]}}}},{key:"intlChange",value:function(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}},{key:"hasTrailingZeros",value:function(e){if(this.hasDecimals&&this.focused){var t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}},{key:"selectAll",value:function(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}},{key:"selectCaret",value:function(){var e,t,n=this,i=this.elementValue,r=i.substring(0,this.numericInput.nativeElement.selectionStart);if(this.setInputValue(),r.length){var o=(e=r,t=n.decimalSeparator+"0123456789-",e.split("").reduce((function(e,n){return t.includes(n)?++e:e}),0)),a=this.adjustSignificantChars(i,o);this.setSelection(a,a)}else this.setSelection(0,0)}},{key:"numberOfLeadingZeroes",value:function(e){var t=e.indexOf(this.decimalSeparator),n=e.match(/^[^1-9]*?(0+)/);if(n){var i=n[1].length;return n[0].length===t?i-1:i}return 0}},{key:"adjustSignificantChars",value:function(e,t){var n=this.numberOfLeadingZeroes(e);return n>0?Math.max(0,t-n):t}},{key:"format",get:function(){var e=this._format;return null!=e?e:"n2"},set:function(e){this._format=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"widgetClasses",get:function(){return!0}},{key:"incrementTitle",get:function(){return this.localizationService.get("increment")}},{key:"decrementTitle",get:function(){return this.localizationService.get("decrement")}},{key:"decimalSeparator",get:function(){return this.intl.numberSymbols().decimal}},{key:"elementValue",get:function(){return this.numericInput.nativeElement.value},set:function(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}},{key:"focused",get:function(){return this.isFocused},set:function(e){if(this.isFocused!==e&&this.numericWrap){var t=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(n,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(n,"k-formatted-value")),this.isFocused=e}}},{key:"hasDecimals",get:function(){return null!==this.decimals&&this.decimals>=0}},{key:"isDisabled",get:function(){return this.disabled||this.readonly}}]),e}()).\u0275fac=function(e){return new(e||qN)(Ga(_N),Ga(ll),Ga(Om),Ga(wa),Ga(Xu),Ga(oa),Ga(rl))},qN.\u0275cmp=At({type:qN,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var n;1&e&&(bu(TN,!0),wu(ON,!0)),2&e&&(ku(n=Tu())&&(t.numericInput=n.first),ku(n=Tu())&&(t.numericWrap=n.first))},hostVars:5,hostBindings:function(e,t){2&e&&(ja("dir",t.direction),ys("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",selectOnFocus:"selectOnFocus",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[el([Om,{provide:Tm,useValue:"kendo.numerictextbox"},{provide:c_,useExisting:je((function(){return qN})),multi:!0},{provide:O_,useExisting:je((function(){return qN})),multi:!0},{provide:Qg,useExisting:je((function(){return qN}))}]),Us],decls:7,vars:25,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Qa(0,0),ql(1,IN),Ja(),Ka(2,"span",1,2),Ya(4,"input",3,4),Ba(6,DN,5,18,"span",5),Za()),2&e&&(Dr(2),ys("k-state-disabled",t.disabled),qa("kendoEventsOutsideAngular",Xl(14,RN,t.handleWheel,t.handleWheel)),Dr(2),qa("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",iu(17,MN,t.handleMouseDown,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur,t.handlePaste)),ja("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),Dr(2),qa("ngIf",t.spinners))},directives:function(){return[dL,Vg,fh]},encapsulation:2}),qN),uL=((WN=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm)).\u0275fac=function(e){return cL(e||WN)},WN.\u0275dir=zt({type:WN,inputs:{decrement:"decrement",increment:"increment"},features:[Ls]}),WN),cL=wi(uL),hL=((rL=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:rL}),rL.\u0275inj=Oe({factory:function(e){return new(e||rL)},imports:[[Rh,jg,Bg,Yg]]}),rL),fL=((iL=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:iL}),iL.\u0275inj=Oe({factory:function(e){return new(e||iL)},imports:[[Rh,Bg,Yg]]}),iL),dL=((nL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(uL)).\u0275fac=function(e){return new(e||nL)(Ga(Om))},nL.\u0275dir=zt({type:nL,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[el([{provide:uL,useExisting:je((function(){return nL}))}]),Ls]}),nL),pL=((tL=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:tL}),tL.\u0275inj=Oe({factory:function(e){return new(e||tL)},imports:[[Rh,Bg]]}),tL),vL=((eL=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:eL}),eL.\u0275inj=Oe({factory:function(e){return new(e||eL)},imports:[[Rh,Bg]]}),eL),mL=((XN=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:XN}),XN.\u0275inj=Oe({factory:function(e){return new(e||XN)},imports:[[Rh]]}),XN),gL=((JN=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:JN}),JN.\u0275inj=Oe({factory:function(e){return new(e||JN)},imports:[[hL,pL,Rh,My,jg]]}),JN),yL=((QN=function e(){_classCallCheck(this,e),this.kendoClass=!0}).\u0275fac=function(e){return new(e||QN)},QN.\u0275dir=zt({type:QN,selectors:[["input","kendoCheckBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-checkbox",t.kendoClass)}}),QN),kL=((YN=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:YN}),YN.\u0275inj=Oe({factory:function(e){return new(e||YN)},imports:[[Rh]]}),YN),bL=((ZN=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:ZN}),ZN.\u0275inj=Oe({factory:function(e){return new(e||ZN)},imports:[[Rh]]}),ZN),wL=((KN=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:KN}),KN.\u0275inj=Oe({factory:function(e){return new(e||KN)},imports:[[Rh]]}),KN),CL=(($N=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:$N}),$N.\u0275inj=Oe({factory:function(e){return new(e||$N)},imports:[[Rh],mL,hL,fL,pL,vL,gL,kL,bL,wL]}),$N),_L=function(e){return e?new Date(e.getTime()):null},SL=function(e,t){var n=_L(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},xL=function(e,t){var n=_L(e);return n.setDate(n.getDate()+t),SL(n,e.getHours())},TL=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=new Date(e,t,n,i,r,o,a);return e>-1&&e<100&&s.setFullYear(s.getFullYear()-1900),SL(s,i)},OL=function(e){return TL(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},IL=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()},EL=function(e){var t=TL(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return xL(t,-1)},AL=function e(t,n){var i=_L(t),r=(12+(i.getMonth()+n)%12)%12;return i.setMonth(i.getMonth()+n),function(t,n){return t.getMonth()!==n?EL(e(t,-1)):t}(SL(i,t.getHours()),r)},DL=function(e,t){var n=e.getMonth(),i=TL(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getMonth()===n?i:EL(AL(i,-1))},RL=function(e,t){return SL(DL(e,e.getFullYear()+t),e.getHours())},ML=function(e,t){return RL(e,10*t)},FL=function(e,t){return RL(e,100*t)},PL=function(e,t){return DL(e,t(e.getFullYear()))},zL=function(e){return PL(e,(function(e){return e-e%100}))},NL=function(e){return PL(e,(function(e){return e-e%100+90}))},LL=function(e){return PL(e,(function(e){return e-e%10}))},jL=function(e,t){return(zL(t).getFullYear()-zL(e).getFullYear())/100},VL=function(e){return PL(e,(function(e){return e-e%10+9}))},BL=function(e,t){return(LL(t).getFullYear()-LL(e).getFullYear())/10},HL=function(e,t){return xL(e,7*t)},GL=function(e){return TL(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},UL=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({}),WL=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:UL.Forward,i=_L(e),r=(t-i.getDay()+7*n)%7;return i.setDate(i.getDate()+r),SL(i,e.getHours())},qL=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},$L=function(e,t){var n=e.getDate(),i=TL(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getDate()===n?i:EL(AL(i,-1))},KL=function(e){return $L(e,0)},ZL=function(e){return $L(e,11)},YL=function(e,t){return t.getFullYear()-e.getFullYear()},QL=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({}),JL=function(e,t){var n=TL(e.getFullYear(),0,1,-6),i=function(e,t){return t!==QL.Monday?xL(function(e,t){return WL(e,t,UL.Backward)}(e,t),4):xL(e,4-(e.getDay()||7))}(e,t).getTime()-n.getTime(),r=Math.floor(i/864e5);return 1+Math.floor(r/7)},XL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QL.Monday,n=xL(e,-7),i=xL(e,7),r=JL(e,t);return 0===r?JL(n,t)+1:53===r&&JL(i,t)>1?1:r},ej=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(mg),tj=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(yg))(ej),nj=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=t.call(this,e)).scheduler=i,r.delay=o,r}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new ij(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(dx.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(dx.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(dx.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(T),ij=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},rj=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new oj(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new z;if(this.isStopped||this.hasError?t=_.EMPTY:(this.observers.push(e),t=new N(this,e)),r&&e.add(e=new nj(e,r)),n)for(var a=0;a<o&&!e.closed;a++)e.next(i[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||tj).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i}}]),n}(j),oj=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n},aj=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(mg),sj=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(yg))(aj),lj=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.inclusive=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new uj(e,this.predicate,this.inclusive))}}]),e}(),uj=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=i,o.inclusive=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(T),cj=["*"],hj=["list"];function fj(e,t){if(1&e&&Ds(0),2&e){var n=as().$implicit;Rs(as().service.navigationTitle(n))}}function dj(e,t){}var pj=function(e,t,n){return{$implicit:e,activeView:t,date:n}};function vj(e,t){if(1&e&&(Ka(0,"li"),Ka(1,"span"),Ba(2,fj,1,1,"ng-template",5),Ba(3,dj,0,0,"ng-template",6),Za(),Za()),2&e){var n=t.$implicit,i=t.index,r=as();ja("data-date-index",i),Dr(1),ys("k-calendar-navigation-marker",r.service.isRangeStart(n)),Dr(1),qa("ngIf",!r.templateRef),Dr(1),qa("ngIf",r.templateRef)("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",eu(7,pj,r.service.navigationTitle(n),r.activeViewValue,n))}}var mj=function(e){return{click:e}};function gj(e,t){if(1&e&&(Ka(0,"th"),Ds(1),Za()),2&e){var n=t.$implicit;gs("width",as(2).colWidth,"%"),Dr(1),Rs(n)}}function yj(e,t){if(1&e&&(Ka(0,"table",6),Ka(1,"thead"),Ka(2,"tr"),Ba(3,gj,2,3,"th",7),Za(),Za(),Za()),2&e){var n=as();Dr(3),qa("ngForOf",n.weekNames)}}function kj(e,t){1&e&&Ya(0,"col")}function bj(e,t){if(1&e){var n=es();Ka(0,"tbody",8),is("change",(function(e){return pn(n),as().handleDateChange(e)})),Za()}if(2&e){var i=t.$implicit,r=as();qa("activeView",r.activeView)("isActive",r.isActive)("min",r.min)("max",r.max)("cellUID",r.cellUID)("focusedDate",r.focusedDate)("selectedDate",r.value)("weekNumber",r.weekNumber)("templateRef",r.cellTemplateRef)("weekNumberTemplateRef",r.weekNumberTemplateRef)("viewDate",i)}}var wj=["today",$localize(_templateObject16())];function Cj(e,t){if(1&e){var n=es();Ka(0,"kendo-calendar-navigation",3),is("valueChange",(function(e){return pn(n),as().handleNavigation(e)}))("pageChange",(function(){return pn(n),as().onPageChange()})),Za()}if(2&e){var i=as();qa("activeView",i.activeViewEnum)("focusedDate",i.focusedDate)("min",i.min)("max",i.max)("templateRef",null==i.navigationItemTemplate?null:i.navigationItemTemplate.templateRef)}}var _j=["dateInput"],Sj=["wrap"],xj=["increment",$localize(_templateObject17()),"decrement",$localize(_templateObject18())];function Tj(e,t){if(1&e){var n=es();Ka(0,"span",6),is("mousedown",(function(e){return pn(n),e.preventDefault()})),Ka(1,"span",7),is("mousedown",(function(){pn(n);var e=as();return e.arrowDirection=e.arrow.Up}))("mouseleave",(function(){pn(n);var e=as();return e.arrowDirection=e.arrow.None}))("click",(function(){return pn(n),as().handleButtonClick(1)})),Ya(2,"span",8),Za(),Ka(3,"span",9),is("click",(function(){return pn(n),as().handleButtonClick(-1)}))("mousedown",(function(){pn(n);var e=as();return e.arrowDirection=e.arrow.Down}))("mouseleave",(function(){pn(n);var e=as();return e.arrowDirection=e.arrow.None})),Ya(4,"span",10),Za(),Za()}if(2&e){var i=as();Dr(1),ys("k-state-active",i.arrowDirection===i.arrow.Up),qa("title",i.localization.get("increment")),ja("aria-label",i.localization.get("increment")),Dr(2),ys("k-state-active",i.arrowDirection===i.arrow.Down),qa("title",i.localization.get("decrement")),ja("aria-label",i.localization.get("decrement"))}}var Oj=function(e,t,n,i,r,o,a){return{click:e,focus:t,mousedown:n,touchstart:i,dragstart:r,drop:o,blur:a}},Ij=["container"],Ej=["popupTemplate"],Aj=["wrapper"],Dj=["today",$localize(_templateObject19()),"toggle",$localize(_templateObject20())];function Rj(e,t){}var Mj=function(e){return{keydown:e}};function Fj(e,t){if(1&e){var n=es();Ka(0,"kendo-calendar",9,10),is("valueChange",(function(e){pn(n);var t=as();return t.handleChange(t.mergeTime(e))})),Ya(2,"kendo-calendar-messages",11),Za(),Ba(3,Rj,0,0,"ng-template")}if(2&e){var i=as();qa("min",i.min)("max",i.max)("navigation",i.navigation)("activeView",i.activeView)("bottomView",i.bottomView)("topView",i.topView)("weekNumber",i.weekNumber)("cellTemplate",i.cellTemplate)("monthCellTemplate",i.monthCellTemplate)("yearCellTemplate",i.yearCellTemplate)("decadeCellTemplate",i.decadeCellTemplate)("centuryCellTemplate",i.centuryCellTemplate)("weekNumberTemplate",i.weekNumberTemplate)("headerTitleTemplate",i.headerTitleTemplate)("navigationItemTemplate",i.navigationItemTemplate)("focusedDate",i.focusedDate)("value",i.value)("kendoEventsOutsideAngular",Jl(21,Mj,i.handleKeydown))("scope",i)("disabledDates",i.disabledDates),Dr(2),qa("today",i.localization.get("today"))}}var Pj=function(e,t){return{click:e,mousedown:t}};function zj(e,t){1&e&&Ds(0),2&e&&Rs(as().title)}function Nj(e,t){}$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33()),$localize(_templateObject34()),$localize(_templateObject35()),$localize(_templateObject36()),$localize(_templateObject37()),$localize(_templateObject38()),$localize(_templateObject39()),$localize(_templateObject40()),$localize(_templateObject41()),$localize(_templateObject42());var Lj=["kendoCalendarView",""];function jj(e,t){1&e&&(Ka(0,"td",3),Ds(1,"\xa0"),Za())}function Vj(e,t){if(1&e&&(Ka(0,"tr",4),Ka(1,"th",5),Ds(2),Za(),Za()),2&e){var n=as();Dr(1),qa("colSpan",n.colSpan),Dr(1),Rs(n.title)}}function Bj(e,t){if(1&e&&(Ka(0,"th"),Ds(1),Za()),2&e){var n=t.$implicit;Dr(1),Rs(n)}}function Hj(e,t){if(1&e&&(Ka(0,"tr",4),Ba(1,Bj,2,1,"th",6),Za()),2&e){var n=as();Dr(1),qa("ngForOf",n.weekNames)}}function Gj(e,t){if(1&e&&Ds(0),2&e){var n=as(3).$implicit,i=as();Ms(" ",i.getWeekNumber(i.firstDate(n))," ")}}function Uj(e,t){}var Wj=function(e,t){return{$implicit:e,cellContext:t}};function qj(e,t){if(1&e&&(Ka(0,"td",10),Ba(1,Gj,1,1,"ng-template",7),Ba(2,Uj,0,0,"ng-template",11),Za()),2&e){var n=as(2).$implicit,i=as();Dr(1),qa("ngIf",!i.weekNumberTemplateRef),Dr(1),qa("ngIf",i.weekNumberTemplateRef)("ngTemplateOutlet",i.weekNumberTemplateRef)("ngTemplateOutletContext",Xl(4,Wj,i.firstDate(n),i.getWeekNumberContext(n)))}}function $j(e,t){if(1&e&&Ba(0,qj,3,7,"td",9),2&e){var n=as().$implicit,i=as(),r=Ha(1);qa("ngIf",i.firstDate(n))("ngIfElse",r)}}function Kj(e,t){1&e&&Ds(0),2&e&&Rs(as(2).$implicit.formattedValue)}function Zj(e,t){}function Yj(e,t){if(1&e&&Ba(0,Zj,0,0,"ng-template",16),2&e){var n=as(2).$implicit;qa("ngTemplateOutlet",as(2).templateRef)("ngTemplateOutletContext",Xl(2,Wj,n.value,n))}}function Qj(e,t){if(1&e&&(Ka(0,"td",13),Ka(1,"span",14),Ba(2,Kj,1,1,"ng-template",7),Ba(3,Yj,1,5,void 0,15),Za(),Za()),2&e){var n=as(),i=n.$implicit,r=n.index,o=as().index,a=as();qa("ngClass",a.getStyles(i))("title",i.title),ja("id",i.id)("data-cell-index",a.tableCellIndex(o,r))("aria-selected",i.isSelected||i.isRangeStart||i.isRangeMid||i.isRangeEnd)("aria-disabled",i.isDisabled),Dr(2),qa("ngIf",!a.templateRef),Dr(1),qa("ngIf",a.templateRef)}}function Jj(e,t){if(1&e&&(Qa(0),Ba(1,Qj,4,8,"td",12),Ja()),2&e){var n=t.$implicit;as(2);var i=Ha(1);Dr(1),qa("ngIf",n)("ngIfElse",i)}}function Xj(e,t){if(1&e&&(Ka(0,"tr",4),Ba(1,$j,1,2,"ng-template",7),Ba(2,Jj,2,2,"ng-container",8),Za()),2&e){var n=t.$implicit,i=as();Dr(1),qa("ngIf",i.weekNumber),Dr(1),qa("kForOf",n)}}$localize(_templateObject43()),$localize(_templateObject44()),$localize(_templateObject45()),$localize(_templateObject46()),$localize(_templateObject47()),$localize(_templateObject48());var eV,tV,nV,iV,rV,oV,aV,sV,lV=((eV={})[eV.Left=0]="Left",eV[eV.Right=1]="Right",eV[eV.Up=2]="Up",eV[eV.Down=3]="Down",eV[eV.PrevView=4]="PrevView",eV[eV.NextView=5]="NextView",eV[eV.FirstInView=6]="FirstInView",eV[eV.LastInView=7]="LastInView",eV[eV.LowerView=8]="LowerView",eV[eV.UpperView=9]="UpperView",eV),uV={start:null,end:null},cV=new Date(1900,0,1),hV=new Date(2099,11,31),fV=function(e){return null!=e},dV=function(e,t){var n=_L(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},pV=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],r=e;r<t;r+=n)i.push(r);return i},vV=function(e,t,n){return!e||!(t&&t>e||n&&n<e)},mV=function(e,t){return!fV(e)||!fV(t)||e<=t},gV=function(e,t,n){return e?t&&e<t?_L(t):n&&e>n?_L(n):e:e},yV=function(){return OL(new Date)},kV=function(e){},bV=function(e,t){return e.slice(t).concat(e.slice(0,t))},wV=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);return r.className=n,Object.keys(i).map((function(e){return r.style[e]=i[e]})),"string"==typeof t?r.innerHTML=t||"":(t||[]).forEach((function(e){return e&&r.appendChild(e)})),r}},CV=function(e,t){return void 0!==e[t]},_V=function(e,t){return e[t]&&null!=e[t].currentValue},SV=function(e,t){var n=t||uV,i=n.start,r=n.end;return!(!i||!r)&&i<e&&e<r},xV=[[]],TV=(_defineProperty(r={},lV.Left,(function(e){return ML(e,-1)})),_defineProperty(r,lV.Up,(function(e){return ML(e,-5)})),_defineProperty(r,lV.Right,(function(e){return ML(e,1)})),_defineProperty(r,lV.Down,(function(e){return ML(e,5)})),_defineProperty(r,lV.PrevView,(function(e){return FL(e,-1)})),_defineProperty(r,lV.NextView,(function(e){return FL(e,1)})),_defineProperty(r,lV.FirstInView,(function(e){return zL(e)})),_defineProperty(r,lV.LastInView,(function(e){return NL(e)})),r),OV=((tV=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return FL(e,t)}},{key:"datesList",value:function(e,t){return pV(0,t).map((function(t){return FL(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,a=e.min,s=e.selectedDate,l=e.selectionRange,u=void 0===l?uV:l,c=e.viewDate;if(!c)return xV;var h=pV(0,5),f=zL(c),d=NL(c),p=vV(s,a,o),v=yV();return pV(0,2).map((function(e){var l=ML(f,5*e);return h.map((function(e){var c=t.normalize(ML(l,e),a,o);if(!t.isInRange(c,a,o))return null;var h=t.isEqual(c,u.start),m=t.isEqual(c,u.end),g=!h&&!m&&SV(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&p&&t.isEqual(c,s),isWeekend:!1,isRangeStart:h,isRangeMid:g,isRangeEnd:m,isRangeSplitEnd:g&&t.isEqual(c,d),isRangeSplitStart:g&&t.isEqual(c,f),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&LL(e).getFullYear()===LL(t).getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}},{key:"isInRange",value:function(e,t,n){var i=LL(e).getFullYear(),r=!t||LL(t).getFullYear()<=i,o=!n||i<=LL(n).getFullYear();return r&&o}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=LL(zL(e));return TL(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%1e3==0}},{key:"move",value:function(e,t){var n=TV[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return LL(e).getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?zL(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(zL(e).getFullYear()," - ").concat(NL(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return jL(t,e)}},{key:"total",value:function(e,t){return jL(e,t)+1}},{key:"value",value:function(e){return e?LL(e).getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?FL(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?_L(t):e>n&&this.isEqual(e,n)?_L(n):e}}]),e}()).\u0275fac=function(e){return new(e||tV)},tV.\u0275prov=xe({token:tV,factory:tV.\u0275fac}),tV),IV=[[]],EV=(_defineProperty(o={},lV.Left,(function(e){return RL(e,-1)})),_defineProperty(o,lV.Up,(function(e){return RL(e,-5)})),_defineProperty(o,lV.Right,(function(e){return RL(e,1)})),_defineProperty(o,lV.Down,(function(e){return RL(e,5)})),_defineProperty(o,lV.PrevView,(function(e){return ML(e,-1)})),_defineProperty(o,lV.NextView,(function(e){return ML(e,1)})),_defineProperty(o,lV.FirstInView,(function(e){return LL(e)})),_defineProperty(o,lV.LastInView,(function(e){return VL(e)})),o),AV=((nV=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return ML(e,t)}},{key:"datesList",value:function(e,t){return pV(0,t).map((function(t){return ML(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,a=e.min,s=e.selectedDate,l=e.selectionRange,u=void 0===l?uV:l,c=e.viewDate;if(!c)return IV;var h=pV(0,5),f=LL(c),d=VL(c),p=vV(s,a,o),v=yV();return pV(0,2).map((function(e){var l=RL(f,5*e);return h.map((function(e){var c=t.normalize(RL(l,e),a,o);if(!t.isInRange(c,a,o))return null;var h=t.isEqual(c,u.start),m=t.isEqual(c,u.end),g=!h&&!m&&SV(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&p&&t.isEqual(c,s),isWeekend:!1,isRangeStart:h,isRangeMid:g,isRangeEnd:m,isRangeSplitEnd:g&&t.isEqual(c,d),isRangeSplitStart:g&&t.isEqual(c,f),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}},{key:"isInRange",value:function(e,t,n){var i=e.getFullYear(),r=!t||t.getFullYear()<=i,o=!n||i<=n.getFullYear();return r&&o}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=LL(e);return TL(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%100==0}},{key:"move",value:function(e,t){var n=EV[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return e.getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?LL(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(LL(e).getFullYear()," - ").concat(VL(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return BL(t,e)}},{key:"total",value:function(e,t){return BL(e,t)+1}},{key:"value",value:function(e){return e?e.getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?ML(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?_L(t):e>n&&this.isEqual(e,n)?_L(n):e}}]),e}()).\u0275fac=function(e){return new(e||nV)},nV.\u0275prov=xe({token:nV,factory:nV.\u0275fac}),nV),DV=[[]],RV=(_defineProperty(a={},lV.Left,(function(e){return xL(e,-1)})),_defineProperty(a,lV.Up,(function(e){return HL(e,-1)})),_defineProperty(a,lV.Right,(function(e){return xL(e,1)})),_defineProperty(a,lV.Down,(function(e){return HL(e,1)})),_defineProperty(a,lV.PrevView,(function(e){return AL(e,-1)})),_defineProperty(a,lV.NextView,(function(e){return AL(e,1)})),_defineProperty(a,lV.FirstInView,(function(e){return GL(e)})),_defineProperty(a,lV.LastInView,(function(e){return EL(e)})),a),MV=((iV=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return AL(e,t)}},{key:"datesList",value:function(e,t){return pV(0,t).map((function(t){return AL(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,a=e.min,s=e.selectedDate,l=e.selectionRange,u=void 0===l?uV:l,c=e.viewDate,h=e.isDateDisabled,f=void 0===h?function(){return!1}:h;if(!c)return DV;var d=GL(c),p=OL(d),v=EL(c),m=OL(v),g=vV(s,a,o),y=WL(d,this._intlService.firstDay(),-1),k=pV(0,7),b=yV();return pV(0,6).map((function(e){var l=xL(y,7*e);return k.map((function(e){var c=t.normalize(xL(l,e),a,o),h=OL(c);if(h<p||h>m||c<a||c>o)return null;var y=t.isEqual(c,u.start),k=t.isEqual(c,u.end),w=!y&&!k&&SV(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&g&&t.isEqual(c,s),isWeekend:t.isWeekend(c),isRangeStart:y,isRangeMid:w,isRangeEnd:k,isRangeSplitStart:w&&t.isEqual(c,d),isRangeSplitEnd:w&&t.isEqual(c,v),isToday:t.isEqual(c,b),title:t.cellTitle(c),value:c,isDisabled:f(c)}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&OL(e).getTime()===OL(t).getTime()}},{key:"isInArray",value:function(e,t){if(0===t.length)return!1;var n=this.beginningOfPeriod(t[0]),i=this.beginningOfPeriod(AL(t[t.length-1],1));return n<=e&&e<i}},{key:"isInRange",value:function(e,t,n){var i=OL(e),r=!t||OL(t)<=i,o=!n||i<=OL(n);return r&&o}},{key:"beginningOfPeriod",value:function(e){return e?TL(e.getFullYear(),e.getMonth(),1):e}},{key:"isRangeStart",value:function(e){return!e.getMonth()}},{key:"move",value:function(e,t){var n=RV[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return this._intlService.formatDate(e,"D")}},{key:"navigationTitle",value:function(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}},{key:"title",value:function(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}},{key:"rowLength",value:function(e){return 7+(e?1:0)}},{key:"skip",value:function(e,t){return qL(t,e)}},{key:"total",value:function(e,t){return qL(e,t)+1}},{key:"value",value:function(e){return e?e.getDate().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?AL(e,-1*(n-i)):e}},{key:"isWeekend",value:function(e){var t=this._intlService.weekendRange(),n=t.start,i=t.end,r=e.getDay();return i<n?r<=i||n<=r:n<=r&&r<=i}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?_L(t):e>n&&this.isEqual(e,n)?_L(n):e}},{key:"wideMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}]),e}()).\u0275fac=function(e){return new(e||iV)(ct(_N))},iV.\u0275prov=xe({token:iV,factory:iV.\u0275fac}),iV),FV=[[]],PV=(_defineProperty(s={},lV.Left,(function(e){return AL(e,-1)})),_defineProperty(s,lV.Up,(function(e){return AL(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t})),_defineProperty(s,lV.Right,(function(e){return AL(e,1)})),_defineProperty(s,lV.Down,(function(e){return AL(e,(t=e.getMonth())<7?5:t<10?7:2);var t})),_defineProperty(s,lV.PrevView,(function(e){return RL(e,-1)})),_defineProperty(s,lV.NextView,(function(e){return RL(e,1)})),_defineProperty(s,lV.FirstInView,(function(e){return KL(e)})),_defineProperty(s,lV.LastInView,(function(e){return ZL(e)})),s),zV=((rV=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return RL(e,t)}},{key:"datesList",value:function(e,t){return pV(0,t).map((function(t){return RL(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,a=e.min,s=e.selectedDate,l=e.selectionRange,u=void 0===l?uV:l,c=e.viewDate;if(!c)return FV;var h=this.abbrMonthNames(),f=vV(s,a,o),d=KL(c),p=ZL(c),v=d.getFullYear(),m=pV(0,5),g=yV();return pV(0,3).map((function(e){var l=AL(d,5*e);return m.map((function(e){var c=t.normalize(AL(l,e),a,o),m=v<c.getFullYear();if(!t.isInRange(c,a,o)||m)return null;var y=t.isEqual(c,u.start),k=t.isEqual(c,u.end),b=!y&&!k&&SV(c,u);return{formattedValue:h[c.getMonth()],id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&f&&t.isEqual(c,s),isWeekend:!1,isRangeStart:y,isRangeMid:b,isRangeEnd:k,isRangeSplitEnd:b&&t.isEqual(c,p),isRangeSplitStart:b&&t.isEqual(c,d),isToday:t.isEqual(c,g),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}},{key:"isInRange",value:function(e,t,n){var i=TL(e.getFullYear(),e.getMonth(),1),r=!t||TL(t.getFullYear(),t.getMonth(),1)<=i,o=!n||i<=TL(n.getFullYear(),n.getMonth(),1);return r&&o}},{key:"beginningOfPeriod",value:function(e){return e?TL(e.getFullYear(),0,1):e}},{key:"isRangeStart",value:function(e){return e.getFullYear()%10==0}},{key:"move",value:function(e,t){var n=PV[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}},{key:"navigationTitle",value:function(e){return this.title(e)}},{key:"title",value:function(e){return e?e.getFullYear().toString():""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return YL(t,e)}},{key:"total",value:function(e,t){return YL(e,t)+1}},{key:"value",value:function(e){return e?this.abbrMonthNames()[e.getMonth()]:""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?RL(e,-1*(n-i)):e}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?_L(t):e>n&&this.isEqual(e,n)?_L(n):e}}]),e}()).\u0275fac=function(e){return new(e||rV)(ct(_N))},rV.\u0275prov=xe({token:rV,factory:rV.\u0275fac}),rV),NV=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({}),LV=(_defineProperty(l={},NV.month,MV),_defineProperty(l,NV.year,zV),_defineProperty(l,NV.decade,AV),_defineProperty(l,NV.century,OV),l),jV=((oV=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.viewChanged=new lu,this.bottom=NV.month,this.top=NV.century}return _createClass(e,[{key:"configure",value:function(e,t){this.bottom=e,this.top=t}},{key:"service",value:function(e){var t=LV[e];return t?this.injector.get(t):null}},{key:"moveDown",value:function(e){this.move(e,-1)}},{key:"moveUp",value:function(e){this.move(e,1)}},{key:"moveToBottom",value:function(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}},{key:"canMoveDown",value:function(e){return this.bottom<e}},{key:"canMoveUp",value:function(e){return e<this.top}},{key:"clamp",value:function(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}},{key:"move",value:function(e,t){var n=this.clamp(function(e,t){var n=NV[NV[e+t]];return void 0!==n?n:e}(e,t));n!==e&&this.viewChanged.emit({view:n})}}]),e}()).\u0275fac=function(e){return new(e||oV)(ct(wa))},oV.\u0275prov=xe({token:oV,factory:oV.\u0275fac}),oV),VV=wV("div"),BV=wV("ul"),HV=wV("li"),GV=wV("td"),UV=wV("th"),WV=wV("tr"),qV=wV("tbody"),$V=wV("thead"),KV=wV("table"),ZV=function(e,t){return new Array(e).fill("1").map(t)},YV=function(e){return VV(e,"k-content k-scrollable")},QV=function(){return Mg?(aV||(aV=VV([YV([BV([HV("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),aV):null},JV=function(e,t,n){var i,r=e.cells,o=e.rows;return function(){return Mg?(i||(i=function(e,t,n){return VV([VV('\n            <span class="k-calendar-title">March 2017</span>\n            <span class="k-calendar-today">TODAY</span>\n        ',"k-calendar-header"),n?KV([$V([WV([UV("MO")])])],"k-calendar-weekdays"):null,YV([e,e])],t,{left:"-10000px",position:"absolute"})}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return KV([qV([WV([UV("1")])].concat(ZV(e,(function(){return WV(ZV(t,(function(e){return GV('<span class="k-link">'.concat(e,"</span>"))})))}))))])}(o,r),t,n)),i):null}},XV=function(e){return e.querySelector(".k-scrollable")},eB=function(e){return XV(e).classList.add("k-scrollable-horizontal"),e},tB=JV({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),nB=JV({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),iB=JV({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),rB=function(e){return parseFloat(window.getComputedStyle(e).height)||e.offsetHeight},oB=function(e){var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},aB=function(e){return e.querySelector("tbody")},sB=((sV=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ensureHeights",value:function(){void 0===this.calendarHeight&&this.calculateHeights()}},{key:"calculateHeights",value:function(e){var t=this;Mg()&&(this.hostContainer=e,this.batch(tB(),(function(e){var n=aB(e);t.calendarHeight=rB(e),t.monthViewHeight=rB(n),t.headerHeight=rB(n.children[0]),t.scrollableContentHeight=rB(XV(e))})),this.batch(eB(tB()),(function(e){var n=aB(e);t.calendarWidth=oB(e),t.monthViewWidth=oB(n),t.scrollableContentWidth=oB(XV(e))})),this.batch(nB(),(function(e){t.yearViewHeight=rB(aB(e)),t.scrollableYearContentHeight=rB(XV(e))})),this.batch(eB(nB()),(function(e){t.yearViewWidth=oB(aB(e))})),this.batch(iB(),(function(e){t.decadeViewHeight=rB(aB(e)),t.centuryViewHeight=t.decadeViewHeight})),this.batch(eB(iB()),(function(e){t.decadeViewWidth=oB(aB(e)),t.centuryViewWidth=t.decadeViewWidth})),this.batch(QV(),(function(e){t.navigationItemHeight=rB(e.querySelector("li"))})))}},{key:"viewHeight",value:function(e){return this.viewDimension(e,"height")}},{key:"viewWidth",value:function(e){return this.viewDimension(e,"width")}},{key:"viewDimension",value:function(e,t){var n="height"===t?"ViewHeight":"ViewWidth";switch(e){case NV.month:return this["month"+n];case NV.year:return this["year"+n];case NV.decade:return this["decade"+n];case NV.century:return this["century"+n];default:return 1}}},{key:"batch",value:function(e,t){var n=this.hostContainer||document.body,i=n.appendChild(e);t(i),n.removeChild(i)}}]),e}()).\u0275fac=function(e){return new(e||sV)},sV.\u0275prov=xe({token:sV,factory:sV.\u0275fac}),sV),lB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var r=0,o=0;o<t;o++)this.offsets.push(r),r+=n,this.heights.push(n)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t)}}]),e}(),uB=function(e){return Math.max(e,0)},cB=function e(t){_classCallCheck(this,e),this.offset=t},hB=function e(t){_classCallCheck(this,e),this.skip=t},fB=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}return _createClass(e,[{key:"create",value:function(e,t,n,i){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=o,this.bottomOffset=a,this.direction=s;var l=new rj(2),u=this.rowsForHeight(o),c=uB(t-u);return l.next(new cB(this.rowOffset(c))),u&&l.next(new hB(c)),this.subscription=M.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return l.next(e)})),l}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollLeft,i=e.scrollTop,r=e.offsetHeight,o=e.offsetWidth,a="vertical"===this.direction?i:n,s="vertical"===this.direction?r:o;if(this.lastScroll!==a){var l=this.lastScroll>=a;this.lastScroll=a;var u=this.rowHeightService.index(uB(a-this.topOffset)),c=this.rowHeightService.index(uB(a+s-this.bottomOffset));if(!l&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=u,t.next(new cB(this.rowOffset(u))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new hB(this.firstLoaded))),l&&u<=this.firstLoaded){var h=Math.floor(.3*this.take);this.firstLoaded=uB(u-h),t.next(new cB(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new hB(this.firstLoaded))}}}},{key:"rowOffset",value:function(e){return this.rowHeightService.offset(e)+this.topOffset}},{key:"rowsForHeight",value:function(e){return Math.ceil(e/this.rowHeightService.height(0))}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}]),e}(),dB=new tt("dateinputs-scroll-service-factory");function pB(e){return new fB(e)}var vB,mB,gB,yB,kB,bB,wB,CB,_B,SB,xB,TB,OB,IB,EB,AB,DB,RB,MB,FB,PB,zB,NB,LB,jB,VB,BB,HB,GB,UB,WB,qB,$B,KB,ZB=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({}),YB=(_defineProperty(u={},ZB.Forward,(function(e){return function(t){return t+e}})),_defineProperty(u,ZB.Backward,(function(e){return function(t){return t-e}})),u),QB=(_defineProperty(c={},ZB.Forward,(function(e){return function(t){return Math.min(t,e)}})),_defineProperty(c,ZB.Backward,(function(e){return function(t){return Math.max(t,e)}})),c),JB=(_defineProperty(h={},ZB.Forward,(function(e){return function(t){return t<e}})),_defineProperty(h,ZB.Backward,(function(e){return function(t){return t>e}})),h),XB=((vB=function(){function e(t,n,i,r){_classCallCheck(this,e),this.container=n,this.renderer=i,this.zone=r,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new lu,this.pageChange=new lu,this.scrollChange=new lu,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new j,this.scroller=t(this.dispatcher)}return _createClass(e,[{key:"ngOnChanges",value:function(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}},{key:"ngOnInit",value:function(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.containerScrollSubscription=e.scroll$().pipe(Q((function(e){return e.target}))).subscribe((function(t){e.dispatcher.next(t),e.emitActiveIndex()}))}))}},{key:"ngOnDestroy",value:function(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}},{key:"getContainerProperty",value:function(e){return this.container.nativeElement[e]}},{key:"activeIndex",value:function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}},{key:"itemIndex",value:function(e){return this.rowHeightService.index(e)}},{key:"itemOffset",value:function(e){return this.rowHeightService.offset(e)}},{key:"isIndexVisible",value:function(e){if(!this.rowHeightService)return!1;var t=this.containerScrollPosition,n=t+this.containerOffsetSize,i=this.rowHeightService.offset(e),r=i+this.rowHeightService.height(e);return i>=t&&r<=n}},{key:"isListScrolled",value:function(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}},{key:"scrollTo",value:function(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}},{key:"scrollToIndex",value:function(e){var t=this;this.zone.runOutsideAngular((function(){t.resolvedPromise.then((function(){t.scrollTo(t.rowHeightService.offset(e))}))}))}},{key:"scrollToBottom",value:function(){this.scrollTo(this.totalSize)}},{key:"animateToIndex",value:function(e){var t=this;this.animationSubscription&&this.animationSubscription.unsubscribe();var n=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(n),r=this.scrollRange(n,i),o=r.start,a=r.end;if(o!==a){var s=this.scrollStep(o,a),l=YB[i](s),u=QB[i](a),c=JB[i](l(a));this.zone.runOutsideAngular((function(){t.animationSubscription=wf(gf(o),ix(0,sj)).pipe(Q((function(e){return e[0]})),nd(l),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new lj(e,t))}}(c),Q(u)).subscribe((function(e){return t.scrollTo(e)}))}))}}},{key:"scrollRange",value:function(e,t){var n=this.containerScrollPosition;if(parseInt(e,10)===parseInt(n,10))return{start:e,end:e};var i,r=this.containerMaxScroll(),o=t===ZB.Backward?1:-1,a=(i=this.maxScrollDifference,Math.min(Math.abs(e-n),i)),s=Math.min(e,r);return{start:Math.min(Math.max(s+o*a,0),r),end:s}}},{key:"scrollStep",value:function(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}},{key:"scroll$",value:function(){return Mg()?xg(this.container.nativeElement,"scroll"):Sf}},{key:"initServices",value:function(){var e=this;this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe((function(t){t instanceof hB?e.pageChange.emit(t):e.scrollChange.emit(t)}))}},{key:"createRowHeightService",value:function(){return new lB(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}},{key:"emitActiveIndex",value:function(){var e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}},{key:"containerMaxScroll",value:function(){return this.containerScrollSize-this.containerOffsetSize}},{key:"getContainerScrollDirection",value:function(e){return e<this.containerScrollPosition?ZB.Backward:ZB.Forward}},{key:"totalVertexLength",get:function(){var e=this.totalSize+"px";return"vertical"===this.direction?{height:e}:{width:e}}},{key:"containerOffsetSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}},{key:"containerScrollSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}},{key:"containerScrollPosition",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}},{key:"wrapperClasses",get:function(){return!0}},{key:"horizontalClass",get:function(){return"horizontal"===this.direction}}]),e}()).\u0275fac=function(e){return new(e||vB)(Ga(dB),Ga(rl),Ga(ll),Ga(Xu))},vB.\u0275cmp=At({type:vB,selectors:[["kendo-virtualization"]],hostVars:6,hostBindings:function(e,t){2&e&&ys("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[el([{provide:dB,useValue:pB}]),Us],ngContentSelectors:cj,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(ls(),us(0),Ya(1,"div",0)),2&e&&(Dr(1),ys("k-scrollable-horizontal-placeholder","horizontal"===t.direction),qa("ngStyle",t.totalVertexLength))},directives:[Ah],encapsulation:2}),vB),eH=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},tH=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},nH=((gB=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.bus=t,this.dom=n,this.intl=i,this.cdr=r,this.renderer=o,this.min=new Date(cV),this.max=new Date(hV),this.focusedDate=new Date,this.valueChange=new lu,this.pageChange=new lu,this.dates=[],this.take=30,this.indexToScroll=-1}return _createClass(e,[{key:"ngOnInit",value:function(){this.dom.ensureHeights();var e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.activeViewValue=NV[this.activeView];var t=gV(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(t,this.min),this.total=n,!i&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"handleDateChange",value:function(e){var t=eH(e.target,(function(e){return e.hasAttribute("data-date-index")}),this.list.nativeElement);if(t){var n=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(_L(this.dates[n]))}}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"intlChange",value:function(){this.activeView===NV.month&&this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||gB)(Ga(jV),Ga(sB),Ga(_N),Ga(oa),Ga(ll))},gB.\u0275cmp=At({type:gB,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var n;1&e&&(wu(XB,!0),bu(hj,!0)),2&e&&(ku(n=Tu())&&(t.virtualization=n.first),ku(n=Tu())&&(t.list=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&ys("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[Us],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ya(0,"span",0),Ka(1,"kendo-virtualization",1),is("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),Ka(2,"ul",2,3),Ba(4,vj,4,11,"li",4),Za(),Za()),2&e&&(Dr(1),qa("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),Dr(1),qa("kendoEventsOutsideAngular",Jl(10,mj,t.handleDateChange))("scope",t),Dr(2),qa("kForOf",t.dates))},directives:function(){return[XB,Vg,VH,fh,Dh]},encapsulation:2,changeDetection:0}),gB),iH=((mB=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.bus=t,this.cdr=n,this.intl=i,this.dom=r,this.renderer=o,this.isActive=!0,this.min=new Date(cV),this.max=new Date(hV),this.activeDateChange=new lu,this.valueChange=new lu,this.pageChange=new lu,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=CV(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;var t,n,i=CV(e,"activeView"),r=this.focusedDate,o=gV(this.service.viewDate(r,this.max,this.minViewsToRender),this.min,this.max),a=this.service.total(this.min,this.max),s=this.total&&this.total!==a||!this.service.isInArray(r,this.dates);this.skip=this.service.skip(o,this.min),this.total=a,this.animateToIndex=!i,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),s&&(this.dates=this.service.datesList(o,this.getTake(this.skip))),n=r,(t=this.activeDate)&&n&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()||(this.activeDate=_L(r));var l=CV(e,"focusedDate")||i;(s||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(r,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"setActiveDate",value:function(e){var t=this.service.addToDate(this.min,e);IL(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}},{key:"handleDateChange",value:function(e){this.valueChange.emit(e)}},{key:"isMonthView",value:function(){return this.activeView===NV.month}},{key:"isScrolled",value:function(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}},{key:"getBottomOffset",value:function(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}},{key:"getScrollableHeight",value:function(){return this.activeView===NV.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"getWeekNames",value:function(){var e=bV(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}},{key:"intlChange",value:function(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.isMonthView()},set:function(e){this.showWeekNumbers=e}},{key:"getComponentClass",get:function(){return!0}},{key:"getComponentMonthClass",get:function(){return this.activeView===NV.month}},{key:"getComponentYearClass",get:function(){return this.activeView===NV.year}},{key:"getComponentDecadeClass",get:function(){return this.activeView===NV.decade}},{key:"getComponentCenturyClass",get:function(){return this.activeView===NV.century}}]),e}()).\u0275fac=function(e){return new(e||mB)(Ga(jV),Ga(oa),Ga(_N),Ga(sB),Ga(ll))},mB.\u0275cmp=At({type:mB,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var n;1&e&&(wu(XB,!0),bu(hj,!0)),2&e&&(ku(n=Tu())&&(t.virtualization=n.first),ku(n=Tu())&&(t.list=n.first))},hostVars:10,hostBindings:function(e,t){2&e&&ys("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",value:"value"},outputs:{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"},features:[Us],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","today"],["class","k-calendar-weekdays","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],["list",""],[4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change",4,"kFor","kForOf"],[1,"k-calendar-weekdays",2,"table-layout","auto"],[3,"width",4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change"]],template:function(e,t){1&e&&(Ka(0,"kendo-calendar-header",0),is("today",(function(e){return t.handleDateChange(e)})),Za(),Ba(1,yj,4,1,"table",1),Ka(2,"kendo-virtualization",2),is("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),Ka(3,"table",null,3),Ka(5,"colgroup"),Ba(6,kj,1,0,"col",4),Za(),Ba(7,bj,1,11,"tbody",5),Za(),Za()),2&e&&(qa("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),Dr(1),qa("ngIf",t.isMonthView()),Dr(1),qa("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),Dr(4),qa("ngForOf",t.cols),Dr(1),qa("kForOf",t.dates))},directives:function(){return[BH,fh,XB,ch,VH,GH]},encapsulation:2,changeDetection:0}),mB),rH={33:lV.PrevView,34:lV.NextView,35:lV.LastInView,36:lV.FirstInView,37:lV.Left,38:lV.Up,39:lV.Right,40:lV.Down,"meta+38":lV.UpperView,"meta+40":lV.LowerView},oH=function(){var e=function(){function e(t){_classCallCheck(this,e),this.bus=t}return _createClass(e,[{key:"action",value:function(e){return rH["".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode)]}},{key:"move",value:function(e,t,n){var i=this.bus.service(n);return i?t===lV.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),e):t===lV.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),e):i.move(e,t):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(jV))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),aH=((OB=function(){function e(t,n){_classCallCheck(this,e),this.dom=t,this.zone=n}return _createClass(e,[{key:"configure",value:function(e){var t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=function(e){return function(t){return Math.floor(t/e)}}(t),this.powerByMagnitude=function(e){return function(t){return t*e}}(t)}},{key:"sync",value:function(e,t){var n=this;this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular((function(){var i,r;n.navSubscription=e.scroll$().subscribe((function(e){r?r=!1:(i=!0,n.scrollSiblingOf(e.target))})),n.viewSubscription=t.scroll$().subscribe((function(e){i?i=!1:(r=!0,n.scrollSiblingOf(e.target))}))})))}},{key:"scrollSiblingOf",value:function(e){var t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}},{key:"siblingComponent",value:function(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}},{key:"calculateScroll",value:function(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}},{key:"destroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||OB)(ct(sB),ct(Xu))},OB.\u0275prov=xe({token:OB,factory:OB.\u0275fac}),OB),sH=((TB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||TB)(Ga(Ol))},TB.\u0275dir=zt({type:TB,selectors:[["","kendoCalendarCellTemplate",""]]}),TB),lH=((xB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||xB)(Ga(Ol))},xB.\u0275dir=zt({type:xB,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),xB),uH=((SB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||SB)(Ga(Ol))},SB.\u0275dir=zt({type:SB,selectors:[["","kendoCalendarYearCellTemplate",""]]}),SB),cH=((_B=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||_B)(Ga(Ol))},_B.\u0275dir=zt({type:_B,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),_B),hH=((CB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||CB)(Ga(Ol))},CB.\u0275dir=zt({type:CB,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),CB),fH=((wB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||wB)(Ga(Ol))},wB.\u0275dir=zt({type:wB,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),wB),dH=((bB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||bB)(Ga(Ol))},bB.\u0275dir=zt({type:bB,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),bB),pH=((kB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||kB)(Ga(Ol))},kB.\u0275dir=zt({type:kB,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),kB),vH=((yB=function e(){_classCallCheck(this,e),this.onFocus=new lu,this.onBlur=new lu,this.sameDateSelected=new lu}).\u0275prov=xe({token:yB,factory:yB.\u0275fac=function(e){return new(e||yB)}}),yB),mH=function(e){return function(t){return e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null}},gH=function(e){return function(t){return e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null}},yH=function(e){return e&&(!e.touched||e.control&&"blur"===e.control.updateOn)},kH=function(e){return e.preventDefault()},bH=function(e){return null!=e},wH=function(){return!1},CH=((IB=function(){function e(){_classCallCheck(this,e),this.changes=new j,this.isDateDisabled=wH}return _createClass(e,[{key:"initialize",value:function(e){if("function"==typeof e)this.isDateDisabled=function(t){return e(OL(t))};else if(i=e,Array.isArray(i)&&i.length>0&&i.every((function(e){return"number"==typeof e}))){var t=new Set(e);this.isDateDisabled=function(e){return t.has(e.getDay())}}else if(function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return e instanceof Date}))}(e)){var n=new Set(e.map((function(e){return OL(e).getTime()})));this.isDateDisabled=function(e){return n.has(OL(e).getTime())}}else this.isDateDisabled=wH,this.notifyInvalidInput(e);var i;this.notifyServiceChange()}},{key:"notifyInvalidInput",value:function(e){if(bH(e)&&Ni())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}},{key:"notifyServiceChange",value:function(){this.changes.next()}}]),e}()).\u0275fac=function(e){return new(e||IB)},IB.\u0275prov=xe({token:IB,factory:IB.\u0275fac}),IB),_H=function(e){return e?e.virtualization:null},SH={multi:!0,provide:c_,useExisting:je((function(){return OH}))},xH={multi:!0,provide:O_,useExisting:je((function(){return OH}))},TH={provide:Qg,useExisting:je((function(){return OH}))},OH=((EB=function(){function e(t,n,i,r,o,a,s,l,u,c,h){_classCallCheck(this,e),this.bus=t,this.dom=n,this.element=i,this.navigator=r,this.renderer=o,this.cdr=a,this.ngZone=s,this.injector=l,this.scrollSyncService=u,this.disabledDatesService=c,this.pickerService=h,this.id=Ng(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=NV[NV.month],this.bottomView=NV[NV.month],this.topView=NV[NV.century],this.weekNumber=!1,this.activeViewChange=new lu,this.activeViewDateChange=new lu,this.valueChange=new lu,this.isActive=!1,this.cellUID=Ng(),this._min=new Date(cV),this._max=new Date(hV),this._focusedDate=yV(),this.onControlChange=kV,this.onControlTouched=kV,this.onValidatorChange=kV,this.minValidateFn=kV,this.maxValidateFn=kV,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(i.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe((function(t){var n=t.view;e.activeView=NV[n],e.emitEvent(e.activeViewChange,e.activeView),e.scrollSyncService.configure(n),e.detectChanges()})),this.control=this.injector.get(C_,null),this.element&&this.ngZone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);var t=_V(e,"value")&&!_V(e,"focusedDate"),n=gV(_L(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=IL(this.focusedDate,n)?this.focusedDate:n,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?mH(this.min):kV,this.maxValidateFn=this.rangeValidation?gH(this.max):kV,this.onValidatorChange())}},{key:"ngAfterViewInit",value:function(){this.setAriaActivedescendant()}},{key:"ngAfterViewChecked",value:function(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(_H(this.navigationView),_H(this.monthView)))}},{key:"ngOnDestroy",value:function(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}},{key:"focus",value:function(){this.element&&this.element.nativeElement.focus()}},{key:"blur",value:function(){this.element&&this.element.nativeElement.blur()}},{key:"containsElement",value:function(e){var t=this;return Boolean(tH(e,(function(e){return e===t.element.nativeElement})))}},{key:"handleNavigation",value:function(e){this.disabled||(this.focusedDate=gV(_L(e)||this.focusedDate,this.min,this.max),this.detectChanges())}},{key:"onPageChange",value:function(){var e=this;Xu.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=te(this.resolvedPromise).subscribe((function(){e.detectChanges()})))}},{key:"handleDateChange",value:function(e){var t=this,n=this.bus.canMoveDown(this.activeViewEnum),i=!n&&IL(e,this.value);this.focusedDate=_L(e)||this.focusedDate,this.disabled||(i?this.emitSameDate():n?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run((function(){t.value=_L(e),t.onControlChange(_L(e)),t.valueChange.emit(_L(e)),t.cdr.markForCheck()})))}},{key:"writeValue",value:function(e){this.verifyValue(e),this.focusedDate=gV(_L(e)||this.focusedDate,this.min,this.max),this.value=_L(e),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"activeCellTemplate",value:function(){switch(this.activeViewEnum){case NV.month:return this.monthCellTemplate||this.cellTemplate;case NV.year:return this.yearCellTemplate;case NV.decade:return this.decadeCellTemplate;case NV.century:return this.centuryCellTemplate;default:return null}}},{key:"emitEvent",value:function(e,t){zg(e)&&this.ngZone.run((function(){e.emit(t)}))}},{key:"setClasses",value:function(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}},{key:"verifyChanges",value:function(){if(Ni()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}},{key:"verifyValue",value:function(e){if(Ni()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",kH),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}},{key:"emitBlur",value:function(e){this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"emitFocus",value:function(){this.pickerService&&this.pickerService.onFocus.emit()}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,!this.pickerService&&yH(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e),t.cdr.markForCheck()})):(this.emitBlur(e),this.detectChanges())}},{key:"handleFocus",value:function(){this.isActive=!0,Xu.isInAngularZone()||this.detectChanges(),this.emitFocus()}},{key:"handleClick",value:function(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=_L(this.focusedDate),this.detectChanges()),this.focus())}},{key:"handleKeydown",value:function(e){var t=-1!==[Jg.ArrowUp,Jg.ArrowRight,Jg.ArrowDown,Jg.ArrowLeft].indexOf(e.keyCode);if(!(bH(this.pickerService)&&t&&e.altKey)){var n=gV(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);IL(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),e.preventDefault()),e.keyCode===Jg.Enter&&this.handleDateChange(this.focusedDate)}}},{key:"detectChanges",value:function(){this.destroyed||this.cdr.detectChanges()}},{key:"emitSameDate",value:function(){this.pickerService&&this.pickerService.sameDateSelected.emit()}},{key:"setAriaActivedescendant",value:function(){if(bH(this.element)){var e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}},{key:"focusedDate",set:function(e){this._focusedDate=e||yV(),this.setAriaActivedescendant()},get:function(){return this._focusedDate}},{key:"min",set:function(e){this._min=e||new Date(cV)},get:function(){return this._min}},{key:"max",set:function(e){this._max=e||new Date(hV)},get:function(){return this._max}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this._value=_L(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this.disabledDatesService.initialize(e)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"activeViewEnum",get:function(){var e=NV[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}},{key:"bottomViewEnum",get:function(){return NV[this.bottomView]}},{key:"topViewEnum",get:function(){return NV[this.topView]}},{key:"widgetId",get:function(){return this.id}},{key:"widgetRole",get:function(){return"grid"}},{key:"calendarTabIndex",get:function(){return this.disabled?void 0:this.tabIndex}},{key:"ariaDisabled",get:function(){return this.disabled}}]),e}()).\u0275fac=function(e){return new(e||EB)(Ga(jV),Ga(sB),Ga(rl),Ga(oH),Ga(ll),Ga(oa),Ga(Xu),Ga(wa),Ga(aH),Ga(CH),Ga(vH,8))},EB.\u0275cmp=At({type:EB,selectors:[["kendo-calendar"]],contentQueries:function(e,t,n){var i;1&e&&(Su(n,sH,!0),Su(n,lH,!0),Su(n,uH,!0),Su(n,cH,!0),Su(n,hH,!0),Su(n,fH,!0),Su(n,dH,!0),Su(n,pH,!0)),2&e&&(ku(i=Tu())&&(t.cellTemplate=i.first),ku(i=Tu())&&(t.monthCellTemplate=i.first),ku(i=Tu())&&(t.yearCellTemplate=i.first),ku(i=Tu())&&(t.decadeCellTemplate=i.first),ku(i=Tu())&&(t.centuryCellTemplate=i.first),ku(i=Tu())&&(t.weekNumberTemplate=i.first),ku(i=Tu())&&(t.headerTitleTemplate=i.first),ku(i=Tu())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(wu(nH,!0),wu(iH,!0)),2&e&&(ku(n=Tu())&&(t.navigationView=n.first),ku(n=Tu())&&(t.monthView=n.first))},hostVars:8,hostBindings:function(e,t){2&e&&(ja("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),ys("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[el([jV,SH,xH,TH,Om,CH,{provide:Tm,useValue:"kendo.calendar"},oH,aH]),Us],decls:4,vars:12,consts:[["kendoCalendarLocalizedMessages","",6,"today"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","value","valueChange","activeDateChange","pageChange"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"]],template:function(e,t){if(1&e&&(Qa(0,0),ql(1,wj),Ja(),Ba(2,Cj,1,5,"kendo-calendar-navigation",1),Ka(3,"kendo-calendar-viewlist",2),is("valueChange",(function(e){return t.handleDateChange(e)}))("activeDateChange",(function(e){return t.emitEvent(t.activeViewDateChange,e)}))("pageChange",(function(){return t.onPageChange()})),Za()),2&e){var n,i=null==(n=t.activeCellTemplate())?null:n.templateRef;Dr(2),qa("ngIf",t.navigation),Dr(1),qa("activeView",t.activeViewEnum)("isActive",t.isActive)("cellTemplateRef",i)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("value",t.value)}},directives:function(){return[KH,fh,iH,nH]},encapsulation:2,changeDetection:0}),EB),IH=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({}),EH=/year|month|<day>/,AH=/hour|minute|second|millisecond/,DH=/d|M|H|h|m|s/,RH=function(e){return e.replace(/^0*/,"")},MH=function e(){_classCallCheck(this,e),this.symbols=""},FH=function(){function e(t,n,i,r){if(_classCallCheck(this,e),this.intl=t,this.formatPlaceholder=n,this.format=i,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=OL(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),r)this.value=_L(r);else{this.value=OL(new Date);for(var o=this.dateFormatString(this.value,this.format).symbols,a=0;a<o.length;a++)this.setExisting(o[a],!1)}}return _createClass(e,[{key:"hasValue",value:function(){var e=this;return this.intl.splitDateFormat(this.format).reduce((function(t,n){return t||"literal"!==n.type&&"dayperiod"!==n.type&&e.getExisting(n.pattern[0])}),!1)}},{key:"getDateObject",value:function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return _L(this.value)}},{key:"getTextAndFormat",value:function(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}},{key:"getExisting",value:function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}},{key:"modifyPart",value:function(e,t){var n=_L(this.value);switch(e){case"y":n.setFullYear(n.getFullYear()+t);break;case"M":n=AL(this.value,t);break;case"d":case"E":n.setDate(n.getDate()+t);break;case"h":case"H":n.setHours(n.getHours()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"s":n.setSeconds(n.getSeconds()+t);break;case"a":n.setHours(n.getHours()+12*t)}n.getFullYear()>0&&(this.setExisting(e,!0),this.value=n)}},{key:"parsePart",value:function(e,t,n){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};for(var i=this.intl.formatDate(this.value,this.format),r=this.dateFormatString(this.value,this.format),o=r.symbols,a=!1,s="",l="",u="",c=0;c<i.length;c++)o[c]===e?(l+=this.getExisting(e)?i[c]:"0",a=!0):a?u+=i[c]:s+=i[c];var h=l.length-3,f=null,d=this.matchMonth(t),p=this.matchDayPeriod(t,e),v="0"===t,m=(this.leadingZero||{})[e]||0;v?0!==parseInt(n?t:l+t,10)||this.isAbbrMonth(r.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(var g=Math.max(0,h);g<=l.length;g++){var y=n?t:l.substring(g)+t,k=parseInt(y,10);if(!(f=this.intl.parseDate(s+y+u,this.format))&&!isNaN(k)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){var b=k-1;b>-1&&b<12&&((f=_L(this.value)).setMonth(b),f.getMonth()!==b&&(f=EL(AL(f,-1))))}"y"===e&&(f=TL(parseInt(y,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=EL(AL(f,-1))))}if(f){var w=this.partPattern(r.partMap,e).pattern,C=this.intl.parseDate("".concat(s).concat(this.peek(y,w)).concat(u),this.format),_=this.patternLength(w)||w.length,S=m+(RH(y)||t).length>=_,x=null===C||S;return this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:x}}}return d&&(f=this.intl.parseDate(s+d+u,this.format))?(this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(f=this.intl.parseDate(s+p+u,this.format))?(this.value=f,{value:this.value,switchToNext:!0}):(v&&this.setExisting(e,!1),{value:null,switchToNext:!1})}},{key:"resetLeadingZero",value:function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e}},{key:"setLeadingZero",value:function(e){this.leadingZero=e}},{key:"incrementLeadingZero",value:function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}},{key:"isAbbrMonth",value:function(e,t){var n=this.partPattern(e,t);return"month"===n.type&&n.names}},{key:"partPattern",value:function(e,t){return e.filter((function(e){return-1!==e.pattern.indexOf(t)}))[0]}},{key:"peek",value:function(e,t){var n=RH(e)+"0";return function(e){return new Array(Math.max(e,0)).fill("0").join("")}(t.length-n.length)+n}},{key:"matchMonth",value:function(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(e,t){var n=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"allDayPeriods",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"patternLength",value:function(e){return"y"===e[0]?4:DH.test(e)?2:0}},{key:"dateFormatString",value:function(e,t){for(var n=this.intl.splitDateFormat(t),i=[],r=[],o=0;o<n.length;o++)for(var a=this.intl.formatDate(e,{pattern:n[o].pattern}).length;a>0;)i.push(this.symbols[n[o].pattern[0]]||"_"),r.push(n[o]),a--;var s=new MH;return s.symbols=i.join(""),s.partMap=r,s}},{key:"merge",value:function(e,t){for(var n="",i="",r=t.symbols,o=r.length-1;o>=0;o--)if(-1===this.knownParts.indexOf(r[o])||this.getExisting(r[o]))n=e[o]+n,i=r[o]+i;else{for(var a=r[o];o>=0&&a===r[o];)o--;for(o++,n=this.leadingZero&&this.leadingZero[a]?"0"+n:this.dateFieldName(t.partMap[o])+n;i.length<n.length;)i=r[o]+i}return[n,i]}},{key:"dateFieldName",value:function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}]),e}(),PH=((AB=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.cdr=t,this.intl=n,this.renderer=i,this.element=r,this.ngZone=o,this.injector=a,this.localization=s,this.pickerService=l,this.focusableId="k-"+Ng(),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new lu,this.valueUpdate=new lu,this.onFocus=new lu,this.onBlur=new lu,this.arrow=IH,this.arrowDirection=IH.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidateFn=kV,this.maxValidateFn=kV,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=kV,this.onControlTouched=kV,this.onValidatorChange=kV,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}return _createClass(e,[{key:"isEmpty",value:function(){return!this.currentValue||!String(this.currentValue).trim()}},{key:"containsElement",value:function(e){var t=this;return Boolean(tH(e,(function(e){return e===t.element.nativeElement})))}},{key:"ngOnChanges",value:function(e){this.verifyRange(),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?mH(this.min):kV,this.maxValidateFn=this.rangeValidation?gH(this.max):kV,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());var t=this.kendoDate&&IL(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach((function(e){return e()}))}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"ngOnInit",value:function(){var e=this;this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.control=this.injector.get(C_,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=_L(e),this.updateElementValue(this.isActive)}},{key:"triggerChange",value:function(){var e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=_L(e),this.notify())}},{key:"notify",value:function(){var e=this;this.ngZone.run((function(){e.onControlChange(_L(e.value)),e.valueChange.emit(_L(e.value))}))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"focus",value:function(){var e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}},{key:"blur",value:function(){var e=this.inputElement;e&&e.blur()}},{key:"handleButtonClick",value:function(e){this.arrowDirection=IH.None,this.modifyDateSegmentValue(e)}},{key:"modifyDateSegmentValue",value:function(e){var t=this.caret(),n=this.currentFormat[t[0]];this.kendoDate.modifyPart(n,e*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n)}},{key:"switchDateSegment",value:function(e){var t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;for(var n=this.currentFormat[t[0]],i=t[0]+e;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=e;if("_"===this.currentFormat[i])return!1;for(var r=i;r>=0&&r<this.currentFormat.length&&this.currentFormat[r]===this.currentFormat[i];)r+=e;return i>r&&(r+1!==t[0]||i+1!==t[1])?(this.caret(r+1,i+1),this.resetSegmentValue=!0,!0):i<r&&(i!==t[0]||r!==t[1])&&(this.caret(i,r),this.resetSegmentValue=!0,!0)}},{key:"selectDateSegment",value:function(e){for(var t=-1,n=0,i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===e&&(n=i+1,-1===t&&(t=i));t<0&&(t=0),this.caret(0,0),this.caret(t,n)}},{key:"handleClick",value:function(){if(this.hasMousedown=!1,this.isActive){var e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=bH(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,n=!e&&t?0:this.caret()[0];this.selectNearestSegment(n)}}},{key:"handleDragAndDrop",value:function(e){e.preventDefault()}},{key:"handleMousedown",value:function(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}},{key:"handleFocus",value:function(e){var t=this;this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,zg(this.onFocus)?this.ngZone.run((function(){t.emitFocus(e)})):this.emitFocus(e)}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),zg(this.onBlur)||yH(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e),t.cdr.markForCheck()})):this.emitBlur(e)}},{key:"getKendoDate",value:function(e){var t=(this.kendoDate||{}||null).leadingZero,n=new FH(this.intl,this.formatPlaceholder,this.format,e);return n.setLeadingZero(this.isActive?t:null),n}},{key:"dateSymbolMap",value:function(){return this.intl.splitDateFormat(this.format).reduce((function(e,t){return e[t.pattern[0]]=t.type,e}),{})}},{key:"updateElementValue",value:function(e){var t=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&bH(this.placeholder)&&!this.kendoDate.hasValue(),r=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(r,"value",this.currentValue),r.placeholder!==this.placeholder&&this.renderer.setProperty(r,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}},{key:"caret",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=void 0!==e,i=[e,e],r=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==r.selectionStart&&(n&&(Mg()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(e,t)),i=[r.selectionStart,r.selectionEnd])}catch(o){i=[]}return i}}},{key:"selectNearestSegment",value:function(e){for(var t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}},{key:"verifyRange",value:function(){if(Ni()&&!mV(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ni()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}},{key:"putDateInRange",value:function(){var e=this.kendoDate.getDateObject(),t=gV(e,this.min,this.max);this.autoCorrect&&!IL(e,t)&&(this.kendoDate=this.getKendoDate(t))}},{key:"updateFormatSections",value:function(){this.formatSections=this.intl.splitDateFormat(this.format).reduce((function(e,t){var n=e.date,i=e.time;return{date:n||EH.test(t.type),time:i||AH.test(t.type)}}),{date:!1,time:!1})}},{key:"intlChange",value:function(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}},{key:"updateOnPaste",value:function(){var e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}},{key:"handleMouseWheel",value:function(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}},{key:"handlePaste",value:function(){this.paste=!0}},{key:"handleKeydown",value:function(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==Jg.Tab)if(e.keyCode!==Jg.Backspace){switch(e.keyCode){case Jg.ArrowDown:this.modifyDateSegmentValue(-1);break;case Jg.ArrowUp:this.modifyDateSegmentValue(1);break;case Jg.ArrowRight:this.switchDateSegment(1);break;case Jg.ArrowLeft:this.switchDateSegment(-1);break;case Jg.Home:this.selectNearestSegment(0);break;case Jg.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}},{key:"handleInput",value:function(){if(!this.disabled&&!this.readonly){if(this.paste)return this.updateOnPaste(),void(this.paste=!1);var e=function(e,t,n,i){var r=i+e.length-n.length,o=e[r],a=e.substring(0,i+e.length-n.length),s=n.substring(0,i),l=[];if(a===s&&i>0)return l.push([t[i-1],s[i-1]]),l;if(0===a.indexOf(s)&&(0===s.length||t[s.length-1]!==t[s.length])){var u="";1===s.length&&l.push([t[0],s[0]]);for(var c=s.length;c<a.length;c++)t[c]!==u&&"_"!==t[c]&&(u=t[c],l.push([u,""]));return l}if(0===s.indexOf(a)||"_"===t[i-1]){for(var h=t[0],f=Math.max(0,a.length-1);f<t.length;f++)if("_"!==t[f]){h=t[f];break}return[[h,s[i-1]]]}return" "===s[s.length-1]||s[s.length-1]===o&&"_"===t[r]?[[t[i-1],"_"]]:[[t[i-1],s[i-1]]]}(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1],n=!1;if(!t){for(var i=0;i<e.length;i++)n=this.kendoDate.parsePart(e[i][0],e[i][1],this.resetSegmentValue).switchToNext;var r=this.kendoDate.getDateObject();this.value&&r&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(dV(this.value,r)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(n||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}}},{key:"emitFocus",value:function(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}},{key:"emitBlur",value:function(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"value",set:function(e){this.verifyValue(e),this.autoCorrect&&!vV(e,this.min,this.max)||(this._value=_L(e),this.valueUpdate.emit(_L(e)))},get:function(){return this._value}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputElement",get:function(){return this.dateInput?this.dateInput.nativeElement:null}},{key:"inputValue",get:function(){return(this.inputElement||{}).value||""}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrap&&!bH(this.pickerService)){var t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}}]),e}()).\u0275fac=function(e){return new(e||AB)(Ga(oa),Ga(_N),Ga(ll),Ga(rl),Ga(Xu),Ga(wa),Ga(Om),Ga(vH,8))},AB.\u0275cmp=At({type:AB,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var n;1&e&&(bu(_j,!0),wu(Sj,!0)),2&e&&(ku(n=Tu())&&(t.dateInput=n.first),ku(n=Tu())&&(t.wrap=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&ys("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",steps:"steps",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[el([{provide:c_,useExisting:je((function(){return AB})),multi:!0},{provide:O_,useExisting:je((function(){return AB})),multi:!0},{provide:Tm,useValue:"kendo.dateinput"},{provide:Qg,useExisting:je((function(){return AB}))},Om]),Us],decls:7,vars:21,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Qa(0,0),ql(1,xj),Ja(),Ka(2,"span",1,2),Ya(4,"input",3,4),Ba(6,Tj,5,8,"span",5),Za()),2&e&&(Dr(4),qa("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",iu(13,Oj,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),ja("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),Dr(2),qa("ngIf",t.spinners))},directives:function(){return[eG,Vg,fh]},encapsulation:2,changeDetection:0}),AB),zH=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),NH=new tt("dateinputs-touch-enabled"),LH=((DB=function(){function e(t,n,i,r,o,a,s,l,u,c){_classCallCheck(this,e),this.zone=t,this.localization=n,this.cdr=i,this.popupService=r,this.element=o,this.renderer=a,this.injector=s,this.pickerService=l,this.disabledDatesService=u,this.touchEnabled=c,this.focusableId="k-"+Ng(),this.activeView=NV[NV.month],this.bottomView=NV[NV.month],this.topView=NV[NV.century],this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=_L(cV),this.max=_L(hV),this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new lu,this.onFocus=new lu,this.onBlur=new lu,this.open=new lu,this.close=new lu,this.wrapperClasses=!0,this.popupUID=Ng(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=kV,this.onControlTouched=kV,this.onValidatorChange=kV,this.minValidateFn=kV,this.maxValidateFn=kV,this.disabledDatesValidateFn=kV,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this)))}return _createClass(e,[{key:"isEmpty",value:function(){return!this.value&&this.input.isEmpty()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(){return e.cdr.markForCheck()})),this.control=this.injector.get(C_,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"ngOnChanges",value:function(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates)&&(this.minValidateFn=this.rangeValidation?mH(this.min):kV,this.maxValidateFn=this.rangeValidation?gH(this.max):kV,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,function(e){return t&&e.value&&t(e.value)?{disabledDate:!0}:null}):kV,this.onValidatorChange())}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerSubscriptions.unsubscribe()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.value=_L(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){(this.calendar||this.input).blur()}},{key:"toggle",value:function(e){var t=this;this.disabled||this.readonly||this.resolvedPromise.then((function(){t._toggle(void 0===e?!t.show:e)}))}},{key:"handleIconClick",value:function(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}},{key:"handleMousedown",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(_L(e)),this.valueChange.emit(_L(e))}},{key:"handleInputChange",value:function(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}},{key:"mergeTime",value:function(e){return this.value&&e?dV(e,this.value):e}},{key:"handleKeydown",value:function(e){var t=e.altKey,n=e.keyCode;n===Jg.Escape&&(this.show=!1),t&&(n!==Jg.ArrowDown||this.show||(this.show=!0),n===Jg.ArrowUp&&(this.show=!1)),n===Jg.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}},{key:"togglePopup",value:function(e){var t=new zH;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}},{key:"_toggle",value:function(e){var t=this;if(this._show=e,this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()),this._show){var n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:n},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:n},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.show=!1}))}}},{key:"focusInput",value:function(){this.touchEnabled||this.input.focus()}},{key:"toggleFocus",value:function(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}},{key:"verifySettings",value:function(){if(Ni()&&!mV(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ni()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=xg(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}},{key:"handleFocus",value:function(){var e=this;this.isActive||(this.isActive=!0,zg(this.onFocus)&&this.zone.run((function(){e.onFocus.emit()})))}},{key:"handleWindowBlur",value:function(){this.isOpen&&(this.show=!1)}},{key:"handleBlur",value:function(e){var t=this,n=e&&(e.relatedTarget||document.activeElement);n&&(this.input.containsElement(n)||this.calendar&&this.calendar.containsElement(n))||(zg(this.onBlur)||this.show&&zg(this.close)||yH(this.control)?this.zone.run((function(){t.blurComponent(),t.cdr.markForCheck()})):this.blurComponent())}},{key:"blurComponent",value:function(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}},{key:"handleSameSelection",value:function(){this.show&&(this.focusInput(),this.show=!1)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({},{animate:!0},e)},get:function(){return this._popupSettings}},{key:"value",set:function(e){this.verifyValue(e),this._value=_L(e)},get:function(){return this._value}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this._disabledDates=e,this.disabledDatesService.initialize(e)},get:function(){return this._disabledDates}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputRole",get:function(){return this.readOnlyInput?"listbox":"spinbutton"}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrapper){var t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"show",get:function(){return this._show},set:function(e){var t=this;e&&(this.disabled||this.readonly)||(e||this._show&&zg(this.close)?this.zone.run((function(){t.togglePopup(e)})):this.togglePopup(e))}},{key:"isOpen",get:function(){return this.show}},{key:"popupClasses",get:function(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"input",get:function(){return this.pickerService.input}},{key:"calendar",get:function(){return this.pickerService.calendar}}]),e}()).\u0275fac=function(e){return new(e||DB)(Ga(Xu),Ga(Om),Ga(oa),Ga(Ry),Ga(rl),Ga(ll),Ga(wa),Ga(vH),Ga(CH),Ga(NH,8))},DB.\u0275cmp=At({type:DB,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,sH,!0),_u(n,lH,!0),_u(n,uH,!0),_u(n,cH,!0),_u(n,hH,!0),_u(n,fH,!0),_u(n,dH,!0),_u(n,pH,!0)),2&e&&(ku(i=Tu())&&(t.cellTemplate=i.first),ku(i=Tu())&&(t.monthCellTemplate=i.first),ku(i=Tu())&&(t.yearCellTemplate=i.first),ku(i=Tu())&&(t.decadeCellTemplate=i.first),ku(i=Tu())&&(t.centuryCellTemplate=i.first),ku(i=Tu())&&(t.weekNumberTemplate=i.first),ku(i=Tu())&&(t.headerTitleTemplate=i.first),ku(i=Tu())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(wu(Ij,!0,El),wu(Ej,!0),wu(Aj,!0)),2&e&&(ku(n=Tu())&&(t.container=n.first),ku(n=Tu())&&(t.popupTemplate=n.first),ku(n=Tu())&&(t.wrapper=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&ys("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",focusedDate:"focusedDate",format:"format",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[el([{provide:c_,useExisting:je((function(){return DB})),multi:!0},{provide:O_,useExisting:je((function(){return DB})),multi:!0},{provide:Qg,useExisting:je((function(){return DB}))},Om,vH,CH,{provide:Tm,useValue:"kendo.datepicker"}]),Us],decls:12,vars:24,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle"],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","formatPlaceholder","placeholder","min","max","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"min","max","navigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today"]],template:function(e,t){1&e&&(Qa(0,0),ql(1,Dj),Ja(),Ka(2,"span",1,2),Ka(4,"kendo-dateinput",3,4),is("valueChange",(function(e){return t.handleInputChange(e)})),Za(),Ka(6,"span",5),Ya(7,"span",6),Za(),Za(),Xa(8,null,7),Ba(10,Fj,4,23,"ng-template",null,8,Au)),2&e&&(Dr(2),ys("k-state-disabled",t.disabled),Dr(2),qa("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("value",t.value),Dr(2),qa("kendoEventsOutsideAngular",Xl(21,Pj,t.handleIconClick,t.handleMousedown))("scope",t),ja("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[rG,PH,Vg,OH,ZH]},encapsulation:2,changeDetection:0}),DB),jH=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.kForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),VH=((LB=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._differ=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if("kForOf"in e){var t=e.kForOf.currentValue;if(this._differ||!t)return;try{this._differ=this._differs.find(t).create(this.kForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((n=t).name||typeof n,"'."))}}var n}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(e){if(Mg()){var t=this._viewContainer.length,n=this.kForOf.length,i={};e.forEachOperation((function(e,t,n){null!==n&&(i[n]=e.item)}));for(var r=t;r<n;r++)this._viewContainer.createEmbeddedView(this._template,new jH(null,this.kForOf,-1,-1),r);for(var o=this._viewContainer.length;o>n;o--)this._viewContainer.remove(o-1);for(var a=0;a<this._viewContainer.length;a++){var s=this._viewContainer.get(a);s.context.index=a,s.context.count=length,s.context.$implicit=i[a]||null}}}},{key:"kForTemplate",set:function(e){e&&(this._template=e)}}]),e}()).\u0275fac=function(e){return new(e||LB)(Ga(El),Ga(Ol),Ga(Cl))},LB.\u0275dir=zt({type:LB,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[Us]}),LB),BH=((NB=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.bus=t,this.cdr=n,this.localization=i,this.intl=r,this.disabledDatesService=o,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(cV),this.max=new Date(hV),this.rangeLength=1,this.today=new lu,this.subscriptions=new _}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}},{key:"ngOnChanges",value:function(e){this.bus.service(this.activeView)&&(this.activeViewValue=NV[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"handleTodayClick",value:function(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(gV(yV(),this.min,this.max)))}},{key:"handleNavigation",value:function(){this.navigate&&this.bus.moveUp(this.activeView)}},{key:"intlChange",value:function(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}},{key:"l10nChange",value:function(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}},{key:"getTitle",value:function(){if(!this.currentDate)return"";var e=this.bus.service(this.activeView),t=this.rangeLength-1,n=e.title(this.currentDate),i=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(i,this.min,this.max)?n:"".concat(n," - ").concat(e.title(i))}},{key:"setTodayAvailability",value:function(){var e=yV(),t=vV(e,OL(this.min),OL(this.max)),n=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!n,this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||NB)(Ga(jV),Ga(oa),Ga(Om),Ga(_N),Ga(CH))},NB.\u0275cmp=At({type:NB,selectors:[["kendo-calendar-header"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-calendar-header",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{today:"today"},features:[Us],decls:5,vars:21,consts:[[1,"k-button","k-bare","k-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-today",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&(Ka(0,"span",0),Ba(1,zj,1,1,"ng-template",1),Ba(2,Nj,0,0,"ng-template",2),Za(),Ka(3,"span",3),Ds(4),Za()),2&e&&(ys("k-state-disabled",!t.navigate),qa("kendoEventsOutsideAngular",Jl(13,mj,t.handleNavigation))("scope",t),Dr(1),qa("ngIf",!t.templateRef),Dr(1),qa("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",eu(15,pj,t.title,t.activeViewValue,t.currentDate)),Dr(1),ys("k-state-disabled",!t.todayAvailable),qa("kendoEventsOutsideAngular",Jl(19,mj,t.handleTodayClick))("scope",t),Dr(1),Ms(" ",t.todayMessage," "))},directives:[Vg,fh,Dh],encapsulation:2}),NB),HH=((zB=function(){function e(t){_classCallCheck(this,e),this.intl=t}return _createClass(e,[{key:"getWeekNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=bV(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}]),e}()).\u0275fac=function(e){return new(e||zB)(ct(_N))},zB.\u0275prov=xe({token:zB,factory:zB.\u0275fac}),zB),GH=((PB=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.bus=t,this.intl=n,this.cdr=i,this.weekService=r,this.element=o,this.zone=a,this.renderer=s,this.disabledDatesService=l,this.direction="vertical",this.isActive=!0,this.change=new lu,this.cellEnter=new lu,this.cellLeave=new lu,this.weekNames=[],this.colSpan=0,this.subscriptions=new _,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.element&&this.zone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.domEvents.forEach((function(e){return e()}))}},{key:"isHorizontal",value:function(){return"horizontal"===this.direction}},{key:"isMonthView",value:function(){return this.activeView===NV.month}},{key:"firstDate",value:function(e){var t=this.firstWeekDateContext(e);return t?t.value:null}},{key:"getWeekNumber",value:function(e){return this.weekNumber?XL(e,this.intl.firstDay()):null}},{key:"getWeekNumberContext",value:function(e){var t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;var n=XL(t.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:_L(t.value)}}},{key:"getStyles",value:function(e){var t,n=e.isRangeEnd,i=e.isRangeStart;return t={"k-range-end":n,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":i,"k-state-active":"start"===this.activeRangeEnd&&i||"end"===this.activeRangeEnd&&n,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||i||n,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(t).reduce((function(e,n){return t[n]?e.concat(n):e}),[]).join(" ")}},{key:"tableCellIndex",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"firstWeekDateContext",value:function(e){if(!this.weekNumber)return null;for(var t=0,n=e[t];!n&&t<e.length;)n=e[++t];return n}},{key:"updateData",value:function(){var e=this.selectedDate||yV(),t=dV(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}},{key:"intlChange",value:function(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}},{key:"disabledDatesChange",value:function(){this.updateData(),this.cdr.markForCheck()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}},{key:"clickHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index"),i=this.cellByIndex(n);i.isDisabled||this.change.emit(i.value)}}},{key:"mouseLeaveHandler",value:function(){this.currentCellIndex&&this.emitCellLeave()}},{key:"cellMouseoverHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==n&&this.emitCellLeave();var i=this.cellByIndex(n).value;this.cellEnter.emit(i),this.currentCellIndex=n}else this.currentCellIndex&&this.emitCellLeave()}},{key:"closestCell",value:function(e){return eH(e.target,(function(e){return e.hasAttribute("data-cell-index")}),this.element.nativeElement)}},{key:"emitCellLeave",value:function(){var e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}},{key:"cellByIndex",value:function(e){var t=_slicedToArray(e.split(":"),2),n=t[0],i=t[1];return this.data[n][i]}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.activeView===NV.month},set:function(e){this.showWeekNumbers=e}}]),e}()).\u0275fac=function(e){return new(e||PB)(Ga(jV),Ga(_N),Ga(oa),Ga(HH),Ga(rl),Ga(Xu),Ga(ll),Ga(CH))},PB.\u0275cmp=At({type:PB,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",selectedDate:"selectedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{change:"change",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[Us],attrs:Lj,decls:5,vars:3,consts:[["emptyCell",""],["role","row",4,"ngIf"],["role","row",4,"kFor","kForOf"],[1,"k-empty"],["role","row"],["scope","col",3,"colSpan"],[4,"ngFor","ngForOf"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt",4,"ngIf","ngIfElse"],[1,"k-alt"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ba(0,jj,2,0,"ng-template",null,0,Au),Ba(2,Vj,3,2,"tr",1),Ba(3,Hj,2,1,"tr",1),Ba(4,Xj,3,2,"tr",2)),2&e&&(Dr(2),qa("ngIf",!t.isHorizontal()),Dr(1),qa("ngIf",t.isMonthView()&&t.isHorizontal()),Dr(1),qa("kForOf",t.data))},directives:[fh,VH,ch,Dh,lh],encapsulation:2}),PB),UH=((FB=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:FB}),FB.\u0275inj=Oe({factory:function(e){return new(e||FB)},imports:[[Rh,Bg]]}),FB),WH=((MB=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:MB}),MB.\u0275inj=Oe({factory:function(e){return new(e||MB)}}),MB),qH=((RB=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm)).\u0275fac=function(e){return $H(e||RB)},RB.\u0275dir=zt({type:RB,inputs:{today:"today"},features:[Ls]}),RB),$H=wi(qH),KH=((GB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(qH)).\u0275fac=function(e){return new(e||GB)(Ga(Om))},GB.\u0275dir=zt({type:GB,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[el([{provide:qH,useExisting:je((function(){return GB}))}]),Ls]}),GB),ZH=((HB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return _createClass(n,[{key:"override",get:function(){return!0}}]),n}(qH)).\u0275fac=function(e){return new(e||HB)(Ga(Om))},HB.\u0275cmp=At({type:HB,selectors:[["kendo-calendar-messages"]],features:[el([{provide:qH,useExisting:je((function(){return HB}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),HB),YH=((BB=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:BB}),BB.\u0275inj=Oe({factory:function(e){return new(e||BB)},imports:[[Rh]]}),BB),QH=((VB=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:VB}),VB.\u0275inj=Oe({factory:function(e){return new(e||VB)},providers:[sB,OV,AV,MV,zV,HH],imports:[[Rh,UH,xN,WH,YH,Bg],UH,WH]}),VB),JH=((jB=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm)).\u0275fac=function(e){return XH(e||jB)},jB.\u0275dir=zt({type:jB,inputs:{decrement:"decrement",increment:"increment"},features:[Ls]}),jB),XH=wi(JH),eG=((qB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(JH)).\u0275fac=function(e){return new(e||qB)(Ga(Om))},qB.\u0275dir=zt({type:qB,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[el([{provide:JH,useExisting:je((function(){return qB}))}]),Ls]}),qB),tG=((WB=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:WB}),WB.\u0275inj=Oe({factory:function(e){return new(e||WB)},imports:[[Rh,xN,Bg]]}),WB),nG=((UB=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm)).\u0275fac=function(e){return iG(e||UB)},UB.\u0275dir=zt({type:UB,inputs:{today:"today",toggle:"toggle"},features:[Ls]}),UB),iG=wi(nG),rG=(($B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(nG)).\u0275fac=function(e){return new(e||$B)(Ga(Om))},$B.\u0275dir=zt({type:$B,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[el([{provide:nG,useExisting:je((function(){return $B}))}]),Ls]}),$B),oG=OT,aG=((KB=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:KB}),KB.\u0275inj=Oe({factory:function(e){return new(e||KB)},providers:[{provide:NH,useValue:oG}],imports:[[Rh,tG,QH,xN,My,WH,Bg],WH]}),KB);function sG(e,t){var n="";if(null!=e)if(Array.isArray(e))for(var i=0;i<e.length;++i)n+=t(e[i],i);else"object"==typeof e&&Object.keys(e).forEach((function(i,r){n+=t(e[i],i,r)}));return n}n("g1Xn"),JSON.parse.bind(JSON);var lG=function(e){var t=e.logic,n=e.criteria;return"\n<customFilters ".concat("and"===t?'and="1"':"",">\n").concat(sG(n,(function(e){var t=fG.customOperator(e);return"<customFilter ".concat(t?'operator="'.concat(t,'"'):"",' val="').concat(fG.customValue(e),'"/>')})),"\n</customFilters>")},uG=function(e){var t=e.type;return'<dynamicFilter type="'.concat(fG.dynamicFilterType(t),'" />')},cG=function(e){var t=e.type,n=e.value;return'<top10 percent="'.concat(/percent$/i.test(t)?1:0,'"\n       top="').concat(/^top/i.test(t)?1:0,'"\n       val="').concat(n,'" />')},hG=function(e){var t=e.blanks,n=e.values;return"<filters ".concat(t?'blank="1"':"",">\n    ").concat(sG(n,(function(e){return'\n      <filter val="'.concat(e,'" />')})),"\n  </filters>")};function fG(e){return t={ref:e.ref,columns:e.columns,generators:{custom:lG,dynamic:uG,top:cG,value:hG}},n=t.columns,i=t.generators,'\n<autoFilter ref="'.concat(t.ref,'">\n  ').concat(sG(n,(function(e){return'\n    <filterColumn colId="'.concat(e.index,'">\n      ').concat(i[e.filter](e),"\n    </filterColumn>\n  ")})),"\n</autoFilter>");var t,n,i}fG.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},fG.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},fG.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};var dG=["lockedHeader"],pG=["header"],vG=["ariaRoot"],mG=["footer"],gG=["groupPanelEmpty",$localize(_templateObject49()),"noRecords",$localize(_templateObject50()),"pagerFirstPage",$localize(_templateObject51()),"pagerPreviousPage",$localize(_templateObject52()),"pagerNextPage",$localize(_templateObject53()),"pagerLastPage",$localize(_templateObject54()),"pagerPage",$localize(_templateObject55()),"pagerOf",$localize(_templateObject56()),"pagerItems",$localize(_templateObject57()),"pagerItemsPerPage",$localize(_templateObject58()),"filter",$localize(_templateObject59()),"filterEqOperator",$localize(_templateObject60()),"filterNotEqOperator",$localize(_templateObject61()),"filterIsNullOperator",$localize(_templateObject62()),"filterIsNotNullOperator",$localize(_templateObject63()),"filterIsEmptyOperator",$localize(_templateObject64()),"filterIsNotEmptyOperator",$localize(_templateObject65()),"filterStartsWithOperator",$localize(_templateObject66()),"filterContainsOperator",$localize(_templateObject67()),"filterNotContainsOperator",$localize(_templateObject68()),"filterEndsWithOperator",$localize(_templateObject69()),"filterGteOperator",$localize(_templateObject70()),"filterGtOperator",$localize(_templateObject71()),"filterLteOperator",$localize(_templateObject72()),"filterLtOperator",$localize(_templateObject73()),"filterIsTrue",$localize(_templateObject74()),"filterIsFalse",$localize(_templateObject75()),"filterBooleanAll",$localize(_templateObject76()),"filterAfterOrEqualOperator",$localize(_templateObject77()),"filterAfterOperator",$localize(_templateObject78()),"filterBeforeOperator",$localize(_templateObject79()),"filterBeforeOrEqualOperator",$localize(_templateObject80()),"filterFilterButton",$localize(_templateObject81()),"filterClearButton",$localize(_templateObject82()),"filterAndLogic",$localize(_templateObject83()),"filterOrLogic",$localize(_templateObject84()),"loading",$localize(_templateObject85()),"columnMenu",$localize(_templateObject86()),"columns",$localize(_templateObject87()),"lock",$localize(_templateObject88()),"unlock",$localize(_templateObject89()),"sortable",$localize(_templateObject90()),"sortAscending",$localize(_templateObject91()),"sortDescending",$localize(_templateObject92()),"sortedAscending",$localize(_templateObject93()),"sortedDescending",$localize(_templateObject94()),"sortedDefault",$localize(_templateObject95()),"columnsApply",$localize(_templateObject96()),"columnsReset",$localize(_templateObject97()),"detailExpand",$localize(_templateObject98()),"detailCollapse",$localize(_templateObject99())];function yG(e,t){1&e&&Ya(0,"kendo-grid-toolbar",8)}function kG(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-group-panel",9),is("change",(function(e){return pn(n),as().groupChange.emit(e)})),Za()}if(2&e){var i=as();qa("text",i.groupableEmptyText)("groups",i.group)}}function bG(e,t){if(1&e&&(Ka(0,"div",21,22),Ka(2,"table",23),Ya(3,"colgroup",18),Ya(4,"thead",24),Za(),Za()),2&e){var n=as(3);gs("width",n.lockedWidth,"px"),Dr(2),gs("width",n.lockedWidth,"px"),qa("locked",!0),Dr(1),qa("columns",n.lockedLeafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),Dr(1),qa("resizable",n.resizable)("scrollable",!0)("columns",n.lockedColumns)("totalColumnLevels",n.totalColumnLevels)("sort",n.sort)("groups",n.group)("filter",n.filter)("filterable",n.filterable)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("sortable",n.sortable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)}}function wG(e,t){if(1&e&&(Ka(0,"div",25),Ya(1,"div"),Za()),2&e){var n=as(3);Dr(1),gs("width",n.columnsContainer.unlockedWidth,"px")}}var CG=function(){return[]};function _G(e,t){if(1&e&&(Ka(0,"div",13),Ba(1,bG,5,23,"div",14),Ka(2,"div",15,16),Ka(4,"table",17),Ya(5,"colgroup",18),Ya(6,"thead",19),Za(),Ba(7,wG,2,2,"div",20),Za(),Za()),2&e){var n=as(2);gs("padding",n.headerPadding),Dr(1),qa("ngIf",n.isLocked),Dr(1),qa("kendoGridResizableContainer",n.lockedLeafColumns.length)("lockedWidth",n.lockedWidth+n.scrollbarWidth+2),Dr(2),gs("width",n.nonLockedWidth,"px"),qa("virtualColumns",n.virtualColumns),Dr(1),qa("columns",n.headerLeafColumns)("groups",n.isLocked?Ql(28,CG):n.group)("detailTemplate",n.detailTemplate),Dr(1),qa("resizable",n.resizable)("scrollable",!0)("columns",n.headerColumns)("totalColumnLevels",n.totalColumnLevels)("sort",n.sort)("filter",n.filter)("filterable",n.filterable)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("groups",n.isLocked?Ql(29,CG):n.group)("sortable",n.sortable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("lockedColumnsCount",n.lockedLeafColumns.length)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate),Dr(1),qa("ngIf",n.virtualColumns)}}function SG(e,t){if(1&e&&(Ka(0,"div",32),Ka(1,"table",33),Ya(2,"colgroup",30),Ya(3,"tfoot",34),Za(),Za()),2&e){var n=as(3);gs("width",n.lockedWidth,"px"),Dr(1),gs("width",n.lockedWidth,"px"),qa("locked",!0),Dr(1),qa("columns",n.lockedLeafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),Dr(1),qa("scrollable",!0)("groups",n.group)("columns",n.lockedLeafColumns)("detailTemplate",n.detailTemplate)}}function xG(e,t){if(1&e&&(Ka(0,"div",26),Ba(1,SG,4,12,"div",27),Ka(2,"div",28,29),Ka(4,"table"),Ya(5,"colgroup",30),Ya(6,"tfoot",31),Za(),Za(),Za()),2&e){var n=as(2);gs("padding",n.headerPadding),Dr(1),qa("ngIf",n.lockedLeafColumns.length),Dr(1),qa("kendoGridResizableContainer",n.lockedLeafColumns.length)("lockedWidth",n.lockedWidth+n.scrollbarWidth+3),Dr(2),gs("width",n.nonLockedWidth,"px"),Dr(1),qa("columns",n.nonLockedLeafColumns)("groups",n.isLocked?Ql(15,CG):n.group)("detailTemplate",n.detailTemplate),Dr(1),qa("scrollable",!0)("groups",n.isLocked?Ql(16,CG):n.group)("columns",n.nonLockedLeafColumns)("lockedColumnsCount",n.lockedLeafColumns.length)("detailTemplate",n.detailTemplate)}}function TG(e,t){if(1&e){var n=es();Ba(0,_G,8,30,"div",10),Ka(1,"kendo-grid-list",11),is("pageChange",(function(e){return pn(n),as().notifyPageChange("list",e)}))("scrollBottom",(function(){return pn(n),as().notifyScrollBottom()}))("contentScroll",(function(e){return pn(n),as().contentScroll.emit(e)})),Za(),Ba(2,xG,7,17,"div",12)}if(2&e){var i=as();qa("ngIf",!i.hideHeader),Dr(1),qa("data",i.view)("rowHeight",i.rowHeight)("detailRowHeight",i.detailRowHeight)("total",i.totalCount)("take",i.pageSize)("groups",i.group)("groupable",i.groupable)("skip",i.skip)("trackBy",i.trackBy)("columns",i.columnsContainer)("selectable",i.selectable)("filterable",i.filterable)("detailTemplate",i.detailTemplate)("noRecordsTemplate",i.noRecordsTemplate)("rowClass",i.rowClass)("loading",i.loading)("isVirtual",i.isVirtual)("virtualColumns",i.virtualColumns),Dr(1),qa("ngIf",i.showFooter)}}function OG(e,t){if(1&e&&Ya(0,"thead",39),2&e){var n=as(2);qa("resizable",n.resizable)("scrollable",!1)("columns",n.visibleColumns)("totalColumnLevels",n.totalColumnLevels)("groups",n.group)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("sort",n.sort)("sortable",n.sortable)("filter",n.filter)("filterable",n.filterable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("detailTemplate",n.detailTemplate)}}function IG(e,t){if(1&e&&Ya(0,"tfoot",34),2&e){var n=as(2);qa("scrollable",!1)("groups",n.group)("columns",n.leafColumns)("detailTemplate",n.detailTemplate)}}function EG(e,t){1&e&&Ya(0,"div",40)}function AG(e,t){if(1&e&&(Ka(0,"table"),Ya(1,"colgroup",30),Ba(2,OG,1,14,"thead",35),Ya(3,"tbody",36),Ba(4,IG,1,4,"tfoot",37),Za(),Ba(5,EG,1,0,"div",38)),2&e){var n=as();gs("table-layout",n.resizable?"fixed":null),Dr(1),qa("columns",n.leafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),Dr(1),qa("ngIf",!n.hideHeader),Dr(1),qa("groups",n.group)("data",n.view)("skip",n.skip)("columns",n.leafColumns)("selectable",n.selectable)("filterable",n.filterable)("noRecordsTemplate",n.noRecordsTemplate)("detailTemplate",n.detailTemplate)("showGroupFooters",n.showGroupFooters)("trackBy",n.trackBy)("rowClass",n.rowClass),Dr(1),qa("ngIf",n.showFooter),Dr(1),qa("ngIf",n.loading)}}function DG(e,t){if(1&e){var n=es();Ka(0,"kendo-pager",41),is("pageChange",(function(e){return pn(n),as().notifyPageChange("pager",e)})),Za()}if(2&e){var i=as();qa("template",i.pagerTemplate)("pageSize",i.pageSize)("total",i.view.total)("skip",i.skip)("options",i.pageable)}}function RG(e,t){1&e&&Ya(0,"kendo-grid-toolbar",42)}var MG=["container"],FG=["lockedContainer"],PG=["lockedTable"],zG=["table"],NG=function(e,t,n,i){return{keydown:e,scroll:t,mousewheel:n,DOMMouseScroll:i}};function LG(e,t){if(1&e&&(Ka(0,"div",12,13),Ka(2,"div",3),Ka(3,"table",14,15),Ya(5,"colgroup",6),Ya(6,"tbody",16),Za(),Ya(7,"kendo-resize-sensor"),Za(),Ka(8,"div",9),Ya(9,"div"),Za(),Za()),2&e){var n=as();gs("width",n.lockedWidth,"px"),qa("kendoEventsOutsideAngular",tu(25,NG,n.lockedKeydown,n.lockedScroll,n.lockedMousewheel,n.lockedMousewheel))("scope",n),Dr(3),gs("width",n.lockedWidth,"px"),qa("locked",!0),Dr(2),qa("groups",n.groups)("columns",n.lockedLeafColumns)("detailTemplate",n.detailTemplate),Dr(1),qa("groups",n.groups)("isLocked",!0)("data",n.data)("noRecordsText","")("columns",n.lockedLeafColumns)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)("showGroupFooters",n.showFooter)("skip",n.skip)("selectable",n.selectable)("trackBy",n.trackBy)("filterable",n.filterable)("rowClass",n.rowClass),Dr(3),gs("height",n.totalHeight,"px")}}function jG(e,t){1&e&&Ya(0,"kendo-resize-sensor")}function VG(e,t){1&e&&Ya(0,"kendo-resize-sensor")}function BG(e,t){if(1&e&&(Ka(0,"div",17),Ya(1,"div"),Za()),2&e){var n=as();Dr(1),gs("width",n.totalWidth,"px")}}function HG(e,t){1&e&&Ya(0,"div",18)}var GG=["kendoGridFilterRow",""];function UG(e,t){1&e&&Ya(0,"td",3),2&e&&ys("k-group-cell",!0)}function WG(e,t){1&e&&Ya(0,"td",3),2&e&&ys("k-hierarchy-cell",!0)}function qG(e,t){if(1&e&&Ya(0,"td",4),2&e){var n=t.$implicit,i=t.index,r=as();qa("column",n)("filter",r.filter)("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",r.lockedColumnsCount+i),ja("aria-label",r.filterLabel)}}var $G=["kendoGridFilterCell",""];function KG(e,t){if(1&e&&(Qa(0),Xa(1,3),Ja()),2&e){var n=as(2);Dr(1),qa("column",n.column)("filter",n.filter)}}function ZG(e,t){}function YG(e,t){if(1&e&&Ba(0,ZG,0,0,"ng-template",5),2&e){var n=as(3);qa("ngTemplateOutlet",n.column.filterCellTemplateRef)("ngTemplateOutletContext",n.templateContext)}}function QG(e,t){if(1&e&&(Qa(0),Ba(1,YG,1,2,void 0,4),Ja()),2&e){var n=as(2);Dr(1),qa("ngIf",n.column.filterCellTemplateRef)}}function JG(e,t){1&e&&(Qa(0,1),Ba(1,KG,2,2,"ng-container",2),Ba(2,QG,2,1,"ng-container",2),Ja()),2&e&&(qa("ngSwitch",as().hasTemplate),Dr(1),qa("ngSwitchCase",!1),Dr(1),qa("ngSwitchCase",!0))}var XG=["*"],eU=["dropdown"],tU=function(){return{width:"auto"}};function nU(e,t){if(1&e){var n=es();Ka(0,"kendo-dropdownlist",3,4),is("valueChange",(function(e){return pn(n),as().onChange(e)}))("keydown",(function(e){return pn(n),as().dropdownKeydown(e)})),Za()}if(2&e){var i=as();qa("data",i.operators)("value",i.value)("valuePrimitive",!0)("popupSettings",Ql(4,tU))}}var iU=function(e){return{"k-clear-button-visible":e}},rU=["kendoGridColGroup",""];function oU(e,t){1&e&&Ya(0,"col"),2&e&&ys("k-group-col",!0)}function aU(e,t){1&e&&Ya(0,"col"),2&e&&ys("k-hierarchy-col",!0)}function sU(e,t){1&e&&Ya(0,"col"),2&e&&gs("width",t.$implicit.width,"px")}function lU(e,t){if(1&e&&(Ba(0,oU,1,2,"col",1),Ba(1,aU,1,2,"col",2),Ba(2,sU,1,2,"col",3)),2&e){var n=as();qa("ngForOf",n.groups),Dr(1),qa("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),Dr(1),qa("ngForOf",n.columnsToRender)("ngForTrackBy",n.trackBy)}}var uU=["kendoGridLoading",""];function cU(e,t){if(1&e&&Xa(0,2),2&e){var n=as();qa("ngTemplateOutlet",n.template.templateRef)("ngTemplateOutletContext",n.templateContext)}}function hU(e,t){1&e&&Ya(0,"kendo-pager-prev-buttons")}function fU(e,t){1&e&&Ya(0,"kendo-pager-numeric-buttons",5),2&e&&qa("buttonCount",as(2).settings.buttonCount)}function dU(e,t){1&e&&Ya(0,"kendo-pager-input")}function pU(e,t){1&e&&Ya(0,"kendo-pager-next-buttons")}function vU(e,t){1&e&&Ya(0,"kendo-pager-info")}function mU(e,t){1&e&&Ya(0,"kendo-pager-page-sizes",6),2&e&&qa("pageSizes",as(2).settings.pageSizes)}function gU(e,t){if(1&e&&(Qa(0),Ba(1,hU,1,0,"kendo-pager-prev-buttons",1),Ba(2,fU,1,1,"kendo-pager-numeric-buttons",3),Ba(3,dU,1,0,"kendo-pager-input",1),Ba(4,pU,1,0,"kendo-pager-next-buttons",1),Ba(5,vU,1,0,"kendo-pager-info",1),Ba(6,mU,1,1,"kendo-pager-page-sizes",4),Ja()),2&e){var n=as();Dr(1),qa("ngIf",n.settings.previousNext),Dr(1),qa("ngIf","numeric"===n.settings.type),Dr(1),qa("ngIf","input"===n.settings.type),Dr(1),qa("ngIf",n.settings.previousNext),Dr(1),qa("ngIf",n.settings.info),Dr(1),qa("ngIf",n.settings.pageSizes)}}var yU=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},kU=function(){return{"k-icon":!0,"k-i-seek-w":!0}},bU=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},wU=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},CU=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},_U=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},SU=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function xU(e,t){if(1&e){var n=es();Ka(0,"li"),Ka(1,"a",3),is("click",(function(){pn(n);var e=as();return e.changePage(e.start-2)})),Ds(2,"..."),Za(),Za()}if(2&e){var i=as();Dr(1),ja("aria-label",i.pageLabel(i.start-1))}}var TU=function(e){return{"k-link":!0,"k-state-selected":e}};function OU(e,t){if(1&e){var n=es();Ka(0,"li"),Ka(1,"a",4),is("click",(function(){pn(n);var e=t.$implicit;return as().changePage(e-1)})),Ds(2),Za(),Za()}if(2&e){var i=t.$implicit,r=as();Dr(1),qa("ngClass",Jl(3,TU,r.currentPage==i)),ja("aria-label",r.pageLabel(i)),Dr(1),Ms(" ",i," ")}}function IU(e,t){if(1&e){var n=es();Ka(0,"li"),Ka(1,"a",3),is("click",(function(){pn(n);var e=as();return e.changePage(e.end)})),Ds(2,"..."),Za(),Za()}if(2&e){var i=as();Dr(1),ja("aria-label",i.pageLabel(i.end+1))}}var EU=function(){return{"k-pager-numbers":!0,"k-reset":!0}},AU=function(){return{"k-pager-input":!0,"k-label":!0}},DU=function(e,t){return{keydown:e,focusout:t}};function RU(e,t){if(1&e&&(Ka(0,"option",4),Ds(1),Za()),2&e){var n=as();qa("value",n.pageSize),Dr(1),Rs(n.pageSize)}}function MU(e,t){if(1&e&&(Ka(0,"option",5),Ds(1),Za()),2&e){var n=t.$implicit,i=as();qa("value",i.getValue(n))("selected",i.getSelectedState(n)),Dr(1),Ms(" ",n.text," ")}}var FU=["kendoGridGroupHeader",""];function PU(e,t){1&e&&Ya(0,"td",4)}function zU(e,t){if(1&e&&Ba(0,PU,1,0,"td",3),2&e){var n=as();qa("ngForOf",n.prefixGroupCell(n.item))}}function NU(e,t){if(1&e&&(Ds(0),au(1,"valueOf")),2&e){var n=as(3);Fs(" ",n.groupTitle(n.item),": ",su(1,2,n.item.data,"value",n.formatForGroup(n.item))," ")}}function LU(e,t){}var jU=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},VU=function(e,t,n,i,r,o,a,s){return{templateRef:e,group:t,aggregates:n,value:i,field:r,index:o,expanded:a,$implicit:s}};function BU(e,t){if(1&e){var n=es();Ka(0,"a",7),is("click",(function(){pn(n);var e=as(2);return e.toggleGroup(e.item)})),Za(),Ba(1,NU,2,6,"ng-template",0),Ba(2,LU,0,0,"ng-template",8)}if(2&e){var i=as(2);qa("ngClass",Xl(3,jU,i.isExpanded,!i.isExpanded)),Dr(1),qa("ngIf",!i.groupHeaderTemplate(i.item)),Dr(1),qa("templateContext",(r=VU,o=i.groupHeaderTemplate(i.item),a=i.item.data,s=null==i.item.data?null:i.item.data.aggregates,l=null==i.item.data?null:i.item.data.value,u=null==i.item.data?null:i.item.data.field,c=i.item.index,h=i.isExpanded,f=i.item.data,d=wn()+6,p=fn(),v=La(p,d,o,a,s,l),La(p,d+4,u,c,h,f)||v?Ma(p,d+8,r(o,a,s,l,u,c,h,f)):Fa(p,d+8)))}var r,o,a,s,l,u,c,h,f,d,p,v}function HU(e,t){if(1&e&&(Ka(0,"td",5),Ka(1,"p",6),Ba(2,BU,3,15,"ng-template",0),Za(),Za()),2&e){var n=as();qa("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",n.skipGroupDecoration)("groupItem",n.item)("colSpan",n.logicalColSpan()),ja("colspan",n.groupSpan(n.item))("role",n.ariaRole())("aria-expanded",n.isExpanded),Dr(2),qa("ngIf",!n.skipGroupDecoration)}}var GU=function(e,t,n,i,r,o){return{group:e,aggregates:t,value:n,field:i,index:r,$implicit:o}};function UU(e,t){if(1&e&&Xa(0,12),2&e){var n=as().$implicit,i=as(2);qa("ngTemplateOutlet",n.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",nu(2,GU,i.item.data,null==i.item.data?null:i.item.data.aggregates,null==i.item.data?null:i.item.data.value,null==i.item.data?null:i.item.data.field,i.item.index,i.item.data))}}function WU(e,t){if(1&e&&(Ka(0,"td",10),Ba(1,UU,1,9,"ng-container",11),Za()),2&e){var n=t.$implicit,i=t.index,r=as(2);qa("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",i+1)("logicalSlaveCell",!1)("groupItem",r.item)("colSpan",1),Dr(1),qa("ngIf",n.groupHeaderColumnTemplateRef)}}function qU(e,t){if(1&e&&(Qa(0),Ba(1,WU,2,6,"td",9),Ja()),2&e){var n=as();Dr(1),qa("ngForOf",n.groupHeaderColumns)}}var $U=function(){return{lastTarget:!0}};function KU(e,t){if(1&e&&(Ka(0,"div",3),Ds(1),Za()),2&e){var n=as();qa("context",Ql(2,$U)),Dr(1),Ms(" ",n.text," ")}}var ZU=function(e){return{field:e}},YU=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function QU(e,t){if(1&e){var n=es();Ka(0,"div",3),Ka(1,"div",4),is("directionChange",(function(e){return pn(n),as().directionChange(e)}))("remove",(function(e){return pn(n),as().remove(e)})),Za(),Za()}if(2&e){var i=t.$implicit,r=t.index,o=as();qa("context",Jl(5,ZU,i.field)),Dr(1),qa("enableDrag",!0)("context",Xl(7,YU,i.field,o.groupTitles[r]))("group",i)("groupTitle",o.groupTitles[r])}}function JU(e,t){1&e&&(Ka(0,"div",3),Ds(1,"\xa0"),Za()),2&e&&qa("context",Ql(1,$U))}var XU=["kendoGroupIndicator",""],eW=["kendoGridHeader",""];function tW(e,t){1&e&&Ya(0,"th",7)}function nW(e,t){1&e&&Ya(0,"th",8),2&e&&qa("logicalRowIndex",as().index)("logicalColIndex",0)}function iW(e,t){if(1&e&&Ya(0,"kendo-grid-filter-menu",15),2&e){var n=as(2).$implicit,i=as(3);qa("column",n)("filter",i.filter)}}function rW(e,t){if(1&e&&Ya(0,"kendo-grid-column-menu",16),2&e){var n=as(2).$implicit,i=as(3);qa("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)("sort",i.sort)("filter",i.filter)("sortable",i.sortable)}}function oW(e,t){}function aW(e,t){1&e&&Ds(0),2&e&&Rs(as(3).$implicit.displayTitle)}var sW=function(e,t,n,i){return{templateRef:e,columnIndex:t,column:n,$implicit:i}};function lW(e,t){if(1&e&&(Ba(0,oW,0,0,"ng-template",17),Ba(1,aW,1,1,"ng-template",0)),2&e){var n=as(2).$implicit;qa("templateContext",tu(2,sW,n.headerTemplateRef,n.leafIndex,n,n)),Dr(1),qa("ngIf",!n.headerTemplateRef)}}function uW(e,t){}function cW(e,t){1&e&&Ds(0),2&e&&Rs(as(3).$implicit.displayTitle)}function hW(e,t){if(1&e&&(Ka(0,"span",23),Ds(1),Za()),2&e){var n=as(3).$implicit,i=as(3);Dr(1),Rs(i.sortOrder(n.field))}}function fW(e,t){if(1&e){var n=es();Ka(0,"span",18,19),is("click",(function(e){pn(n);var t=Ha(1),i=as(2).$implicit;return as(3).onSortClick(i,e,t)})),Ba(2,uW,0,0,"ng-template",17),Ba(3,cW,1,1,"ng-template",0),Ya(4,"span",20),Ba(5,hW,2,1,"span",21),Za(),Ya(6,"span",22)}if(2&e){var i=as(2).$implicit,r=as(3);Dr(2),qa("templateContext",tu(6,sW,i.headerTemplateRef,i.leafIndex,i,i)),Dr(1),qa("ngIf",!i.headerTemplateRef),Dr(1),qa("ngClass",r.sortIcon(i.field)),ja("aria-label",r.sortableLabel),Dr(1),qa("ngIf",r.showSortNumbering(i)),Dr(1),qa("innerHtml",r.sortStatus(i),ur)}}function dW(e,t){if(1&e&&(Ya(0,"input",24),Ya(1,"label",25)),2&e){var n=as(5);ja("id",n.selectAllCheckboxId()),Dr(1),ja("for",n.selectAllCheckboxId())}}function pW(e,t){if(1&e&&Ya(0,"span",26),2&e){var n=as(2).$implicit,i=as(3);qa("column",n)("columns",i.columns)}}var vW=function(e,t,n,i){return{field:e,type:"column",column:t,hint:n,lastColumn:i}};function mW(e,t){if(1&e){var n=es();Ka(0,"th",11),is("keydown",(function(e){pn(n);var t=as().$implicit;return as(3).onHeaderKeydown(t,e)})),Ba(1,iW,1,2,"kendo-grid-filter-menu",12),Ba(2,rW,1,7,"kendo-grid-column-menu",13),Ba(3,lW,2,7,"ng-template",0),Ba(4,fW,7,11,"ng-template",0),Ba(5,dW,2,2,"ng-template",0),Ba(6,pW,1,2,"span",14),Za()}if(2&e){var i=as(),r=i.$implicit,o=i.index,a=i.last,s=as().index,l=as(2);ys("k-filterable",l.showFilterMenu&&l.isFilterable(r)||l.showColumnMenu(r))("k-first",l.isFirstOnRow(r,o)),qa("logicalRowIndex",s)("logicalColIndex",l.logicalColumnIndex(r))("colSpan",r.colspan)("rowSpan",r.rowspan(l.totalColumnLevels))("enableDrag",l.shouldActivate(r))("context",tu(21,vW,r.field,r,r.title||r.field,a&&0===o))("ngClass",r.headerClass)("ngStyle",r.headerStyle),ja("aria-sort",l.sortState(r))("rowspan",r.rowspan(l.totalColumnLevels))("colspan",r.colspan),Dr(1),qa("ngIf",l.showFilterMenu&&l.isFilterable(r)),Dr(1),qa("ngIf",l.showColumnMenu(r)),Dr(1),qa("ngIf",!l.isSortable(r)),Dr(1),qa("ngIf",l.isSortable(r)),Dr(1),qa("ngIf",l.isCheckboxColumn(r)&&!r.headerTemplateRef&&r.showSelectAll),Dr(1),qa("ngIf",l.resizable)}}function gW(e,t){if(1&e&&Ya(0,"kendo-grid-column-menu",29),2&e){var n=as(2).$implicit,i=as(3);qa("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)}}function yW(e,t){}function kW(e,t){1&e&&Ds(0),2&e&&Rs(as(2).$implicit.displayTitle)}function bW(e,t){if(1&e&&Ya(0,"span",26),2&e){var n=as(2).$implicit,i=as(3);qa("column",n)("columns",i.columns)}}var wW=function(e,t,n){return{type:"columnGroup",column:e,hint:t,lastColumn:n}};function CW(e,t){if(1&e&&(Ka(0,"th",27),Ba(1,gW,1,4,"kendo-grid-column-menu",28),Ba(2,yW,0,0,"ng-template",17),Ba(3,kW,1,1,"ng-template",0),Ba(4,bW,1,2,"span",14),Za()),2&e){var n=as(),i=n.$implicit,r=n.index,o=n.last,a=as().index,s=as(2);ys("k-first",s.isFirstOnRow(i,r))("k-filterable",s.showColumnMenu(i)),qa("logicalRowIndex",a)("logicalColIndex",s.logicalColumnIndex(i))("rowSpan",i.rowspan(s.totalColumnLevels))("colSpan",i.colspan)("enableDrag",s.shouldActivate(i))("context",eu(18,wW,i,i.title,o&&0===r))("ngClass",i.headerClass)("ngStyle",i.headerStyle),ja("rowspan",i.rowspan(s.totalColumnLevels))("colspan",i.colspan),Dr(1),qa("ngIf",s.showColumnMenu(i)),Dr(1),qa("templateContext",tu(22,sW,i.headerTemplateRef,s.lockedColumnsCount+r,i,i)),Dr(1),qa("ngIf",!i.headerTemplateRef),Dr(1),qa("ngIf",s.resizable)}}function _W(e,t){if(1&e&&(Ba(0,mW,7,26,"th",9),Ba(1,CW,5,27,"th",10)),2&e){var n=t.$implicit,i=as(3);qa("ngIf",!i.isColumnGroupComponent(n)),Dr(1),qa("ngIf",i.isColumnGroupComponent(n))}}function SW(e,t){if(1&e&&(Ka(0,"tr",3),Ba(1,tW,1,0,"th",4),Ba(2,nW,1,2,"th",5),Ba(3,_W,2,2,"ng-template",6),Za()),2&e){var n=t.index,i=as(2);qa("logicalRowIndex",n)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),Dr(1),qa("ngForOf",i.groups),Dr(1),qa("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),Dr(1),qa("ngForOf",i.columnsForLevel(n))("ngForTrackBy",i.trackByIndex)}}function xW(e,t){if(1&e&&Ya(0,"tr",30),2&e){var n=as(2);qa("columns",n.leafColumns)("filter",n.filter)("groups",n.groups)("detailTemplate",n.detailTemplate)("lockedColumnsCount",n.lockedColumnsCount)("logicalRowIndex",n.totalColumnLevels+1)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount)}}function TW(e,t){if(1&e&&(Ba(0,SW,4,8,"tr",1),Ba(1,xW,1,9,"tr",2)),2&e){var n=as();qa("ngForOf",n.columnLevels),Dr(1),qa("ngIf",n.showFilterRow)}}function OW(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-filter-menu-container",4),is("close",(function(){return pn(n),as().close()})),Za()}if(2&e){var i=as();qa("column",i.column)("filter",i.filter)}}var IW=function(e){return{"k-grid-filter":!0,"k-state-active":e}};function EW(e,t){if(1&e&&(Qa(0),Xa(1,7),Ja()),2&e){var n=as();Dr(1),qa("filterService",n.childService)("column",n.column)("filter",n.childFilter)}}function AW(e,t){}function DW(e,t){if(1&e&&Ba(0,AW,0,0,"ng-template",9),2&e){var n=as(2);qa("ngTemplateOutlet",n.column.filterMenuTemplateRef)("ngTemplateOutletContext",n.templateContext)}}function RW(e,t){if(1&e&&(Qa(0),Ba(1,DW,1,2,void 0,8),Ja()),2&e){var n=as();Dr(1),qa("ngIf",n.column.filterMenuTemplateRef)}}function MW(e,t){if(1&e){var n=es();Ka(0,"kendo-dropdownlist",3),is("valueChange",(function(e){return pn(n),as().logicChange(e)})),Za()}if(2&e){var i=as();qa("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function FW(e,t){if(1&e&&Ya(0,"kendo-grid-string-filter-menu-input",4),2&e){var n=as();qa("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)}}function PW(e,t){if(1&e){var n=es();Ka(0,"kendo-dropdownlist",3),is("valueChange",(function(e){return pn(n),as().logicChange(e)})),Za()}if(2&e){var i=as();qa("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function zW(e,t){if(1&e&&Ya(0,"kendo-grid-numeric-filter-menu-input",4),2&e){var n=as();qa("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("format",n.format)("decimals",n.decimals)("spinners",n.spinners)("min",n.min)("max",n.max)("step",n.step)}}function NW(e,t){if(1&e){var n=es();Ka(0,"kendo-dropdownlist",3),is("valueChange",(function(e){return pn(n),as().logicChange(e)})),Za()}if(2&e){var i=as();qa("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function LW(e,t){if(1&e&&Ya(0,"kendo-grid-date-filter-menu-input",4),2&e){var n=as();qa("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("format",n.format)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("min",n.min)("max",n.max)("weekNumber",n.weekNumber)}}function jW(e,t){if(1&e){var n=es();Ka(0,"li"),Ka(1,"input",2),is("change",(function(){pn(n);var e=t.$implicit;return as().onChange(e.value)})),Za(),Ka(2,"label",3),Ds(3),Za(),Za()}if(2&e){var i=t.$implicit,r=as();Dr(1),qa("name",r.idPrefix)("checked",r.isSelected(i.value)),ja("id",r.radioId(i.value)),Dr(1),ja("for",r.radioId(i.value)),Dr(1),Rs(i.text)}}function VW(e,t){if(1&e&&(Ka(0,"label",3),Ya(1,"input",4),Ka(2,"span",5),Ds(3),Za(),Za()),2&e){var n=t.$implicit,i=t.index,r=as();Dr(1),qa("checked",!n.hidden)("disabled",r.isDisabled(n)),ja("data-index",i),Dr(2),Rs(n.displayTitle)}}function BW(e,t){if(1&e){var n=es();Ka(0,"div",6),Ka(1,"button",7),is("click",(function(){return pn(n),as().cancelChanges()})),Ds(2),Za(),Ka(3,"button",8),is("click",(function(){return pn(n),as().applyChanges()})),Ds(4),Za(),Za()}if(2&e){var i=as();qa("ngClass",i.actionsClass),Dr(2),Rs(i.resetText),Dr(2),Rs(i.applyText)}}function HW(e,t){if(1&e){var n=es();Ka(0,"span",4),Ds(1),Za(),Ka(2,"kendo-grid-columnlist",5),is("apply",(function(e){return pn(n),as().onApply(e)}))("columnChange",(function(e){return pn(n),as().onChange(e)})),Za()}if(2&e){var i=as();Dr(1),Rs(i.localization.get("columns")),Dr(1),qa("columns",i.columns)("applyText",i.localization.get("columnsApply"))("resetText",i.localization.get("columnsReset"))("autoSync",i.autoSync)("allowHideAll",i.allowHideAll)}}function GW(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-columnlist",2),is("apply",(function(e){return pn(n),as().onApply(e)})),Za()}if(2&e){var i=as();qa("applyText",i.localization.get("columnsApply"))("resetText",i.localization.get("columnsReset"))("columns",i.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",i.actionsClass)}}function UW(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-filter-menu-container",2),is("close",(function(){return pn(n),as().close()})),Za()}if(2&e){var i=as();qa("column",i.service.column)("filter",i.service.filter)("actionsClass",i.actionsClass)}}function WW(e,t){1&e&&Ya(0,"span",3),2&e&&qa("ngClass",as().iconClass)}function qW(e,t){if(1&e&&(Ka(0,"div",4),Xa(1,5),Ya(2,"div"),Za()),2&e){var n=as();qa("@state",n.contentState),Dr(1),qa("ngTemplateOutlet",n.contentTemplate.templateRef)}}var $W=function(e,t){return{service:e,column:t}};function KW(e,t){if(1&e&&Xa(0,5),2&e){var n=as(),i=Ha(6);qa("ngTemplateOutlet",n.column.columnMenuTemplateRef||n.columnMenuTemplate||i)("ngTemplateOutletContext",Xl(2,$W,n.service,n.column))}}function ZW(e,t){1&e&&Ya(0,"kendo-grid-columnmenu-sort",8),2&e&&qa("service",as(2).service)}function YW(e,t){1&e&&Ya(0,"kendo-grid-columnmenu-lock",8),2&e&&qa("service",as(2).service)}function QW(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-columnmenu-chooser",9),is("expand",(function(){return pn(n),as(2).onColumnsExpand()})),Za()}if(2&e){var i=as(2);qa("service",i.service)("expanded",i.expandedColumns)}}function JW(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-columnmenu-filter",9),is("expand",(function(){return pn(n),as(2).onFilterExpand()})),Za()}if(2&e){var i=as(2);qa("service",i.service)("expanded",i.expandedFilter)}}function XW(e,t){if(1&e&&(Ba(0,ZW,1,1,"kendo-grid-columnmenu-sort",6),Ba(1,YW,1,1,"kendo-grid-columnmenu-lock",6),Ba(2,QW,1,2,"kendo-grid-columnmenu-chooser",7),Ba(3,JW,1,2,"kendo-grid-columnmenu-filter",7)),2&e){var n=as();qa("ngIf",n.hasSort),Dr(1),qa("ngIf",n.hasLock),Dr(1),qa("ngIf",n.hasColumnChooser),Dr(1),qa("ngIf",n.hasFilter)}}var eq=function(e){return{"k-state-active":e}},tq=["kendoGridTableBody",""];function nq(e,t){1&e&&Ya(0,"td",7)}function iq(e,t){1&e&&Ba(0,nq,1,0,"td",6),2&e&&qa("ngForOf",as(2).groups)}function rq(e,t){1&e&&Ya(0,"td",8),2&e&&qa("logicalRowIndex",as(2).addRowLogicalIndex())("logicalColIndex",0)}function oq(e,t){if(1&e&&Ya(0,"td",9),2&e){var n=t.$implicit,i=t.index,r=as(2);qa("rowIndex",-1)("columnIndex",r.lockedColumnsCount+i)("isNew",!0)("column",n)("dataItem",r.newDataItem)("ngClass",n.cssClass)("ngStyle",n.style)("logicalRowIndex",r.addRowLogicalIndex())("logicalColIndex",r.logicalColIndex(n))("colSpan",n.colspan),ja("colspan",n.colspan)}}function aq(e,t){if(1&e&&(Ka(0,"tr",3),Ba(1,iq,1,1,"ng-template",0),Ba(2,rq,1,2,"td",4),Ba(3,oq,1,11,"td",5),Za()),2&e){var n=as();qa("logicalRowIndex",n.addRowLogicalIndex())("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),Dr(1),qa("ngIf",!n.skipGroupDecoration),Dr(1),qa("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),Dr(1),qa("ngForOf",n.columns)("ngForTrackBy",n.trackByColumns)}}function sq(e,t){}function lq(e,t){if(1&e&&(Qa(0),Ds(1),Ja()),2&e){var n=as(2);Dr(1),Ms(" ",n.noRecordsText," ")}}var uq=function(e){return{templateRef:e}};function cq(e,t){if(1&e&&(Ka(0,"tr",10),Ka(1,"td"),Ba(2,sq,0,0,"ng-template",11),Ba(3,lq,2,1,"ng-container",12),Za(),Za()),2&e){var n=as();Dr(1),ja("colspan",n.colSpan),Dr(1),qa("ngIf",null==n.noRecordsTemplate?null:n.noRecordsTemplate.templateRef)("templateContext",Jl(4,uq,null==n.noRecordsTemplate?null:n.noRecordsTemplate.templateRef)),Dr(1),qa("ngIf",!(null!=n.noRecordsTemplate&&n.noRecordsTemplate.templateRef))}}function hq(e,t){if(1&e&&Ya(0,"tr",17),2&e){var n=as(),i=n.$implicit,r=n.index,o=as();qa("columns",o.columns)("groups",o.groups)("item",i)("hasDetails",null==o.detailTemplate?null:o.detailTemplate.templateRef)("skipGroupDecoration",o.skipGroupDecoration)("hasGroupHeaderColumn",o.hasGroupHeaderColumn)("groupHeaderColumns",o.groupHeaderColumns)("rowIndex",r+1)("totalColumnsCount",o.totalColumnsCount)("logicalRowIndex",o.logicalRowIndex(r))("logicalSlaveRow",o.lockedColumnsCount>0)("logicalCellsCount",o.columns.length)("logicalSlaveCellsCount",o.groupHeaderSlaveCellsCount)}}function fq(e,t){1&e&&Ya(0,"td",7)}function dq(e,t){1&e&&Ba(0,fq,1,0,"td",6),2&e&&qa("ngForOf",as(3).groups)}function pq(e,t){if(1&e){var n=es();Ka(0,"a",23),is("click",(function(){pn(n);var e=as(3).$implicit;return as().toggleRow(e.index,e.data)})),Za()}if(2&e){var i=as(3).$implicit,r=as();qa("ngClass",r.detailButtonStyles(i)),ja("title",r.detailButtonTitle(i))}}function vq(e,t){if(1&e&&(Ka(0,"td",21),Ba(1,pq,1,2,"a",22),Za()),2&e){var n=as(2),i=n.index,r=n.$implicit,o=as();qa("logicalRowIndex",o.logicalRowIndex(i))("logicalColIndex",0)("dataRowIndex",r.index)("dataItem",r.data)("detailExpandCell",!0),Dr(1),qa("ngIf",o.detailTemplate.showIf(r.data,r.index))}}function mq(e,t){if(1&e&&Ya(0,"td",24),2&e){var n=t.$implicit,i=t.index,r=as(2),o=r.$implicit,a=r.index,s=as();ys("k-grid-edit-cell",s.isEditingCell(o.index,n)),qa("rowIndex",o.index)("columnIndex",s.lockedColumnsCount+i)("column",n)("dataItem",o.data)("logicalRowIndex",s.logicalRowIndex(a))("logicalColIndex",s.logicalColIndex(n))("dataRowIndex",o.index)("dataItem",o.data)("colIndex",i)("colSpan",n.colspan)("ngClass",n.cssClass)("ngStyle",n.style),ja("data-kendo-grid-column-index",s.lockedColumnsCount+i)("colspan",n.colspan)}}var gq=function(e,t){return{dataItem:e,index:t}};function yq(e,t){if(1&e&&(Ka(0,"tr",18),Ba(1,dq,1,1,"ng-template",0),Ba(2,vq,2,6,"td",19),Ba(3,mq,1,16,"td",20),Za()),2&e){var n=as(),i=n.$implicit,r=n.index,o=as();ys("k-alt",o.isOdd(i))("k-master-row",null==o.detailTemplate?null:o.detailTemplate.templateRef)("k-grid-edit-row",o.isEditingRow(i.index))("k-state-selected",o.isSelectable()&&o.isRowSelected(i)),qa("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",o.logicalRowIndex(r))("logicalSlaveRow",o.lockedColumnsCount>0)("logicalCellsCount",o.columns.length)("logicalSlaveCellsCount",o.unlockedColumnsCount)("ngClass",o.rowClass(Xl(20,gq,i.data,i.index))),ja("data-kendo-grid-item-index",i.index),Dr(1),qa("ngIf",!o.skipGroupDecoration),Dr(1),qa("ngIf",null==o.detailTemplate?null:o.detailTemplate.templateRef),Dr(1),qa("ngForOf",o.columns)("ngForTrackBy",o.trackByColumns)}}function kq(e,t){1&e&&Ya(0,"td",30)}function bq(e,t){}var wq=function(e,t,n){return{dataItem:e,rowIndex:t,$implicit:n}};function Cq(e,t){if(1&e&&(Ka(0,"tr",25),Ba(1,kq,1,0,"td",26),Ya(2,"td",27),Ka(3,"td",28),Ba(4,bq,0,0,"ng-template",29),Za(),Za()),2&e){var n=as(),i=n.$implicit,r=n.index,o=as();ys("k-alt",o.isOdd(i)),qa("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",o.logicalRowIndex(r)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),Dr(1),qa("ngForOf",o.groups),Dr(2),qa("logicalRowIndex",o.logicalRowIndex(r)+1)("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("colIndex",0)("colSpan",o.allColumnsSpan+1),ja("colspan",o.columnsSpan),Dr(1),qa("ngTemplateOutlet",o.detailTemplate.templateRef)("ngTemplateOutletContext",eu(17,wq,i.data,i.index,i.data))}}function _q(e,t){1&e&&Ya(0,"td",30)}function Sq(e,t){1&e&&Ba(0,_q,1,0,"td",26),2&e&&qa("ngForOf",as(3).groups)}function xq(e,t){if(1&e&&Ya(0,"td",8),2&e){var n=as(2).index;qa("logicalRowIndex",as().logicalRowIndex(n))("logicalColIndex",0)}}function Tq(e,t){}var Oq=function(e,t,n,i,r,o){return{templateRef:e,group:t,field:n,column:i,aggregates:r,$implicit:o}};function Iq(e,t){if(1&e&&(Ka(0,"td",33),Ba(1,Tq,0,0,"ng-template",34),Za()),2&e){var n=t.$implicit,i=as(2),r=i.index,o=i.$implicit,a=as();qa("logicalRowIndex",a.logicalRowIndex(r))("logicalColIndex",a.logicalColIndex(n)),ja("data-skip",a.skipGroupDecoration),Dr(1),qa("templateContext",nu(4,Oq,n.groupFooterTemplateRef,o.data,n.field,n,null==o.data?null:o.data.aggregates,null==o.data?null:o.data.aggregates))}}function Eq(e,t){if(1&e&&(Ka(0,"tr",31),Ba(1,Sq,1,1,"ng-template",0),Ba(2,xq,1,2,"td",4),Ba(3,Iq,2,11,"td",32),Za()),2&e){var n=as().index,i=as();qa("logicalRowIndex",i.logicalRowIndex(n))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),Dr(1),qa("ngIf",!i.skipGroupDecoration),Dr(1),qa("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),Dr(1),qa("ngForOf",i.footerColumns)("ngForTrackBy",i.trackByColumns)}}function Aq(e,t){if(1&e&&(Ba(0,hq,1,13,"tr",13),Ba(1,yq,4,23,"tr",14),Ba(2,Cq,5,21,"tr",15),Ba(3,Eq,4,8,"tr",16)),2&e){var n=t.$implicit,i=as();qa("ngIf",i.isGroup(n)&&i.isParentGroupExpanded(n)&&i.showGroupHeader(n)),Dr(1),qa("ngIf",i.isDataItem(n)&&i.isInExpandedGroup(n)),Dr(1),qa("ngIf",i.isDataItem(n)&&i.isInExpandedGroup(n)&&(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&i.detailTemplate.showIf(n.data,n.index)&&i.isExpanded(n)),Dr(1),qa("ngIf",i.isFooter(n)&&(i.isInExpandedGroup(n)||i.showGroupFooters&&i.isParentGroupExpanded(n))&&!n.data.hideFooter)}}var Dq=["kendoGridCell",""];function Rq(e,t){}function Mq(e,t){if(1&e&&(Ds(0),au(1,"valueOf")),2&e){var n=t.$implicit;Ms(" ",su(1,1,as(3).dataItem,n.field,n.format)," ")}}function Fq(e,t){1&e&&Ba(0,Mq,2,5,"ng-template",4),2&e&&qa("ngForOf",as(2).childColumns)}function Pq(e,t){if(1&e&&(Ds(0),au(1,"valueOf")),2&e){var n=as(2);Rs(su(1,1,n.dataItem,n.column.field,n.column.format))}}function zq(e,t){if(1&e&&(Ya(0,"input",5),Ya(1,"label",6)),2&e){var n=as(2);qa("kendoGridSelectionCheckbox",n.rowIndex),ja("id",n.selectionCheckboxId),Dr(1),ja("for",n.selectionCheckboxId)}}function Nq(e,t){if(1&e&&(Qa(0),Ba(1,Rq,0,0,"ng-template",2),Ba(2,Fq,1,1,"ng-template",3),Ba(3,Pq,2,5,"ng-template",3),Ba(4,zq,2,3,"ng-template",3),Ja()),2&e){var n=as();Dr(1),qa("ngIf",n.column.templateRef)("ngTemplateOutlet",n.column.templateRef)("ngTemplateOutletContext",n.templateContext),Dr(1),qa("ngIf",n.isSpanColumn),Dr(1),qa("ngIf",n.isBoundColumn),Dr(1),qa("ngIf",n.isCheckboxColumn&&!n.isNew)}}function Lq(e,t){}function jq(e,t){if(1&e&&Ba(0,Lq,0,0,"ng-template",9),2&e){var n=as(2);qa("ngTemplateOutlet",n.column.editTemplateRef)("ngTemplateOutletContext",n.editTemplateContext)}}function Vq(e,t){if(1&e&&Ya(0,"kendo-numerictextbox",13),2&e){var n=as(3);qa("format",n.format)("formControl",n.formGroup.get(n.column.field))}}function Bq(e,t){if(1&e&&Ya(0,"kendo-datepicker",13),2&e){var n=as(3);qa("format",n.format)("formControl",n.formGroup.get(n.column.field))}}function Hq(e,t){if(1&e&&Ya(0,"input",14),2&e){var n=as(3);qa("formControl",n.formGroup.get(n.column.field))}}function Gq(e,t){if(1&e&&Ya(0,"input",15),2&e){var n=as(3);qa("formControl",n.formGroup.get(n.column.field))}}function Uq(e,t){1&e&&(Qa(0,0),Ba(1,Vq,1,2,"kendo-numerictextbox",10),Ba(2,Bq,1,2,"kendo-datepicker",10),Ba(3,Hq,1,1,"input",11),Ba(4,Gq,1,1,"input",12),Ja()),2&e&&(qa("ngSwitch",as(2).column.editor),Dr(1),qa("ngSwitchCase","numeric"),Dr(1),qa("ngSwitchCase","date"),Dr(1),qa("ngSwitchCase","boolean"))}function Wq(e,t){if(1&e&&(Qa(0),Ba(1,jq,1,2,void 0,7),Ba(2,Uq,5,4,"ng-container",8),Ja()),2&e){var n=as();Dr(1),qa("ngIf",n.column.editTemplateRef),Dr(1),qa("ngIf",!n.column.editTemplateRef)}}var qq=["kendoGridFooter",""];function $q(e,t){1&e&&Ya(0,"td"),2&e&&ys("k-group-cell",!0)}function Kq(e,t){1&e&&Ya(0,"td"),2&e&&ys("k-hierarchy-cell",!0)}function Zq(e,t){}function Yq(e,t){if(1&e&&(Ka(0,"td",4),Ba(1,Zq,0,0,"ng-template",5),Za()),2&e){var n=t.$implicit,i=t.index,r=as(2);qa("ngClass",n.footerClass)("ngStyle",n.footerStyle),Dr(1),qa("templateContext",tu(3,sW,n.footerTemplateRef,r.lockedColumnsCount+i,n,n))}}function Qq(e,t){if(1&e&&(Ka(0,"tr"),Ba(1,$q,1,2,"td",1),Ba(2,Kq,1,2,"td",2),Ba(3,Yq,2,8,"td",3),Za()),2&e){var n=as();ys("k-footer-template",!0),Dr(1),qa("ngForOf",n.groups),Dr(1),qa("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),Dr(1),qa("ngForOf",n.columnsToRender)}}function Jq(e,t){}function Xq(e,t){if(1&e&&Ba(0,Jq,0,0,"ng-template",1),2&e){var n=as();qa("ngTemplateOutlet",n.toolbarTemplateRef)("ngTemplateOutletContext",n.context)}}var e$,t$,n$,i$,r$,o$,a$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,n),(i=t.call(this,r)).ngZone=e,i}return _createClass(n,[{key:"subscribe",value:function(e,t,i){var r,o=this,a=function(e){return null},s=function(){return null};return e&&"object"==typeof e?(r=function(t){o.ngZone.run((function(){return e.next(t)}))},e.error&&(a=function(t){o.ngZone.run((function(){return e.error(t)}))}),e.complete&&(s=function(){o.ngZone.run((function(){return e.complete()}))})):(r=function(t){o.ngZone.run((function(){return e(t)}))},t&&(a=function(e){o.ngZone.run((function(){return t(e)}))}),i&&(s=function(){o.ngZone.run((function(){return i()}))})),_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,a,s)}}]),n}(lu),s$=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ga(Ol,8))},e.\u0275dir=zt({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e}(),l$=((r$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||r$)(Ga(Ol,8))},r$.\u0275dir=zt({type:r$,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),r$),u$=((i$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||i$)(Ga(Ol,8))},i$.\u0275dir=zt({type:i$,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),i$),c$=((n$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||n$)(Ga(Ol,8))},n$.\u0275dir=zt({type:n$,selectors:[["","kendoGridEditTemplate",""]]}),n$),h$=((t$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||t$)(Ga(Ol,8))},t$.\u0275dir=zt({type:t$,selectors:[["","kendoGridGroupFooterTemplate",""]]}),t$),f$=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ga(Ol,8))},e.\u0275dir=zt({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e}(),d$=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ga(Ol,8))},e.\u0275dir=zt({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e}(),p$=((e$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||e$)(Ga(Ol,8))},e$.\u0275dir=zt({type:e$,selectors:[["","kendoGridColumnMenuTemplate",""]]}),e$),v$=function(e){return e.isSpanColumn},m$=function(e){return e.isCheckboxColumn},g$=((o$=function(){function e(t){if(_classCallCheck(this,e),this.parent=t,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.lockable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new cu,this.columnMenuTemplates=new cu,t&&!(n=t).isColumnGroup&&!v$(n))throw new Error("Columns can be nested only inside ColumnGroupComponent");var n}return _createClass(e,[{key:"rowspan",value:function(e){return this.level<e?e-this.level+1:1}},{key:"width",set:function(e){this._width=parseInt(e,10)},get:function(){return this._width}},{key:"level",get:function(){return this.parent&&v$(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}},{key:"isLocked",get:function(){return this.parent?this.parent.isLocked:this.locked}},{key:"colspan",get:function(){return 1}},{key:"headerTemplateRef",get:function(){var e=this.headerTemplates.first;return e?e.templateRef:void 0}},{key:"footerTemplateRef",get:function(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}},{key:"columnMenuTemplateRef",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"displayTitle",get:function(){return this.title}},{key:"isVisible",get:function(){return!this.hidden&&this.matchesMedia}}]),e}()).\u0275fac=function(e){Wa()},o$.\u0275dir=zt({type:o$,contentQueries:function(e,t,n){var i;1&e&&(_u(n,d$,!0),_u(n,f$,!1),_u(n,p$,!1)),2&e&&(ku(i=Tu())&&(t.footerTemplate=i.first),ku(i=Tu())&&(t.headerTemplates=i),ku(i=Tu())&&(t.columnMenuTemplates=i))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",lockable:"lockable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),o$),y$=/^\s*$/,k$=function(e){return null!=e},b$=function(e){return null==e},w$=function(e){return Array.isArray(e)},C$=function(e){return!!e},_$=function(e){return b$(e)||y$.test(e)},S$=function(e){return se(gf(e),e.changes)},x$=function(){return"undefined"==typeof document},T$=function(e){return"string"==typeof e},O$=function(e){return"number"==typeof e&&!isNaN(e)},I$=function(e){return T$(e)&&!_$(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e},E$=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return!e.apply(null,n)}},A$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),!1)}},D$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t&&n(e)}),!0)}},R$=new tt("Skip"),M$=function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;for(var e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype,n=0;n<e.length;++n){var i=e[n];if("entries"!==i&&"size"!==i&&t[i]===t.entries)return i}}();var F$,P$,z$="undefined"!=typeof window?window:{},N$=z$.requestAnimationFrame||z$.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},L$=z$.cancelAnimationFrame||z$.msCancelRequestAnimationFrame||clearTimeout,j$=((P$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||P$)(Ga(Ol,8))},P$.\u0275dir=zt({type:P$,selectors:[["","kendoGridFilterCellTemplate",""]]}),P$),V$=((F$=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||F$)(Ga(Ol,8))},F$.\u0275dir=zt({type:F$,selectors:[["","kendoGridFilterMenuTemplate",""]]}),F$);function B$(e){return k$(e.field)}var H$,G$=((H$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).sortable=!0,i.groupable=!0,i.editor="text",i.filter="text",i.filterable=!0,i.editable=!0,i}return _createClass(n,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}},{key:"groupHeaderTemplateRef",get:function(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}},{key:"groupHeaderColumnTemplateRef",get:function(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}},{key:"groupFooterTemplateRef",get:function(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}},{key:"editTemplateRef",get:function(){return this.editTemplate?this.editTemplate.templateRef:void 0}},{key:"filterCellTemplateRef",get:function(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}},{key:"filterMenuTemplateRef",get:function(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}},{key:"displayTitle",get:function(){return void 0===this.title?this.field:this.title}}]),n}(g$)).\u0275fac=function(e){return new(e||H$)(Ga(g$,13))},H$.\u0275cmp=At({type:H$,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,s$,!0),_u(n,l$,!0),_u(n,u$,!0),_u(n,h$,!0),_u(n,c$,!0),_u(n,j$,!0),_u(n,V$,!0)),2&e&&(ku(i=Tu())&&(t.template=i.first),ku(i=Tu())&&(t.groupHeaderTemplate=i.first),ku(i=Tu())&&(t.groupHeaderColumnTemplate=i.first),ku(i=Tu())&&(t.groupFooterTemplate=i.first),ku(i=Tu())&&(t.editTemplate=i.first),ku(i=Tu())&&(t.filterCellTemplate=i.first),ku(i=Tu())&&(t.filterMenuTemplate=i.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[el([{provide:g$,useExisting:je((function(){return H$}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),H$);function U$(e){return e.isSpanColumn}var W$,q$=((W$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;if(_classCallCheck(this,n),(i=t.call(this,e)).isSpanColumn=!0,i.template=new cu,i.editTemplate=new cu,i.childColumns=new cu,i.includeInChooser=!1,i._editable=!0,i._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn");return _possibleConstructorReturn(i)}return _createClass(n,[{key:"editable",set:function(e){this._editable=e},get:function(){return k$(this.editTemplateRef)&&this._editable}},{key:"width",set:function(e){},get:function(){return this.childColumns.reduce((function(e,t){return e+t.width}),0)}},{key:"leafIndex",get:function(){return this.childColumns.first.leafIndex}},{key:"templateRef",get:function(){var e=this.template.first;return e?e.templateRef:void 0}},{key:"editTemplateRef",get:function(){var e=this.editTemplate.first;return e?e.templateRef:void 0}},{key:"colspan",get:function(){return this.childColumns.filter((function(e){return e.isVisible})).length}},{key:"locked",set:function(e){this._locked=e},get:function(){return this._locked||this.childColumns.some((function(e){return e.locked}))}},{key:"childrenArray",get:function(){return this.childColumns.toArray()}},{key:"hasChildren",get:function(){return this.childColumns.length>0}}]),n}(g$)).\u0275fac=function(e){return new(e||W$)(Ga(g$,13))},W$.\u0275cmp=At({type:W$,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,s$,!1),_u(n,c$,!1),_u(n,G$,!1)),2&e&&(ku(i=Tu())&&(t.template=i),ku(i=Tu())&&(t.editTemplate=i),ku(i=Tu())&&(t.childColumns=i))},inputs:{editable:"editable",locked:"locked"},features:[el([{provide:g$,useExisting:je((function(){return W$}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),W$),$$=function(e){return e.reduce((function(e,t){return e.concat(U$(t)?t.childrenArray:[t])}),[])},K$=function(e){return e.reduce((function(e,t){return e.concat(U$(t)?[t].concat(t.childrenArray):[t])}),[])},Z$=function(e){return $$(e).filter((function(e){return e.isVisible}))},Y$=function(e){return function(t){return(t||[]).reduce((function(t,n){return t+(n[e]||0)}),0)}},Q$=Y$("width"),J$=Y$("colspan"),X$=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),eK=function e(t){return t.reduce((function(t,n){return n.isColumnGroup?t=t.concat(e(function(e){return e.children.filter((function(t){return t!==e}))}(n))):n.isSpanColumn?t=t.concat(n.childrenArray):t.push(n),t}),[]).filter((function(e){return e.isVisible}))},tK=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return eK(n).some(e)},nK=function(e){return pT(e,[{field:"orderIndex",dir:"asc"}])},iK=function(e){return C$(e.parent)&&U$(e.parent)};function rK(e){return e.isColumnGroup}var oK,aK,sK,lK,uK,cK,hK,fK,dK,pK,vK,mK,gK,yK,kK,bK,wK,CK,_K,SK,xK,TK,OK,IK,EK,AK,DK,RK,MK,FK,PK,zK,NK,LK=((aK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;if(_classCallCheck(this,n),(i=t.call(this,e)).parent=e,i.includeInChooser=!1,i.isColumnGroup=!0,i.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent");return _possibleConstructorReturn(i)}return _createClass(n,[{key:"rowspan",value:function(){return 1}},{key:"colspan",get:function(){var e=this;return this.children&&1!==this.children.length?J$(this.children.filter((function(t){return t!==e&&t.isVisible}))):1}},{key:"leafIndex",get:function(){return this.children?(this.firstChild||{}).leafIndex:-1}},{key:"childrenArray",get:function(){var e=this;return this.children.filter((function(t){return t!==e}))}},{key:"hasChildren",get:function(){return Boolean(this.firstChild)}},{key:"firstChild",get:function(){var e=this;return this.children.find((function(t){return t!==e}))}}]),n}(g$)).\u0275fac=function(e){return new(e||aK)(Ga(g$,13))},aK.\u0275cmp=At({type:aK,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,g$,!1),2&e&&ku(i=Tu())&&(t.children=i)},features:[el([{provide:g$,useExisting:je((function(){return aK}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),aK),jK=((oK=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._condition=function(){return!0}}return _createClass(e,[{key:"showIf",set:function(e){if("function"!=typeof e)throw new Error("showIf must be a function, but received ".concat(JSON.stringify(e),"."));this._condition=e},get:function(){return this._condition}}]),e}()).\u0275fac=function(e){return new(e||oK)(Ga(Ol,8))},oK.\u0275dir=zt({type:oK,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),oK),VK=function(){return Mg()&&document.createElement},BK=null,HK=null,GK=((lK=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.zone=t,this.changeDetector=n,this.changes=new lu,"undefined"!=typeof window&&this.zone.runOutsideAngular((function(){i.subscriptions=xg(window,"resize").pipe(Sg(100)).subscribe((function(){sK!==window.devicePixelRatio&&t.run((function(){BK=null,i.changes.emit(),i.changeDetector.markForCheck()}))}))}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}},{key:"scrollbarWidth",get:function(){return function(){if(null===BK&&VK()){sK=window.devicePixelRatio||1;var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),BK=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return BK}()}},{key:"rtlScrollLeft",get:function(){return function(){if(null===HK&&VK()){var e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);var t=e.scrollLeft;e.scrollLeft=-1,HK=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return HK}()}}]),e}()).\u0275fac=function(e){return new(e||lK)(ct(Xu),ct(oa))},lK.\u0275prov=xe({token:lK,factory:lK.\u0275fac}),lK),UK=function(e){return void 0!==e.items&&void 0!==e.field},WK=function(e,t){var n,i=t.footers,r=t.level,o=t.dataIndex,a=t.parentGroupIndex,s=t.groupIndex,l=e[0];return k$(l)&&UK(l)?(void 0!==(n=l).offset&&void 0!==n.skipHeader&&(s=k$(l.offset)?l.offset:s),new ZK(e,i,r,o,a,s)):new KK(e,o,a)},qK=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.arr=t,this.idx=n,this.arr=t||[]}return _createClass(e,[{key:M$,value:function(){return this}},{key:"next",value:function(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}]),e}(),$K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};_classCallCheck(this,e),this.dataIndex=n,this.resultMap=i,this._innerIterator=t[M$]?t[M$]():new qK(t)}return _createClass(e,[{key:M$,value:function(){return this}},{key:"next",value:function(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}]),e}(),KK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){return _classCallCheck(this,n),t.call(this,e,i,(function(e,t){return{done:e.done,value:{data:e.value,groupIndex:r,index:t,type:"data"}}}))}return _createClass(n,[{key:"index",get:function(){return this.dataIndex}}]),n}($K),ZK=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;_classCallCheck(this,e),this.arr=t,this.outputFooters=n,this.level=i,this.dataIndex=r,this.parentIndex=o,this.groupIndex=a,this.currentGroupIndex="",this.arr=t||[],this._iterator=new $K(this.arr,this.dataIndex)}return _createClass(e,[{key:M$,value:function(){return this}},{key:"nextGroupItem",value:function(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex="".concat((e=this.parentIndex)?e+"_":e).concat(this.groupIndex++),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group"}}):(this.current=null,{done:!0,value:void 0});var e}},{key:"footerItem",value:function(){if(this.current){var e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer"}}}return this.current=null,{done:!0,value:void 0}}},{key:"innerIterator",value:function(e){return this._innerIterator||(this._innerIterator=WK(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex})),this._innerIterator}},{key:"nextDataItem",value:function(e){var t=this.innerIterator(e).next();return k$(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}},{key:"next",value:function(){return k$(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}},{key:"index",get:function(){return this.dataIndex+1}}]),e}(),YK=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.source=t,this.skip=n,this.groupFooters=i,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}return _createClass(e,[{key:"isGridDataResult",value:function(e){return void 0!==e.total&&void 0!==e.data}},{key:"map",value:function(e){return this.data.map(e)}},{key:"filter",value:function(e){return this.data.filter(e)}},{key:"reduce",value:function(e,t){return this.data.reduce(e,t)}},{key:"forEach",value:function(e){this.data.forEach(e)}},{key:"some",value:function(e){return this.data.some(e)}},{key:M$,value:function(){return WK(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}},{key:"toString",value:function(){return this.data.toString()}},{key:"total",get:function(){return this.isObject?this.source.total:this.source.length}},{key:"data",get:function(){return this.isObject?this.source.data:this.source}}]),e}(),QK=function(){function e(t){_classCallCheck(this,e),this.accessor=t}return _createClass(e,[{key:"at",value:function(e){return function(e,t){var n=e[0];return k$(n)&&UK(n)?function e(t){return t.reduce((function(t,n){return UK(n)?t.concat(e(n.items)):t.concat([n])}),[])}(e)[t]:e[t]}(this.accessor().data,e)}},{key:"map",value:function(e){return this.accessor().map(e)}},{key:"filter",value:function(e){return this.accessor().filter(e)}},{key:"reduce",value:function(e,t){return this.accessor().reduce(e,t)}},{key:"forEach",value:function(e){this.accessor().forEach(e)}},{key:"some",value:function(e){return this.accessor().some(e)}},{key:M$,value:function(){return this.accessor()[M$]()}},{key:"toString",value:function(){return this.accessor().toString()}},{key:"total",get:function(){return this.accessor().total}},{key:"length",get:function(){return this.accessor().data.length}},{key:"first",get:function(){return this.accessor().data[0]}},{key:"last",get:function(){return this.accessor().data[this.length-1]}}]),e}(),JK=((hK=function e(){_classCallCheck(this,e),this.cellClick=new lu,this.cellMousedown=new lu,this.click=new lu,this.keydown=new lu,this.focus=new lu,this.focusIn=new lu,this.focusOut=new lu,this.windowBlur=new lu}).\u0275prov=xe({token:hK,factory:hK.\u0275fac=function(e){return new(e||hK)}}),hK),XK=((cK=function e(){_classCallCheck(this,e),this.changes=new lu}).\u0275prov=xe({token:cK,factory:cK.\u0275fac=function(e){return new(e||cK)}}),cK),eZ=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.changes=new lu,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.cellClickSubscription=t.cellClick.subscribe((function(e){i.options.enabled&&!i.options.checkboxOnly&&"contextmenu"!==e.type&&i.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription=t.cellMousedown.subscribe((function(e){!i.options.enabled||i.options.mode&&"multiple"!==i.options.mode||i.options.checkboxOnly||!e.originalEvent.shiftKey||e.originalEvent.preventDefault()})),n&&(this.dataChangedSubscription=n.changes.subscribe((function(e){k$(e.action)&&"remove"===e.action&&i.deselect(e.item)})))}return _createClass(e,[{key:"init",value:function(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){var t=this.getIterator();for(this._selectAllState=!0;;){var n=t.next();if(n.done)break;if(n.value&&"data"===n.value.type){var i={dataItem:n.value.data,index:n.value.index};e.rowSelected(i)?this.currentSelection[n.value.index]=i:this._selectAllState=void 0}}0===this.currentSelection.length&&(this._selectAllState=!1)}}},{key:"isSelected",value:function(e){return this.options.enabled&&k$(this.currentSelection[e])}},{key:"handleClick",value:function(e,t){var n,i=t.ctrlKey||t.metaKey;"single"===this.options.mode&&i&&this.isSelected(e.index)?n=this.toggle(e):"multiple"===this.options.mode&&(i&&!t.shiftKey?n=this.toggle(e):t.shiftKey&&(n=this.addAllTo(e,i))),k$(n)||(n=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(n.selectedRows.length||n.deselectedRows.length)&&(n.ctrlKey=t.ctrlKey||t.metaKey,n.shiftKey=t.shiftKey,this.changes.emit(n))}},{key:"toggle",value:function(e){var t=[],n=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)?n.push({dataItem:e.data,index:e.index}):t.push({dataItem:e.data,index:e.index}),{deselectedRows:n,selectedRows:t}}},{key:"toggleByIndex",value:function(e){var t=this.getIterator();for(this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);;){var n=t.next();if(n.done)break;if(n.value&&"data"===n.value.type&&n.value.index===e){var i={data:n.value.data,index:n.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(i):this.select(i)}}}},{key:"select",value:function(e){var t=[],n=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||n.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach((function(n){n.index!==e.index&&t.push(n)})),{deselectedRows:t,selectedRows:n}}},{key:"deselect",value:function(e){for(var t=this.getIterator();;){var n=t.next();if(n.done)break;if(n.value&&"data"===n.value.type&&n.value.data===e){var i={dataItem:n.value.data,index:n.value.index};this.isSelected(i.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[i],selectedRows:[]})}}}},{key:"addAllTo",value:function(e,t){for(var n=[],i=[],r=Math.min(this.lastSelectionStartIndex,e.index),o=Math.max(this.lastSelectionStartIndex,e.index),a=this.getIterator();;){var s=a.next();if(s.done)break;if(s.value&&"data"===s.value.type){var l=s.value.index;(l<r||l>o)&&this.isSelected(l)&&!t&&i.push({dataItem:s.value.data,index:l}),l>=r&&l<=o&&!this.isSelected(l)&&n.push({dataItem:s.value.data,index:l})}}return{deselectedRows:i,selectedRows:n}}},{key:"updateAll",value:function(e){this.selectAllChecked=e;for(var t=[],n=[],i=this.getIterator();;){var r=i.next();if(r.done)break;if(r.value&&"data"===r.value.type){var o=r.value.index;this.isSelected(o)&&!e&&n.push({dataItem:r.value.data,index:o}),!this.isSelected(o)&&e&&t.push({dataItem:r.value.data,index:o})}}(t.length||n.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:n,selectedRows:t,shiftKey:!0})}},{key:"ngOnDestroy",value:function(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}},{key:"getIterator",value:function(){var e=this.settings.view.accessor();if(e)return e[M$]()}},{key:"selectAllState",get:function(){return this._selectAllState}},{key:"selected",get:function(){return this.currentSelection.map((function(e){return e.index})).filter((function(e){return"number"==typeof e}))}},{key:"options",get:function(){var e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return k$(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(JK),ct(XK))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),tZ=((uK=function(){function e(t,n){_classCallCheck(this,e),this.grid=t,this.cd=n,this.selectedKeys=[],this.selectedKeysChange=new lu,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;k$(this.grid.rowSelected)||(this.grid.rowSelected=function(t){return e.selectedKeys.indexOf(e.getItemKey(t))>=0}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}},{key:"destroy",value:function(){this.selectionChangeSubscription.unsubscribe()}},{key:"reset",value:function(){this.selectedKeys.splice(0,this.selectedKeys.length)}},{key:"getItemKey",value:function(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}},{key:"onSelectionChange",value:function(e){var t=this;e.deselectedRows.forEach((function(e){var n=t.getItemKey(e),i=t.selectedKeys.indexOf(n);i>=0&&t.selectedKeys.splice(i,1)})),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach((function(e){var n=t.getItemKey(e);t.selectedKeys.indexOf(n)<0&&t.selectedKeys.push(n)})),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}}]),e}()).\u0275fac=function(e){Wa()},uK.\u0275dir=zt({type:uK,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"]},outputs:{selectedKeysChange:"selectedKeysChange"}}),uK),nZ=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),iZ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).action="cellClose",Object.assign(_assertThisInitialized(i),e),i}return n}(nZ),rZ=function(e){return-1===e||void 0===e},oZ=((fK=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new lu,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new j,this.changed=this.changedSource.asObservable().pipe(Jf((function(){return n.ngZone.onStable.asObservable().pipe(qf(1))})))}return _createClass(e,[{key:"editRow",value:function(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}},{key:"addRow",value:function(e){this.newItemGroup={group:e},this.onChanged()}},{key:"editCell",value:function(e,t,n){rZ(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,n),this.column=t,this.onChanged()))}},{key:"isEditing",value:function(){return this.editedIndices.length>0}},{key:"isEditingCell",value:function(){return this.isEditing()&&void 0!==this.column}},{key:"close",value:function(e){rZ(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter(function(e){return function(t){return t.index!==e}}(e)),delete this.column,this.onChanged())}},{key:"closeCell",value:function(e){var t=this;if(this.column&&!this.closingCell)return this.ngZone.run((function(){var n=t.editedIndices[0],i=n.index,r=n.group,o=new iZ({column:t.column,formGroup:r,originalEvent:e,rowIndex:i});return t.closingCell=!0,t.changes.emit(o),t.closingCell=!1,o.isDefaultPrevented()||t.cancelCell(),o.isDefaultPrevented()}))}},{key:"cancelCell",value:function(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}},{key:"shouldCloseCell",value:function(){return this.column&&!this.keepEditCell}},{key:"preventCellClose",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){window.clearTimeout(e.keepCellTimeout),e.keepEditCell=!0,e.keepCellTimeout=window.setTimeout((function(){e.keepEditCell=!1}),0)}))}},{key:"context",value:function(e){return rZ(e)?this.newItemGroup:this.findByIndex(e)}},{key:"columnContext",value:function(e,t){return rZ(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}},{key:"isEdited",value:function(e){return!(!rZ(e)||!k$(this.newItemGroup))||!this.column&&k$(this.findByIndex(e))}},{key:"hasEdited",value:function(e){return k$(this.context(e))}},{key:"isEditedColumn",value:function(e,t){return!(!this.column||this.column!==t)&&k$(this.findByIndex(e))}},{key:"beginEdit",value:function(e){this.changes.emit({action:"edit",rowIndex:e})}},{key:"beginAdd",value:function(){this.changes.emit({action:"add"})}},{key:"endEdit",value:function(e){var t=this.context(e).group;this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:rZ(e)})}},{key:"save",value:function(e){var t=this.context(e).group;this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:rZ(e)})}},{key:"remove",value:function(e){this.changes.emit({action:"remove",rowIndex:e})}},{key:"findByIndex",value:function(e){return this.editedIndices.find(function(e){return function(t){return t.index===e}}(e))}},{key:"onChanged",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.changedSource.next()}))}},{key:"hasNewItem",get:function(){return k$(this.newItemGroup)}},{key:"newDataItem",get:function(){return this.hasNewItem?this.newItemGroup.group.value:{}}}]),e}()).\u0275fac=function(e){return new(e||fK)(ct(Xu))},fK.\u0275prov=xe({token:fK,factory:fK.\u0275fac}),fK),aZ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),i=t.call(this),Object.assign(_assertThisInitialized(i),e),i}return n}(nZ),sZ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),i=t.call(this),Object.assign(_assertThisInitialized(i),e),i}return n}(nZ),lZ=((dK=function(){function e(){_classCallCheck(this,e),this.changes=new j,this.rowState=new Set}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.rowState.clear()}},{key:"isExpanded",value:function(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}},{key:"toggleRow",value:function(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}},{key:"expandRow",value:function(e,t){this.emitEvent({dataItem:t,index:e,expand:!0})||this.userCallback||this.rowState.add(e)}},{key:"collapseRow",value:function(e,t){this.emitEvent({dataItem:t,index:e,expand:!1})||this.userCallback||this.rowState.delete(e)}},{key:"emitEvent",value:function(e){var t=new(e.expand?sZ:aZ)(e);return this.changes.next(t),t.isDefaultPrevented()}}]),e}()).\u0275fac=function(e){return new(e||dK)},dK.\u0275prov=xe({token:dK,factory:dK.\u0275fac}),dK),uZ=function(e){return e.lastIndexOf("_")>-1?e.slice(0,e.lastIndexOf("_")):""},cZ=((pK=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"isInExpandedGroup",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(e=uZ(e));for(var n=!0;e&&n;)n=this.isExpanded(e),e=uZ(e);return n}},{key:"expandChildren",value:function(e){var t=this;this.rowState.forEach((function(n){return function(e,t){return t!==e&&e.startsWith(t)}(n,e)&&t.rowState.delete(n)}))}}]),n}(function(){function e(t){_classCallCheck(this,e),this.isInitiallyCollapsed=t,this.changes=new j,this.rowState=new Set}return _createClass(e,[{key:"toggleRow",value:function(e,t){var n=this.rowState.has(e);this.emitEvent({dataItem:t,expand:this.isInitiallyCollapsed?!n:n,index:e})||(n?this.rowState.delete(e):this.rowState.add(e))}},{key:"isExpanded",value:function(e){var t=this.rowState.has(e);return this.isInitiallyCollapsed?t:!t}},{key:"reset",value:function(){this.rowState.clear()}},{key:"emitEvent",value:function(e){return this.changes.next(e),!1}}]),e}())).\u0275fac=function(e){return new(e||pK)(ct(R$,8))},pK.\u0275prov=xe({token:pK,factory:pK.\u0275fac}),pK),hZ=function(){function e(t){_classCallCheck(this,e),this.columns=t,this.allColumns=new cu,this.leafColumns=new cu,this.lockedColumns=new cu,this.nonLockedColumns=new cu,this.lockedLeafColumns=new cu,this.nonLockedLeafColumns=new cu,this.totalLevels=0,this.changes=new lu,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}return _createClass(e,[{key:"refresh",value:function(){var e=this,t=this.totalLevels,n=new Array,i=new Array,r=new Array,o=new Array,a=new Array,s=new Array,l=new Array,u=new Array,c=new Array,h=!1,f=!1,d=!1,p=0,v=0;this.totalLevels=0,this.columns().forEach((function(t){var m=!0===t.isLocked?i:r,g=!0===t.isLocked?o:a,y=!0===t.isLocked?u:c;rK(t)||(m.push(t),n.push(t),l.push.apply(l,Z$([t])),y.push.apply(y,Z$([t])),h=h||tK((function(e){return Boolean(e.groupHeaderColumnTemplateRef)}),t),f=f||tK((function(e){return Boolean(e.groupFooterTemplateRef)}),t),d=d||tK((function(e){return Boolean(e.footerTemplateRef)}),t),t.isLocked||(p+=t.width||0),t.isSpanColumn?t.childColumns.forEach((function(e){e.leafIndex=v++})):t.leafIndex=v++),g.push(t),s.push(t),e.totalLevels=t.level>e.totalLevels?t.level:e.totalLevels})),this.hasGroupHeaderColumn=h,this.hasGroupFooter=f,this.hasFooter=d,this.leafColumnsToRender=l,this.lockedColumnsToRender=u,this.nonLockedColumnsToRender=c,this.unlockedWidth=p;var m=function(){for(var e=!1,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t],i=_slicedToArray(n,2),r=i[0],o=i[1];e=e||r.length!==o.length,r.reset(o)}return e}([this.leafColumns,n],[this.lockedLeafColumns,i],[this.nonLockedLeafColumns,r],[this.lockedColumns,o],[this.allColumns,s],[this.nonLockedColumns,a])||t!==this.totalLevels;return m&&this.changes.emit(),m}}]),e}(),fZ=function e(t,n){t.forEach((function(t){n(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,n)}))},dZ=function(e,t){var n=[];return nK(e).forEach((function(e){if(t(e))if(e.isColumnGroup){var i=dZ(e.childrenArray,t);i.length&&n.push.apply(n,[e].concat(_toConsumableArray(i)))}else e.isSpanColumn&&!dZ(e.childrenArray,t).length||n.push(e)})),n},pZ=function(){function e(t){_classCallCheck(this,e),this.columns=t}return _createClass(e,[{key:"forEach",value:function(e){fZ(this.columns,e)}},{key:"filter",value:function(e){var t=[];return fZ(this.columns,(function(n){e(n)&&t.push(n)})),t}},{key:"filterHierarchy",value:function(e){return dZ(this.columns.toArray(),e)}},{key:"filterSort",value:function(e){var t=[];return function e(t,n){nK(t).forEach((function(t){n(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,n)}))}(this.columns.toArray(),(function(n){e(n)&&t.push(n)})),t}},{key:"toArray",value:function(){var e=[];return fZ(this.columns,(function(t){e.push(t)})),e}},{key:"rootColumns",value:function(){return this.columns.toArray()}}],[{key:"empty",value:function(){return new e(new cu)}}]),e}(),vZ=((gK=function(){function e(){_classCallCheck(this,e),this._columnList=pZ.empty}return _createClass(e,[{key:"registerColumnsContainer",value:function(e){this._columnList=e}},{key:"formatForGroup",value:function(e){var t=this.columnForGroup(e);return t?t.format:""}},{key:"isGroupable",value:function(e){var t=_slicedToArray(this.columns.filter((function(t){return t.field===e})),1)[0];return!t||t.groupable}},{key:"groupTitle",value:function(e){var t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}},{key:"groupHeaderTemplate",value:function(e){var t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}},{key:"groupField",value:function(e){return e.data?e.data.field:e.field}},{key:"columnForGroup",value:function(e){var t=this.groupField(e);return _slicedToArray(this.columns.filter((function(e){return e.field===t})),1)[0]}},{key:"columns",get:function(){return $$(this._columnList().toArray()).filter(B$)}}]),e}()).\u0275fac=function(e){return new(e||gK)},gK.\u0275prov=xe({token:gK,factory:gK.\u0275fac}),gK),mZ=((mK=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.changes=new lu}return _createClass(e,[{key:"notify",value:function(){var e=this;this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(qf(1)).subscribe((function(){return e.changes.emit()})))}}]),e}()).\u0275fac=function(e){return new(e||mK)(ct(Xu))},mK.\u0275prov=xe({token:mK,factory:mK.\u0275fac}),mK),gZ=((vK=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||vK)(Ga(Ol,8))},vK.\u0275dir=zt({type:vK,selectors:[["","kendoGridNoRecordsTemplate",""]]}),vK),yZ=function(e){return function(t){return t.forEach((function(t){return t.style.height=e}))}},kZ=function(e,t){var n=document.activeElement,i=function(e,t){for(var n=[],i=0,r=e.length;i<r&&t[i];i++)n.push([e[i],t[i]]);return n}(e.rows,t.rows);i.filter((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return n.style.height||i.style.height})).forEach(yZ(""));var r=function(e){return e.map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],r=n.offsetHeight,o=i.offsetHeight;return r<o?o:r}))}(i);[e,t].forEach((function(e){return e.style.display="none"})),i.forEach(function(e){return function(t,n){return yZ(e[n]+1+"px")(t)}}(r)),[e,t].forEach((function(e){return e.style.display=""})),document.activeElement!==n&&(e.contains(n)||t.contains(n))&&n.focus()},bZ=new tt("grid-cell-context"),wZ=((wK=function(){function e(){_classCallCheck(this,e),this.changes=new j}return _createClass(e,[{key:"filter",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||wK)},wK.\u0275prov=xe({token:wK,factory:wK.\u0275fac}),wK),CZ=((bK=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||bK)(Ga(Ol,8))},bK.\u0275dir=zt({type:bK,selectors:[["","kendoPagerTemplate",""]]}),bK),_Z=((kK=function(){function e(){_classCallCheck(this,e),this.changes=new j,this.pageChange=new j}return _createClass(e,[{key:"notifyChanges",value:function(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}},{key:"changePage",value:function(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}},{key:"changePageSize",value:function(e){this.pageChange.next({skip:0,take:e})}},{key:"nextPage",value:function(){var e=this.currentPage+1;e*this.pageSize<=this.total&&this.changePage(e)}},{key:"prevPage",value:function(){var e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}},{key:"currentPage",get:function(){return this.skip/this.pageSize}}]),e}()).\u0275fac=function(e){return new(e||kK)},kK.\u0275prov=xe({token:kK,factory:kK.\u0275fac}),kK),SZ=((yK=function(){function e(){_classCallCheck(this,e),this.savePDF=new lu,this.drawPDF=new lu,this.exportClick=new lu,this.dataChanged=new lu}return _createClass(e,[{key:"save",value:function(e){this.emitEvent(this.savePDF,e)}},{key:"draw",value:function(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}},{key:"emitEvent",value:function(e,t){if(0===e.observers.length){if(Ni())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||yK)},yK.\u0275prov=xe({token:yK,factory:yK.\u0275fac}),yK),xZ=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(nZ),TZ=((CK=function e(){_classCallCheck(this,e),this.scroll=!1}).\u0275prov=xe({token:CK,factory:CK.\u0275fac=function(e){return new(e||CK)}}),CK),OZ=function(e){return window.matchMedia(e).matches},IZ=((xK=function(){function e(){_classCallCheck(this,e),this.matchMedia=OZ}return _createClass(e,[{key:"matchesMedia",value:function(e){return!e||this.matchMedia(function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e}(e))}}]),e}()).\u0275fac=function(e){return new(e||xK)},xK.\u0275prov=xe({token:xK,factory:xK.\u0275fac}),xK),EZ=((SK=function(){function e(){_classCallCheck(this,e),this.saveToExcel=new lu,this.exportClick=new lu}return _createClass(e,[{key:"save",value:function(e){if(0===this.saveToExcel.observers.length){if(Ni())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||SK)},SK.\u0275prov=xe({token:SK,factory:SK.\u0275fac}),SK),AZ=((_K=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._position="top"}return _createClass(e,[{key:"position",set:function(e){this._position=e},get:function(){return this._position}}]),e}()).\u0275fac=function(e){return new(e||_K)(Ga(Ol,8))},_K.\u0275dir=zt({type:_K,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),_K),DZ=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new j,this.elements=[],this.subscriptions=new _,this.headerSubscription=new _,this.bodySubscription=new _,this.subscriptions.add(this.changes.subscribe((function(e){return n.scrollLeft(e)})))}return _createClass(e,[{key:"registerEmitter",value:function(e,t){var n=this;this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular((function(){var i=xg(e,"scroll").pipe(Q((function(e){return{scrollLeft:e.target.scrollLeft,sourceType:t}}))),r=i.pipe(function(e,t){return function(t){return t.lift(new ox(e,void 0))}}((function(e,t){return e.scrollLeft===t.scrollLeft})),If((function(e){return!n.source||n.source===e.sourceType})),sd((function(e){return n.source=e.sourceType}))).subscribe((function(e){return n.changes.next(e)}));r.add(i.pipe(If((function(e){return n.source&&n.source!==e.sourceType}))).subscribe((function(){return n.source=void 0}))),"body"===t?n.bodySubscription.add(r):n.headerSubscription.add(r)}))}},{key:"destroy",value:function(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}},{key:"scrollLeft",value:function(e){var t=this,n=e.scrollLeft,i=e.sourceType;this.ngZone.runOutsideAngular((function(){t.elements.filter((function(e){return i!==e.sourceType})).forEach((function(e){return e.element.scrollLeft=n}))}))}},{key:"unregister",value:function(e){var t=this.elements.findIndex((function(t){return t.sourceType===e}));t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new _):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new _),this.elements.splice(t,1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(Xu))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),RZ=function(){var e=function(){function e(){_classCallCheck(this,e),this.resizeSubscription=new _((function(){})),this.dispatcher=new j,this.changes=this.dispatcher.asObservable().pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sx;return function(i){return i.lift(new lx(e,t,n.leading,n.trailing))}}(100))}return _createClass(e,[{key:"connect",value:function(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}},{key:"destroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),MZ=/^(?:a|input|select|option|textarea|button|object)$/i,FZ={},PZ=function(e){return String(e).trim().split(" ")},zZ=function(e,t){var n=PZ(t);return Boolean(PZ(e.className).find((function(e){return n.indexOf(e)>=0})))},NZ=function(e){return function(t){return zZ(t,e)}},LZ=function(e){return FZ[e]||(FZ[e]=function(t){return String(t.nodeName).toLowerCase()===e.toLowerCase()}),FZ[e]},jZ=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},VZ=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},BZ=function(e){var t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},HZ=function(e){if(!e.tagName)return!1;var t=e.tagName.toLowerCase(),n=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&MZ.test(t)||n},GZ=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!HZ(e))return!1;var n=e.getAttribute("tabIndex");return(!t||BZ(e))&&"-1"!==n},UZ=function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){if(i&&n(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var r=e(t,n);if(r)return r}t=t.nextSibling}}},WZ=function e(t){return t.parent?e(t.parent):!!t.locked},qZ=function(e,t){return Object.assign({columns:eK([e]),locked:WZ(e)},t)},$Z=((TK=function(){function e(){_classCallCheck(this,e),this.changes=new lu,this.tables=[],this.batch=null}return _createClass(e,[{key:"start",value:function(e){this.trackColumns(e);var t=(this.column.isColumnGroup?[e]:[]).concat(eK([e]));this.changes.emit({columns:t,locked:WZ(this.column),type:"start"})}},{key:"resizeColumns",value:function(e){var t=qZ(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}},{key:"resizeTable",value:function(e,t){var n=qZ(e,{delta:t,type:"resizeTable"});this.changes.emit(n)}},{key:"resizedColumn",value:function(e){this.resizedColumns.push(e)}},{key:"end",value:function(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}},{key:"registerTable",value:function(e){var t=this;return this.tables.push(e),function(){t.tables.splice(t.tables.indexOf(e),1)}}},{key:"measureColumns",value:function(e){var t,n=this;null!==this.batch?(t=this.batch).push.apply(t,_toConsumableArray(e)):this.autoFitBatch(e,(function(){return n.end()}))}},{key:"autoFit",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.filter((function(e){return!e.isLocked}));this.autoFitStart(r),this.autoFitBatch(this.batch,(function(){if(r.length<n.length){var t=n.filter((function(e){return e.isLocked}));e.autoFitStart(t),e.autoFitBatch(e.batch,(function(){return e.end()}))}else e.end()}))}},{key:"trackColumns",value:function(e){this.resizedColumns=[],this.column=e}},{key:"autoFitStart",value:function(e){if(this.batch=[],this.resizedColumns=[],0!==e.length){var t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}}},{key:"autoFitBatch",value:function(e,t){var n=this,i=e.length>0&&e[0].column.isLocked;(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),ae(t,void 0).lift(new JS(i))}).apply(void 0,_toConsumableArray(this.tables.filter((function(e){return e.locked===i})).map((function(t){return t.autoFit(e)})))).pipe(qf(1)).subscribe((function(r){n.changes.emit({columns:e.map((function(e){return e.column})),type:"autoFitComplete",widths:r,locked:i}),t&&t()})),this.batch=null}}]),e}()).\u0275fac=function(e){return new(e||TK)},TK.\u0275prov=xe({token:TK,factory:TK.\u0275fac}),TK),KZ=function(e){return!0===e||"string"==typeof e&&e.indexOf("row")>-1},ZZ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).originalEvent=e,i}return n}(nZ),YZ=((OK=function(){function e(t,n,i,r,o){var a=this;_classCallCheck(this,e),this.popupService=t,this.renderer=n,this.ngZone=i,this.localization=o,this.onClose=new j,this.scrollSubscription=r.changes.subscribe((function(){return a.destroy()}))}return _createClass(e,[{key:"open",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"k-grid-filter-popup",r=k$(n)&&this.popupRef===n;if(this.destroy(),!r){var o=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:o},popupAlign:{vertical:"top",horizontal:o},anchor:e,popupClass:i,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}},{key:"destroy",value:function(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}},{key:"ngOnDestroy",value:function(){this.destroy(),this.scrollSubscription.unsubscribe()}},{key:"detachClose",value:function(){this.removeClick&&this.removeClick()}},{key:"attachClose",value:function(e){var t=this;this.detachClose(),this.ngZone.runOutsideAngular((function(){return t.removeClick=t.renderer.listen("document","click",(function(n){if(!function(n,i){for(;n;){if(r=n,t.popupRef.popupElement===r||r===e)return!0;n=n.parentNode}var r;return!1}(n.target)){var i=new ZZ(n);t.onClose.next(i),i.isDefaultPrevented()||t.destroy()}}))}))}}]),e}()).\u0275fac=function(e){return new(e||OK)(ct(Ry),ct(ll),ct(Xu),ct(DZ),ct(Om))},OK.\u0275prov=xe({token:OK,factory:OK.\u0275fac}),OK),QZ=function(e){var t=!1;return function(){return t||(document.body.appendChild(e),t=!0),e}},JZ=function(e){var t=function(e){return e.ownerDocument.documentElement}(e),n=t.clientTop,i=t.clientLeft,r=function(e){return e.ownerDocument.defaultView}(e),o=r.pageYOffset,a=r.pageXOffset,s=e.getBoundingClientRect();return{top:s.top+o-n,left:s.left+a-i}},XZ=function(e,t){return 0!=(4&t.compareDocumentPosition(e))},eY=function(e,t){return e===t||0!=(16&t.compareDocumentPosition(e))},tY=function(e,t){var n=JZ(e),i=e.offsetWidth,r=e.offsetHeight;return{left:n.left+(t?0:i),top:n.top,height:r}},nY=((IK=function(){function e(){_classCallCheck(this,e),this.changes=new lu,this.register=[],this.lastTarget=null}return _createClass(e,[{key:"add",value:function(e){this.register.push(e)}},{key:"remove",value:function(e){this.register=this.register.filter((function(t){return t!==e}))}},{key:"notifyDrag",value:function(e,t,n){var i=this.targetFor(t);this.lastTarget!==i&&(this.changes.next({draggable:e,mouseEvent:n,target:this.lastTarget,type:"leave"}),i&&this.changes.next({draggable:e,mouseEvent:n,target:i,type:"enter"}),this.lastTarget=i)}},{key:"notifyDrop",value:function(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}},{key:"targetFor",value:function(e){var t=eY.bind(null,e);return this.register.find((function(e){var n=e.element.nativeElement;return t(n)}))}}]),e}()).\u0275fac=function(e){return new(e||IK)},IK.\u0275prov=xe({token:IK,factory:IK.\u0275fac}),IK),iY=function(e,t){var n=e.querySelector(".k-icon");n.className=n.className.replace(/(plus|cancel)/,t?"plus":"cancel")},rY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.querySelectorAll(".k-icon")[1],i=null==t?"":t?"k-i-lock":"k-i-unlock";n.className=n.className.replace(/(k-i-unlock|k-i-lock)/,"")+" "+i},oY=((DK=function(){function e(t){_classCallCheck(this,e),this.santizer=t}return _createClass(e,[{key:"create",value:function(e,t,n){this.initCoords(e),this.dom=document.createElement("div"),function(e,t){var n=getComputedStyle(t);e.className="k-header k-drag-clue",e.style.position="absolute",e.style.zIndex="20000",e.style.paddingLeft=n.paddingLeft,e.style.paddingTop=n.paddingTop,e.style.paddingBottom=n.paddingBottom,e.style.paddingRight=n.paddingRight,e.style.width=n.width,e.style.height=n.height}(this.dom,t);var i=this.santizer.sanitize(ar.HTML,n);this.dom.innerHTML='\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            '.concat(i,"\n        ")}},{key:"attach",value:function(){return QZ(this.dom)}},{key:"remove",value:function(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout((function(){return document.body.removeChild(e)})),this.dom=null)}},{key:"show",value:function(){this.dom.style.display=""}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"enable",value:function(){iY(this.dom,!0)}},{key:"disable",value:function(){iY(this.dom,!1)}},{key:"removeLock",value:function(){rY(this.dom)}},{key:"toggleLock",value:function(e){rY(this.dom,e)}},{key:"move",value:function(e){this.dom.style.top=this.initialTop+e.pageY+"px",this.dom.style.left=this.initialLeft+e.pageX+"px"}},{key:"initCoords",value:function(e){var t=JZ(e.originalEvent.target),n=t.top,i=t.left;this.initialTop=n-e.pageY,this.initialLeft=i-e.pageX}}]),e}()).\u0275fac=function(e){return new(e||DK)(ct(ff))},DK.\u0275prov=xe({token:DK,factory:DK.\u0275fac}),DK),aY=((AK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}},{key:"attach",value:function(){return QZ(this.dom)}},{key:"remove",value:function(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"position",value:function(e){var t=e.left,n=e.top,i=e.height;this.dom.style.display="block",this.dom.style.height=i+"px",this.dom.style.top=n+"px",this.dom.style.left=t-this.dom.offsetWidth/2+"px"}}]),e}()).\u0275fac=function(e){return new(e||AK)},AK.\u0275prov=xe({token:AK,factory:AK.\u0275fac}),AK),sY=((EK=function(){function e(){_classCallCheck(this,e),this.changes=new lu}return _createClass(e,[{key:"reorder",value:function(e){this.changes.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||EK)},EK.\u0275prov=xe({token:EK,factory:EK.\u0275fac}),EK),lY=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=e.column,o=e.newIndex,a=e.oldIndex;return _classCallCheck(this,n),(i=t.call(this)).column=r,i.newIndex=o,i.oldIndex=a,i}return n}(nZ),uY=((RK=function(){function e(){_classCallCheck(this,e),this.groups=new Set}return _createClass(e,[{key:"registerGroup",value:function(e){this.alive&&this.groups.add(e)}},{key:"unregisterGroup",value:function(e){this.alive&&this.groups.delete(e)}},{key:"activate",value:function(){this.alive&&this.groups.forEach((function(e){return e.activate()}))}},{key:"deactivate",value:function(){this.alive&&this.groups.forEach((function(e){return e.deactivate()}))}}]),e}()).\u0275fac=function(e){return new(e||RK)},RK.\u0275prov=xe({token:RK,factory:RK.\u0275fac}),RK),cY=LZ("button"),hY=LZ("input"),fY=/(button|checkbox|color|file|radio|reset|submit)/i,dY=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.renderer=n,this.element=t.nativeElement,this.focusable=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return UZ(i.element,(function(e){return GZ(e,t)}))}(0,!1)||this.element}return _createClass(e,[{key:"isNavigable",value:function(){return this.canFocus()&&!(e=this.element).disabled&&(cY(e)||function(e){return hY(e)&&fY.test(e.type)}(e));var e}},{key:"toggle",value:function(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}},{key:"focus",value:function(){this.focusable&&this.focusable.focus()}},{key:"canFocus",value:function(){return this.visible&&this.enabled}},{key:"hasFocus",value:function(){var e=this;return document.activeElement!==this.element&&jZ(document.activeElement,(function(t){return t===e.element}))}},{key:"enabled",get:function(){return this.focusable&&!this.focusable.disabled}},{key:"visible",get:function(){return this.focusable&&BZ(this.focusable)}}]),e}(),pY=((MK=function(){function e(t,n,i){_classCallCheck(this,e),this.cellContext=t,this.hostElement=n,this.renderer=i,this.active=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.element||(this.element=new dY(this.hostElement,this.renderer)),this.group&&this.toggle(this.group.isActive)}},{key:"ngOnDestroy",value:function(){this.group&&this.group.unregisterElement(this)}},{key:"toggle",value:function(e){this.element&&e!==this.active&&(this.active=e,this.element.toggle(e))}},{key:"canFocus",value:function(){return this.element&&this.element.canFocus()}},{key:"isNavigable",value:function(){return this.element&&this.element.isNavigable()}},{key:"focus",value:function(){this.element&&this.element.focus()}},{key:"hasFocus",value:function(){return this.element&&this.element.hasFocus()}},{key:"registerElement",value:function(e){this.element=e}}]),e}()).\u0275fac=function(e){return new(e||MK)(Ga(bZ,12),Ga(rl),Ga(ll))},MK.\u0275dir=zt({type:MK,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]]}),MK),vY=function(){function e(t){_classCallCheck(this,e),this.navigationService=t}return _createClass(e,[{key:"focus",value:function(){this.navigationService.focusCell()}},{key:"toggle",value:function(e){this.navigationService.toggle(e)}},{key:"canFocus",value:function(){return!0}},{key:"hasFocus",value:function(){return this.navigationService.hasFocus()}},{key:"isNavigable",value:function(){return!1}}]),e}(),mY=function(){function e(t){_classCallCheck(this,e),this.model=t,this.changes=new j,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}return _createClass(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.activate(e,t,n)&&(this.virtualRow=e,this.virtualCol=t)}},{key:"activate",value:function(e,t,n){if(!n&&this.isActiveRange(e,t))return!1;var i=this.activeCol,r=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:i,prevRowIndex:r,rowIndex:e}),!0}},{key:"isActiveRange",value:function(e,t){if(this.activeRow!==e)return!1;var n=this.cell,i=this.model.cellRange(n),r=i.start,o=i.end;return!Boolean(n)||r<=t&&t<=o}},{key:"assume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol;this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}},{key:"announce",value:function(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}},{key:"activateVirtualCell",value:function(e){var t=this.model.rowRange(e),n=this.model.cellRange(e),i=this.activeCol,r=this.activeRow;if(t.start<=r&&r<=t.end&&n.start<=i&&i<=n.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}},{key:"isActive",value:function(e,t){return this.activeCol===t&&this.activeRow===e}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(-e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(-e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(e)}},{key:"lastCellIndex",value:function(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}},{key:"offsetCol",value:function(e){var t=this.model.findRow(this.virtualRow),n=this.lastCellIndex(t),i=this.virtualCol;this.virtualCol=Math.max(0,Math.min(i+e,n));var r=this.virtualCol,o=this.virtualRow,a=this.model.findCell(this.virtualCol,t);if(!a&&this.metadata.virtualColumns)return this.activate(o,r);if(a.colSpan>1&&a.colIndex<=i&&i<a.colIndex+a.colSpan){r=e>0?Math.min(a.colIndex+a.colSpan,n):Math.max(0,a.colIndex+e);var s=this.model.findCell(r,t);a!==s?(a=s,this.virtualCol=a.colIndex):this.virtualCol=i}return this.activate(a.rowIndex,a.colIndex)}},{key:"offsetRow",value:function(e){var t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){var n=this.metadata.maxLogicalRowIndex,i=Math.max(0,Math.min(this.activeRow+e,n));this.metadata.hasDetailTemplate&&!this.model.findRow(i)&&(i=e>0?i+1:i-1,i=Math.max(0,Math.min(i,n))),this.metadata.hasDetailTemplate&&i===n&&this.model.lastRow.index!==n&&i--;var r=this.model.findRow(i);if(r){var o=this.model.findCell(this.virtualCol,r);o.rowIndex<=this.virtualRow&&e>0&&o.rowSpan>1&&(o=this.model.findCell(this.virtualCol,this.model.findRow(o.rowIndex+o.rowSpan-1+e))),i=o.rowIndex,t=o.colIndex}return this.virtualRow=i,this.activate(i,t)}var a=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!a)return!1;var s=this.model.findCell(this.virtualCol,a);return s&&s.rowIndex<=this.virtualRow&&e>0&&s.rowSpan>1&&(s=this.model.findCell(this.virtualCol,this.model.findRow(s.rowIndex+s.rowSpan-1+e))),!s&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=s.rowIndex,this.activate(this.virtualRow,s.colIndex))}},{key:"row",get:function(){return this.model.findRow(this.activeRow)}},{key:"cell",get:function(){var e=this.row;if(e)return this.model.findCell(this.activeCol,e)}},{key:"dataRowIndex",get:function(){var e=this.row;return e?e.dataRowIndex:-1}}]),e}(),gY=function(){function e(){_classCallCheck(this,e),this.count=0,this.items={}}return _createClass(e,[{key:"removeItem",value:function(e){this.items[e]&&(delete this.items[e],this.count--)}},{key:"setItem",value:function(e,t){this.items[e]||this.count++,this.items[e]=t}},{key:"getItem",value:function(e){return this.items[e]}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"forEach",value:function(e){for(var t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}},{key:"find",value:function(e){return this.forEach(e)}},{key:"first",get:function(){var e;if(this.count>0)return this.forEach((function(t){return e=t,!0})),e}},{key:"last",get:function(){if(this.count>0){var e=Object.keys(this.items);return this.items[e[e.length-1]]}}}]),e}(),yY=function(){function e(){_classCallCheck(this,e),this.rows=new gY}return _createClass(e,[{key:"registerCell",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);if(t){var n=e.logicalColIndex,i={uid:e.uid,colIndex:n,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(n,i),e.groupItem&&(t.groupItem=e.groupItem),i}}},{key:"unregisterCell",value:function(e,t,n){var i=this.rows.getItem(t);if(i){var r=i.cells.getItem(e);r&&r.uid===n.uid&&i.cells.removeItem(e)}}},{key:"registerRow",value:function(e){var t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new gY};this.rows.setItem(e.logicalRowIndex,t)}},{key:"updateRow",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}},{key:"unregisterRow",value:function(e,t){var n=this.rows.getItem(e);n&&n.uid===t.uid&&this.rows.removeItem(e)}},{key:"cellRange",value:function(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}},{key:"rowRange",value:function(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}},{key:"nextRow",value:function(e,t){var n=this.rows.toArray(),i=this.rows.getItem(e),r=n.indexOf(i);return n[r+t]}},{key:"findRow",value:function(e){return this.rows.getItem(e)}},{key:"findCell",value:function(e,t){if(t){for(var n=t.index,i=t.cells.getItem(e),r=n;!i&&t;)t=this.rows.getItem(r),i=this.rowCell(e,t),r--;return i&&n<=t.index+(i.rowSpan||1)-1?i:void 0}}},{key:"rowCell",value:function(e,t){if(t&&t.cells.count){for(var n,i=t.cells.first,r=e;!n&&r>=i.colIndex;)n=t.cells.getItem(r),r--;return n&&e<=n.colIndex+(n.colSpan||1)-1?n:void 0}}},{key:"firstRow",get:function(){return this.rows.first}},{key:"lastRow",get:function(){return this.rows.last}}]),e}(),kY=((FK=function(){function e(){_classCallCheck(this,e),this.requests=new j}return _createClass(e,[{key:"scrollTo",value:function(e){this.requests.next(e)}}]),e}()).\u0275fac=function(e){return new(e||FK)},FK.\u0275prov=xe({token:FK,factory:FK.\u0275fac}),FK),bY=function(e,t){return jZ(e,LZ("kendo-grid"))===t},wY=LZ("th"),CY=LZ("td"),_Y=function(e){return CY(e)||wY(e)},SY=function(e,t){var n=function(e,t){for(var n=jZ(e,_Y);n&&!bY(n,t);)n=jZ(n.parentElement,_Y);return n}(e,t),i=jZ(n,LZ("tr"));if(n&&i){var r=i.getAttribute("aria-rowindex");r=r?parseInt(r,10)-1:null;var o=n.getAttribute("aria-colindex");if(o=o?parseInt(o,10)-1:null,null!==r&&null!==o)return{colIndex:o,rowIndex:r,element:n}}},xY=function(e){return function(e){return e===Jg.ArrowLeft||e===Jg.ArrowRight||e===Jg.ArrowUp||e===Jg.ArrowDown}(e)||e===Jg.PageUp||e===Jg.PageDown||e===Jg.Home||e===Jg.End},TY=LZ("input"),OY=function(){function e(t,n){_classCallCheck(this,e),this.firstItemIndex=t,this.lastItemIndex=n}return _createClass(e,[{key:"containsRow",value:function(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}},{key:"intersects",value:function(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}]),e}(),IY=function(){var e=function(){function e(t,n,i,r,o,a,s,l,u,c,h){_classCallCheck(this,e),this.zone=t,this.domEvents=n,this.pagerContextService=i,this.scrollRequestService=r,this.groupsService=o,this.detailsService=a,this.focusRoot=s,this.editService=l,this.cd=u,this.localization=c,this.focusableParent=h,this.cellKeydown=new lu,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new yY,this.cursor=new mY(this.model),this.changes=this.cursor.changes}return _createClass(e,[{key:"init",value:function(e){var t=this;this.alive=!0,this.focusRoot.alive=!0,this.metadata=e;var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){var i;return t.zone.isStable?te([!0]).pipe(Q((function(){return e}))):(i=t.zone.onStable).pipe.apply(i,[qf(1),Q((function(){return e}))].concat(n))}},i=n();if(this.subs=new _,this.subs.add(this.cursor.changes.subscribe((function(e){return t.onCursorChanges(e)}))),this.subs.add(this.domEvents.focus.pipe(Jf(i)).subscribe((function(e){return t.navigateTo(e.target)}))),this.subs.add(this.domEvents.focusOut.pipe(If((function(){return 0!==t.mode})),Jf(n(Fy(this.domEvents.focus)))).subscribe((function(e){return t.onFocusOut(e)}))),this.subs.add(this.domEvents.windowBlur.pipe(If((function(){return 0!==t.mode}))).subscribe((function(){return t.onWindowBlur()}))),this.subs.add(this.editService.changes.pipe(If((function(e){return"edit"!==e.action&&2===t.mode})),If((function(e){return"cellClose"===e.action&&!e.prevented})),Jf(i)).subscribe((function(){return t.leaveCell()}))),this.subs.add(this.pagerContextService.pageChange.subscribe((function(){return t.cursor.reset(0,0)}))),this.subs.add(this.domEvents.keydown.subscribe((function(e){return t.onKeydown(e)}))),this.subs.add(this.domEvents.keydown.pipe(If((function(e){return e.keyCode===Jg.Tab&&2===t.mode})),hx(this.domEvents.focusOut.pipe(Fy(ix(0).pipe(qf(1)))))).subscribe((function(){return t.onTabout()}))),this.focusableParent){var r=new vY(this);this.focusableParent.registerElement(r)}this.deactivateElements()}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe(),this.alive=!1}},{key:"registerCell",value:function(e){if(e.logicalRowIndex!==this.pendingRowIndex){var t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}},{key:"registerCellOnCurrentRow",value:function(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}},{key:"unregisterCell",value:function(e,t,n){this.model.unregisterCell(e,t,n)}},{key:"registerRow",value:function(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}},{key:"updateRow",value:function(e){this.model.updateRow(e)}},{key:"unregisterRow",value:function(e,t){this.model.unregisterRow(e,t)}},{key:"isCellFocusable",value:function(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}},{key:"isCellFocused",value:function(e){return 1===this.mode&&this.isCellFocusable(e)}},{key:"navigateTo",value:function(e){if(this.alive){var t=SY(e,this.meta.gridElement.nativeElement);if(t){var n=this.mode,i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!jZ(t,(function(t){return t===e})))return!1;var i=jZ(t,(function(e){return e===t}));return i&&(n||i!==e)}(t.element,document.activeElement),r=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(i)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!r){this.mode=1,this.deactivateElements();var o=this.cursor.isActive(t.rowIndex,t.colIndex);1===n&&o||this.cursor.reset(t.rowIndex,t.colIndex)}}}}},{key:"tryFocus",value:function(e){this.activateElements();var t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return UZ(e,(function(e){return GZ(e,t)}),!1)}(e);if(t){var n=SY(t,this.meta.gridElement.nativeElement);n&&(this.cursor.reset(n.rowIndex,n.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}},{key:"needsViewport",value:function(){return this.meta&&this.meta.isVirtual}},{key:"setViewport",value:function(e,t){if(this.viewport=new OY(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){var n=this.activeDataRow,i=n-t;e-n>0?this.cursor.reset(e+this.meta.headerRows):i>0&&this.cursor.reset(t-this.meta.headerRows)}}},{key:"setColumnViewport",value:function(e,t){this.columnViewport=new OY(e,t)}},{key:"focusCell",value:function(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!0,e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!1,e)}},{key:"toggle",value:function(e){this.active=e,this.cursor.announce()}},{key:"hasFocus",value:function(){return 1===this.mode||2===this.mode}},{key:"autoFocusCell",value:function(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}},{key:"focusAdjacentCell",value:function(e,t){this.focusCell();var n=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!n&&(n=e?this.cursor.moveDown(1):this.cursor.moveUp(1))){var i=this.cursor.row,r=e?0:this.cursor.lastCellIndex(i);this.cursor.reset(i.index,r)}return n?this.activeCell:(this.mode=0,this.cursor.announce(),null)}},{key:"enterCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup,n=t&&t.canFocus();this.mode=n?2:1,this.cursor.announce(),n&&(this.activateRow(),t.focus())}}},{key:"leaveCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}}},{key:"activateElements",value:function(){this.focusRoot.activate()}},{key:"deactivateElements",value:function(){this.focusRoot.deactivate()}},{key:"activateRow",value:function(){this.cursor.row.cells.forEach((function(e){return e.focusGroup&&e.focusGroup.activate()}))}},{key:"moveCursorFwd",value:function(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}},{key:"moveCursorBwd",value:function(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}},{key:"onCursorKeydown",value:function(e){var t=this,n=!1,i=e.ctrlKey||e.metaKey,r=i?5:1;if(this.onCellKeydown(e)){var o,a=this.cursor.row;switch(e.keyCode){case Jg.ArrowDown:n=this.cursor.moveDown(r);break;case Jg.ArrowUp:n=this.cursor.moveUp(r);break;case Jg.ArrowRight:n=this.moveCursorFwd();break;case Jg.ArrowLeft:n=this.moveCursorBwd();break;case Jg.PageDown:if(this.metadata.isVirtual&&this.viewport){var s=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&s++,s=Math.min(this.meta.maxLogicalRowIndex,s),this.cursor.reset(s),n=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.nextPage()})),n=!0);break;case Jg.PageUp:if(this.metadata.isVirtual&&this.viewport){var l=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(l),n=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.prevPage()})),n=!0);break;case Jg.Home:this.cursor.reset(i?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:a.index,0,!1),n=!0;break;case Jg.End:if(i)if(this.meta.isVirtual){var u=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&u--,this.cursor.reset(u,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{var c=this.cursor.lastCellIndex(a),h=this.model.findCell(c,a);h?this.cursor.reset(h.rowIndex,h.colIndex):this.cursor.reset(a.index,c)}n=!0;break;case Jg.Enter:case Jg.F2:var f=a.groupItem;f?this.zone.run((function(){return t.groupsService.toggleRow(f.index,f.data)})):this.cursor.cell.detailExpandCell?this.zone.run((function(){return t.detailsService.toggleRow(a.dataRowIndex,a.dataItem)})):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(n=!0));break;default:e.ctrlKey||e.altKey||1!==(o=e.key).length||!o.match(/\S/)||this.enterCell()}n&&e.preventDefault()}}},{key:"onContentKeydown",value:function(e){if(this.onCellKeydown(e)){var t,n=!e.defaultPrevented&&e.keyCode===Jg.Enter&&(t=e.srcElement)&&TY(t)&&"text"===t.type.toLowerCase();e.keyCode===Jg.Escape||e.keyCode===Jg.F2||n?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):xY(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}}},{key:"onCellKeydown",value:function(e){if(this.editService.isEditingCell()){var t=e.keyCode===Jg.Enter,n=e.keyCode===Jg.Escape,i=xY(e.keyCode);if(t)this.editService.closeCell(e);else if(n)this.editService.cancelCell(),this.cd.detectChanges();else if(i)return!1}return this.cellKeydown.emit(e),!0}},{key:"onCursorChanges",value:function(e){this.activeRowIndex=e.rowIndex;var t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){var n=this.activeCell,i=this.model.cellRange(n),r=i.start,o=i.end;n||(this.virtualCell=!0),(!n&&0!==this.mode||n&&!this.columnViewport.intersects(r,o))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}},{key:"onFocusOut",value:function(e){this.mode=BZ(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}},{key:"onWindowBlur",value:function(){this.mode=0,this.deactivateElements(),this.cursor.announce()}},{key:"onKeydown",value:function(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}},{key:"onTabout",value:function(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}},{key:"metadata",set:function(e){this.meta=e,this.cursor.metadata=e},get:function(){return this.meta}},{key:"enabled",get:function(){return this.alive}},{key:"activeCell",get:function(){if(0!==this.mode)return this.cursor.cell}},{key:"activeRow",get:function(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}},{key:"activeDataRow",get:function(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(Xu),ct(JK),ct(_Z),ct(kY),ct(cZ),ct(lZ),ct(uY),ct(oZ),ct(oa),ct(Om),ct(pY,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),EY=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.dataRows=t,this.headerRows=n,this.isVirtual=i,this.hasPager=r,this.hasDetailTemplate=o,this.gridElement=a,this.virtualColumns=s,this.columns=l}return _createClass(e,[{key:"maxLogicalRowIndex",get:function(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}]),e}(),AY=0,DY=((NK=function(){function e(){_classCallCheck(this,e),this.prefix="k-grid"+AY++}return _createClass(e,[{key:"cellId",value:function(e,t){return"".concat(this.prefix,"-r").concat(e,"c").concat(t)}},{key:"selectionCheckboxId",value:function(e){return"".concat(this.prefix,"-checkbox").concat(e)}},{key:"selectAllCheckboxId",value:function(){return this.prefix+"-select-all"}}]),e}()).\u0275fac=function(e){return new(e||NK)},NK.\u0275prov=xe({token:NK,factory:NK.\u0275fac}),NK),RY=((zK=function(){function e(){_classCallCheck(this,e),this.visibilityChange=new lu,this.lockedChange=new lu,this.columnRangeChange=new lu,this.columnsContainer=new hZ((function(){return[]}))}return _createClass(e,[{key:"init",value:function(e,t){this.columnsContainer=e,this.list=t}},{key:"changeVisibility",value:function(e){this.visibilityChange.emit(e)}},{key:"changeLocked",value:function(e){this.lockedChange.emit(e)}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"totalLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"leafNamedColumns",get:function(){var e=$$(this.list().filterSort((function(e){return!e.isColumnGroup}))).filter((function(e){return e.matchesMedia&&e.displayTitle}));return pT(e,[{field:"locked",dir:"desc"}])}},{key:"unlockedRootCount",get:function(){return this.list().rootColumns().filter((function(e){return!e.locked&&e.isVisible})).length}}]),e}()).\u0275fac=function(e){return new(e||zK)},zK.\u0275prov=xe({token:zK,factory:zK.\u0275fac}),zK),MY=((PK=function(){function e(){_classCallCheck(this,e),this.changes=new j}return _createClass(e,[{key:"sort",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||PK)},PK.\u0275prov=xe({token:PK,factory:PK.\u0275fac}),PK),FY=function e(t){_classCallCheck(this,e),this.columns=t},PY=function e(t){_classCallCheck(this,e),this.columns=t};function zY(e,t){return"data"===t.type&&t.isEditing?t.data:e}var NY,LY=function(e,t,n,i){return e.changes.pipe(If((function(e){var t=e.dataItem;return k$(t)}))).subscribe((function(e){return e.expand?t.emit(i(e)):n.emit(i(e))}))},jY=function(e,t){return jZ(e,NZ("k-grid-edit-cell"))&&jZ(e,LZ("kendo-grid"))===t},VY={},BY=((NY=function(){function e(t,n,i,r,o,a,s,l,u,c,h,f,d,p,v,m,g,y,k,b,w,C,_,S){var x=this;_classCallCheck(this,e),this.supportService=t,this.selectionService=n,this.wrapper=i,this.groupInfoService=r,this.groupsService=o,this.changeNotification=a,this.detailsService=s,this.editService=l,this.filterService=u,this.pdfService=c,this.responsiveService=h,this.renderer=f,this.excelService=d,this.ngZone=p,this.scrollSyncService=v,this.domEvents=m,this.columnResizingService=g,this.changeDetectorRef=y,this.columnReorderService=k,this.columnInfoService=b,this.navigationService=w,this.sortService=C,this.scrollRequestService=_,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=zY,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new lu,this.pageChange=new lu,this.groupChange=new a$(this.ngZone),this.sortChange=new lu,this.selectionChange=new lu,this.dataStateChange=new lu,this.groupExpand=new lu,this.groupCollapse=new lu,this.detailExpand=new lu,this.detailCollapse=new lu,this.edit=new lu,this.cancel=new lu,this.save=new lu,this.remove=new lu,this.add=new lu,this.cellClose=new lu,this.cellClick=new a$(this.ngZone),this.pdfExport=new lu,this.excelExport=new lu,this.columnResize=new a$(this.ngZone),this.columnReorder=new lu,this.columnVisibilityChange=new lu,this.columnLockedChange=new lu,this.scrollBottom=new lu,this.contentScroll=new lu,this.columns=new cu,this.footer=new cu,this.selectionDirective=!1,this.columnsContainer=new hZ((function(){return x.columnList.filterHierarchy((function(e){return e.matchesMedia=x.matchesMedia(e),e.isVisible}))})),this.view=new QK((function(){return new YK(x.data,x.skip,x.hasGroupFooters)})),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this.rtl=!1,this._rowClass=function(){return null},this.localizationSubscription=S.changes.subscribe((function(e){var t=e.rtl;x.rtl=t,x.direction=x.rtl?"rtl":"ltr"})),this.groupInfoService.registerColumnsContainer((function(){return x.columnList})),this.columnInfoService.init(this.columnsContainer,(function(){return x.columnList})),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe((function(e){x.columnVisibilityChange.emit(new FY(e))})),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe((function(e){x.columnLockedChange.emit(new PY(e))})),n&&(this.selectionSubscription=n.changes.subscribe((function(e){x.ngZone.run((function(){return x.selectionChange.emit(e)}))}))),this.groupExpandCollapseSubscription=LY(o,this.groupExpand,this.groupCollapse,(function(e){return{group:e.dataItem,groupIndex:e.index}})),this.detailsServiceSubscription=LY(s,this.detailExpand,this.detailCollapse,(function(e){return e})),this.filterSubscription=this.filterService.changes.subscribe((function(e){x.filterChange.emit(e)})),this.sortSubscription=this.sortService.changes.subscribe((function(e){x.sortChange.emit(e)})),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new pZ(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}return _createClass(e,[{key:"expandRow",value:function(e){this.toggleDetailRowLegacy(e,!0)}},{key:"collapseRow",value:function(e){this.toggleDetailRowLegacy(e,!1)}},{key:"expandGroup",value:function(e){this.groupsService.isExpanded(e)||this.groupsService.toggleRow(e,null)}},{key:"collapseGroup",value:function(e){this.groupsService.isExpanded(e)&&this.groupsService.toggleRow(e,null)}},{key:"resetGroupsState",value:function(){this.groupsService.reset()}},{key:"expandGroupChildren",value:function(e){this.groupsService.expandChildren(e)}},{key:"onDataChange",value:function(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),k$(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}},{key:"ngOnChanges",value:function(e){var t=this;Fg("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&Pg(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),Pg(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),Fg("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),Fg("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",this.height+"px"),Fg("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(qf(1))),Pg(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),Fg("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(qf(1)).subscribe((function(){return t.attachScrollSync()}))}},{key:"ngAfterViewInit",value:function(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}},{key:"ngAfterContentChecked",value:function(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}},{key:"ngAfterContentInit",value:function(){var e=this;this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new pZ(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe((function(){return e.verifySettings()}))}},{key:"ngOnInit",value:function(){this.navigable&&this.navigationService.init(this.navigationMetadata())}},{key:"ngOnDestroy",value:function(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}},{key:"attachScrollSync",value:function(){var e=this;x$()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=S$(this.footer).subscribe((function(t){return t.map((function(e){return e.nativeElement})).filter(k$).forEach((function(t){return e.scrollSyncService.registerEmitter(t,"footer")}))}))))}},{key:"editRow",value:function(e,t,n){if(this.editService.editRow(e,t),!k$(n)||!n.skipFocus){var i='tr[data-kendo-grid-item-index="'.concat(e,'"]'),r=n&&n.columnIndex,o=isNaN(r)?i:"".concat(i,' td[data-kendo-grid-column-index="').concat(r,'"]');this.focusEditElement(o)}}},{key:"closeRow",value:function(e){this.editService.close(e)}},{key:"addRow",value:function(e){if(!(e instanceof ES)){var t=Object.keys(e).reduce((n=e,function(e,t){return e[t]=new IS(n[t]),e}),{});e=new ES(t)}var n;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}},{key:"editCell",value:function(e,t,n){var i=this.columnInstance(t);this.editService.editCell(e,i,n),this.focusEditElement(".k-grid-edit-cell")}},{key:"closeCell",value:function(){return!this.editService.closeCell()}},{key:"cancelCell",value:function(){this.editService.cancelCell()}},{key:"isEditing",value:function(){return this.editService.isEditing()}},{key:"isEditingCell",value:function(){return this.editService.isEditingCell()}},{key:"saveAsPDF",value:function(){this.pdfService.save(this)}},{key:"drawPDF",value:function(){var e=function(){var e,t,n=new Promise((function(i,r){e=function(e){return i(e),n},t=function(e){return r(e),n}}));return n.resolve=e,n.reject=t,n}();return this.pdfService.draw(this,e),e}},{key:"saveAsExcel",value:function(){this.excelService.save(this)}},{key:"autoFitColumn",value:function(e){this.columnResizingService.autoFit(e)}},{key:"autoFitColumns",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columns;t=n instanceof cu?n.toArray():n,(e=this.columnResizingService).autoFit.apply(e,_toConsumableArray(t))}},{key:"notifyPageChange",value:function(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}},{key:"notifyScrollBottom",value:function(){var e=this;"none"!==this.scrollable&&zg(this.scrollBottom)&&this.ngZone.run((function(){return e.scrollBottom.emit({sender:e})}))}},{key:"focusEditElement",value:function(e){var t=this;this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular((function(){t.focusElementSubscription=t.ngZone.onStable.asObservable().pipe(qf(1)).subscribe((function(){var n=t.wrapper.nativeElement;!t.setEditFocus(n.querySelector(e))&&t.isLocked&&t.setEditFocus(n.querySelector(".k-grid-content "+e)),t.focusElementSubscription=null}))}))}},{key:"focus",value:function(){return this.assertNavigable(),this.navigationService.focusCell()}},{key:"focusCell",value:function(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusNextCell(e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusPrevCell(e)}},{key:"scrollTo",value:function(e){this.scrollRequestService.scrollTo(e)}},{key:"reorderColumn",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{before:!1},i=this.columnsForLevel(e.level)[t];i&&(i.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(U$(i)&&!n.before&&(i=i.childColumns.last),this.reorder({before:n.before,source:e,target:i})))}},{key:"reorder",value:function(e){var t=this,n=e.target,i=e.source,r=e.before,o=e.changeContainer;this.ngZone.run((function(){var e=t.columnsForLevel(i.level),a=e.indexOf(n);n.parent&&n.parent.isSpanColumn&&(a=e.indexOf(n.parent),r&&(n=n.parent));var s=e.indexOf(i);o&&(r&&0<a&&s<a?a--:!r&&s>a&&a++);var l=new lY({column:i,oldIndex:s,newIndex:a});t.columnReorder.emit(l),l.isDefaultPrevented()||(o&&t.columnLockedChange.emit(new PY([i])),t.updateColumnIndices({source:i,target:n,before:r}),i.locked!==n.locked&&(i.locked=n.locked),t.columnsContainer.refresh(),t.changeDetectorRef.markForCheck())}))}},{key:"updateColumnIndices",value:function(e){var t=e.source,n=e.target,i=e.before,r=K$(this.columnsForLevel(t.level)),o=r.indexOf(t),a=0,s=0,l=1;t.isSpanColumn&&(l+=t.childColumns.length);for(var u=0;u<r.length;){var c=r[u];if(c===n)a=i?s:s+1,s=i?s+l:s,c.orderIndex=s,a===s+1&&(s+=l);else{if(c===t){u+=l;continue}c.orderIndex=s}s++,u++}for(u=o;u<o+l;u++)r[u].orderIndex=a++;this.updateIndicesForLevel(t.level+1)}},{key:"updateIndicesForLevel",value:function(e){var t=this.columnsForLevel(e-1),n=[];nK(t).forEach((function(e){e.isColumnGroup&&n.push.apply(n,_toConsumableArray(e.childrenArray.sort((function(e,t){return e.orderIndex-t.orderIndex}))))})),K$(n).map((function(e,t){return e.orderIndex=t})),e<this.columnsContainer.totalLevels&&this.updateIndicesForLevel(e+1)}},{key:"columnsForLevel",value:function(e){return this.columnsContainer.allColumns.filter((function(t){return t.level===e}))}},{key:"initSelectionService",value:function(){this.selectionDirective||k$(this.defaultSelection)||(this.defaultSelection=new tZ(this,this.changeDetectorRef)),this.selectionService.init({rowSelected:this.rowSelected,selectable:this.selectable,view:this.view}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset()}},{key:"setEditFocus",value:function(e){if(e)return this.navigationService.tryFocus(e)}},{key:"columnInstance",value:function(e){var t;if(!(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter((function(t){return t.field===e}))[0]:e)&&Ni())throw new Error("Invalid column "+e);return t}},{key:"verifySettings",value:function(){if(Ni()){var e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&$$(this.columnList.toArray()).filter((function(e){return!e.width&&!rK(e)})).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(rK).filter((function(e){return!e.hasChildren})).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter((function(e){return e.locked&&e.parent&&!e.parent.isLocked})).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");$$(this.columnList.toArray()).filter(B$).filter((function(e){var t,n=e.field;return!(!_$(t=n)&&X$.test(t)&&"."!==t[0]&&"."!==t[t.length-1])})).forEach((function(e){var t=e.field;return console.warn("\n                Grid column field name '".concat(t,'\' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            '))}))}}},{key:"autoGenerateColumns",value:function(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map((function(e){var t=new G$;return t.field=e,t})))}},{key:"attachStateChangesEmitter",value:function(){var e=this;this.stateChangeSubscription=se(this.pageChange.pipe(Q((function(t){return{filter:e.filter,group:e.group,skip:t.skip,sort:e.sort,take:t.take}}))),this.sortChange.pipe(Q((function(t){return{filter:e.filter,group:e.group,skip:e.skip,sort:t,take:e.pageSize}}))),this.groupChange.pipe(Q((function(t){return{filter:e.filter,group:t,skip:e.skip,sort:e.sort,take:e.pageSize}}))),this.filterChange.pipe(Q((function(t){return{filter:t,group:e.group,skip:0,sort:e.sort,take:e.pageSize}})))).subscribe((function(t){e.closeCell(),e.cancelCell(),e.dataStateChange.emit(t)}))}},{key:"attachEditHandlers",value:function(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}},{key:"emitCRUDEvent",value:function(e){var t=e.action,n=e.rowIndex,i=e.formGroup,r=this.view.at(n-this.skip);switch("add"===t||r||(r=i.value),this.closeCell(),Object.assign(e,{dataItem:r,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}},{key:"attachDomEventHandlers",value:function(){var e=this;this.cellClickSubscription=this.domEvents.cellClick.subscribe((function(t){e.cellClick.emit(Object.assign({sender:e},t))}))}},{key:"attachElementEventHandlers",value:function(){var e=this;if(!x$()){var t=this.wrapper.nativeElement,n=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular((function(){var i=e.resizeCheck.bind(e),r=e.renderer.listen("window","resize",i),o=e.renderer.listen("window","orientationchange",i),a=e.renderer.listen("document","click",(function(t){var n=document.activeElement;!e.editService.shouldCloseCell()||jZ(t.target,NZ("k-animation-container k-grid-ignore-click"))||n&&(jZ(n,NZ("k-animation-container"))||jY(n,e.wrapper.nativeElement))||e.editService.closeCell(t)})),s=e.renderer.listen("window","blur",(function(t){var n=document.activeElement;!n||LZ("input")(n)&&"file"===n.type&&jY(n,e.wrapper.nativeElement)||e.editService.closeCell(t),e.domEvents.windowBlur.emit(t)})),l=e.renderer.listen(t,"click",(function(t){e.domEvents.click.emit(t)})),u=e.renderer.listen(t,"keydown",(function(t){e.domEvents.keydown.emit(t)})),c=!1,h=e.renderer.listen(n,"focusin",(function(t){e.domEvents.focus.emit(t),c||(e.domEvents.focusIn.emit(t),c=!0)})),f=e.renderer.listen(n,"focusout",(function(t){var i=t.relatedTarget||document.activeElement;!jZ(i,(function(e){return e===n}))&&(e.domEvents.focusOut.emit(t),c=!1)}));e.detachElementEventHandlers=function(){r(),o(),a(),s(),l(),u(),h(),f()}}))}}},{key:"matchesMedia",value:function(e){return this.responsiveService.matchesMedia(e.media)}},{key:"resizeCheck",value:function(){var e=this;if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;var t=!1;this.columnList.filterHierarchy((function(n){var i=e.matchesMedia(n);return n.matchesMedia!==i&&(t=!0,n.matchesMedia=i),n.isVisible})),t&&this.ngZone.run((function(){e.changeDetectorRef.markForCheck()}))}}},{key:"emitPDFExportEvent",value:function(){var e=new xZ;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}},{key:"syncHeaderHeight",value:function(e){var t=this;return e.pipe(If((function(){return k$(t.lockedHeader)}))).subscribe((function(){return kZ(t.lockedHeader.nativeElement.children[0],t.header.nativeElement.children[0])}))}},{key:"columnsContainerChange",value:function(){var e=this;this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(If((function(){return e.lockedColumns.length>0})),Jf((function(){return e.ngZone.onStable.asObservable().pipe(qf(1))}))))}},{key:"handleColumnResize",value:function(){var e=this,t=this.columnResizingService.changes;this.columnResizingSubscription=t.pipe(sd((function(t){"start"===t.type?e.renderer.addClass(e.wrapper.nativeElement,"k-grid-column-resizing"):"end"===t.type&&e.renderer.removeClass(e.wrapper.nativeElement,"k-grid-column-resizing")})),If((function(e){return"start"===e.type})),Jf((function(){return t.pipe(Fy(t.pipe(If((function(e){return"triggerAutoFit"===e.type})))),If((function(e){return"end"===e.type})))}))).subscribe(this.notifyResize.bind(this))}},{key:"notifyResize",value:function(e){var t=e.resizedColumns.filter((function(e){return C$(e.column.resizable)&&!e.column.isColumnGroup})).map((function(e){return{column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}}));this.columnResize.emit(t)}},{key:"assertNavigable",value:function(){if(Ni()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}},{key:"navigationMetadata",value:function(){var e=this.isVirtual,t=e?this.view.total:this.pageSize,n=this.editService.hasNewItem?1:0,i=KZ(this.filterable)?1:0;return new EY(t,this.totalColumnLevels+1+i+n,e,this.showPager,k$(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}},{key:"updateNavigationMetadata",value:function(){this.navigationService.metadata=this.navigationMetadata()}},{key:"applyAutoSize",value:function(){var e=this,t=this.columns.filter((function(t){return e.autoSize?!1!==t.autoSize:t.autoSize}));t.length>0&&this.ngZone.onStable.pipe(qf(1)).subscribe((function(n){return e.autoFitColumns(t)}))}},{key:"onColumnRangeChange",value:function(e){for(var t=this.viewportColumns=[],n=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1),i=0;i<n.length;i++){for(var r=n[i];r.parent;)r=r.parent;for(var o=[r];o.length;)r=o.shift(),t.push(r),r.isColumnGroup&&o.unshift.apply(o,r.childrenArray);var a=t[t.length-1];for(r=n[i];r!==a&&i<n.length;)r=n[++i]}if(e.start>0){for(var s=n[0],l=e.offset,u=t[0],c=0;u!==s;)l-=u.isColumnGroup?0:u.width,u=t[++c];if(l>0)for(var h,f=this.columnsContainer.totalLevels,d=0;d<=f;d++){var p=d<f?new LK(h):new g$(h);h=p,p.title="\xa0",p.width=l,t.unshift(p)}}this.leafViewportColumns=t.filter((function(e){return!e.isColumnGroup}))}},{key:"toggleDetailRowLegacy",value:function(e,t){var n="function"==typeof this.isDetailExpanded;if(Ni()&&n)throw new Error("The expandRow and collapseRow methods should not be called when using the kendoGridDetailsExpandBy directive or the isDetailExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Ni()&&n||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}},{key:"skip",get:function(){return this._skip},set:function(e){e>=0&&(this._skip=e)}},{key:"sort",set:function(e){w$(e)&&(this._sort=e)},get:function(){return this._sort}},{key:"group",set:function(e){w$(e)&&(this._group=e)},get:function(){return this._group}},{key:"showTopToolbar",get:function(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"showBottomToolbar",get:function(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"showPager",get:function(){return!this.isVirtual&&!1!==this.pageable}},{key:"showGroupPanel",get:function(){return this.groupable&&!1!==this.groupable.enabled}},{key:"groupableEmptyText",get:function(){return this.groupable.emptyText}},{key:"navigatable",set:function(e){this.navigable=e},get:function(){return this.navigable}},{key:"rowClass",set:function(e){if("function"!=typeof e)throw new Error("rowClass must be a function, but received ".concat(JSON.stringify(e),"."));this._rowClass=e},get:function(){return this._rowClass}},{key:"rowSelected",set:function(e){if("function"!=typeof e)throw new Error("rowSelected must be a function, but received ".concat(JSON.stringify(e),"."));this._rowSelected=e},get:function(){return this._rowSelected}},{key:"activeCell",get:function(){return this.navigationService.activeCell}},{key:"activeRow",get:function(){return this.navigationService.activeRow}},{key:"dir",get:function(){return this.direction}},{key:"hostClasses",get:function(){return!0}},{key:"lockedClasses",get:function(){return this.lockedLeafColumns.length>0}},{key:"virtualClasses",get:function(){return this.isVirtual}},{key:"noScrollbarClass",get:function(){return 0===this.scrollbarWidth}},{key:"detailTemplate",get:function(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0},set:function(e){this._customDetailTemplate=e}},{key:"noRecordsTemplate",get:function(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0},set:function(e){this._customNoRecordsTemplate=e}},{key:"pagerTemplate",get:function(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0},set:function(e){this._customPagerTemplate=e}},{key:"toolbarTemplate",get:function(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0},set:function(e){this._customToolbarTemplate=e}},{key:"scrollbarWidth",get:function(){return this.supportService.scrollbarWidth}},{key:"headerPadding",get:function(){if(x$())return"";var e=Math.max(0,this.scrollbarWidth-1)+"px";return"0 ".concat(this.rtl?0:e," 0 ").concat(this.rtl?e:0)}},{key:"hasGroupFooters",get:function(){return this.columnsContainer.hasGroupFooter}},{key:"showFooter",get:function(){return this.columnsContainer.hasFooter}},{key:"showGroupFooters",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"ariaRowCount",get:function(){return this.totalColumnLevels+1+this.view.total}},{key:"ariaColCount",get:function(){return this.columnsContainer.leafColumnsToRender.length}},{key:"isVirtual",get:function(){return"virtual"===this.scrollable}},{key:"isScrollable",get:function(){return"none"!==this.scrollable}},{key:"visibleColumns",get:function(){return this.columnsContainer.allColumns}},{key:"lockedColumns",get:function(){return this.columnsContainer.lockedColumns}},{key:"nonLockedColumns",get:function(){return this.columnsContainer.nonLockedColumns}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columnsContainer.leafColumns}},{key:"totalColumnLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"headerColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}},{key:"headerLeafColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}},{key:"lockedWidth",get:function(){var e=32*this.group.length;return $$(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((function(e,t){return e+(t.width||0)}),0):this.columnsContainer.unlockedWidth}},{key:"selectableSettings",get:function(){if(this.selectionService)return this.selectionService.options}},{key:"columnMenuTemplate",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"totalCount",get:function(){return this.isVirtual||!k$(this.pageSize)?this.view.total:this.pageSize}},{key:"isDetailExpanded",set:function(e){this.detailsService.userCallback=e},get:function(){return this.detailsService.userCallback}}]),e}()).\u0275fac=function(e){return new(e||NY)(Ga(GK),Ga(eZ),Ga(rl),Ga(vZ),Ga(cZ),Ga(mZ),Ga(lZ),Ga(oZ),Ga(wZ),Ga(SZ),Ga(IZ),Ga(ll),Ga(EZ),Ga(Xu),Ga(DZ),Ga(JK),Ga($Z),Ga(oa),Ga(sY),Ga(RY),Ga(IY),Ga(MY),Ga(kY),Ga(Om))},NY.\u0275cmp=At({type:NY,selectors:[["kendo-grid"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,g$,!1),_u(n,jK,!1),_u(n,gZ,!1),_u(n,CZ,!1),_u(n,AZ,!1),_u(n,p$,!1)),2&e&&(ku(i=Tu())&&(t.columns=i),ku(i=Tu())&&(t.detailTemplateChildren=i),ku(i=Tu())&&(t.noRecordsTemplateChildren=i),ku(i=Tu())&&(t.pagerTemplateChildren=i),ku(i=Tu())&&(t.toolbarTemplateChildren=i),ku(i=Tu())&&(t.columnMenuTemplates=i))},viewQuery:function(e,t){var n;1&e&&(wu(dG,!0),wu(pG,!0),wu(vG,!0),wu(mG,!0)),2&e&&(ku(n=Tu())&&(t.lockedHeader=n.first),ku(n=Tu())&&(t.header=n.first),ku(n=Tu())&&(t.ariaRoot=n.first),ku(n=Tu())&&(t.footer=n))},hostVars:11,hostBindings:function(e,t){2&e&&(ja("dir",t.dir),ys("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSelected:"rowSelected",isDetailExpanded:"isDetailExpanded",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[el([GK,Om,RY,eZ,lZ,cZ,vZ,mZ,oZ,SZ,TZ,{provide:bZ,useValue:VY},{provide:Tm,useValue:"kendo.grid"},wZ,IZ,_Z,EZ,DZ,RZ,XK,JK,$Z,YZ,nY,oY,aY,sY,IY,uY,DY,kY,MY]),Us],decls:10,vars:8,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columnMenu","columns","lock","unlock","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse"],["position","top",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"template","pageSize","total","skip","options","pageChange",4,"ngIf"],["position","bottom",4,"ngIf"],["position","top"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],[3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","loading","isVirtual","virtualColumns","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],[3,"locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate",4,"ngIf"],["kendoGridTableBody","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate"],["kendoGridLoading",""],[3,"template","pageSize","total","skip","options","pageChange"],["position","bottom"]],template:function(e,t){1&e&&(Qa(0,0),ql(1,gG),Ja(),Ba(2,yG,1,0,"kendo-grid-toolbar",1),Ba(3,kG,1,2,"kendo-grid-group-panel",2),Ka(4,"div",3,4),Ba(6,TG,3,20,"ng-template",5),Ba(7,AG,6,19,"ng-template",5),Za(),Ba(8,DG,1,5,"kendo-pager",6),Ba(9,RG,1,0,"kendo-grid-toolbar",7)),2&e&&(Dr(2),qa("ngIf",t.showTopToolbar),Dr(1),qa("ngIf",t.showGroupPanel),Dr(1),ja("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),Dr(2),qa("ngIf",t.isScrollable),Dr(1),qa("ngIf",!t.isScrollable),Dr(1),qa("ngIf",t.showPager),Dr(1),qa("ngIf",t.showBottomToolbar))},directives:function(){return[tX,fh,z1,w0,JJ,NX,QX,PX,j0,M1,S1,zX,a0]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),NY),HY=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var r=0,o=0;o<t;o++)this.offsets.push(r),r+=n,this.heights.push(n)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"isExpanded",value:function(e){return this.height(e)>this.rowHeight}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t))}}]),e}(),GY=function e(t){_classCallCheck(this,e),this.offset=t},UY=function e(t,n){_classCallCheck(this,e),this.skip=t,this.take=n},WY=function e(){_classCallCheck(this,e)},qY=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0}return _createClass(e,[{key:"create",value:function(e,t,n,i){var r=this;this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScrollTop=0;var o=new yf(new GY(this.rowHeightService.offset(t)));return this.subscription=M.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return o.next(e)})),o}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollTop,i=e.offsetHeight,r=e.scrollHeight,o=e.clientHeight;if(this.lastScrollTop!==n){var a=this.lastScrollTop>=n;this.lastScrollTop=n;var s=this.rowHeightService.index(n),l=this.rowHeightService.offset(s),u=this.rowHeightService.index(n+i);if(!a)if(u>=this.lastLoaded&&this.lastLoaded<this.total){var c=s+this.take-this.total;c>0&&(s-=c,l=this.rowHeightService.offset(s)),this.firstLoaded=s,t.next(new GY(l));var h=this.firstLoaded+this.take;this.lastLoaded=Math.min(h,this.total),h=h>this.total?this.total-this.firstLoaded:this.take,t.next(new UY(this.firstLoaded,this.take))}else r-o-n<1&&t.next(new WY);if(a&&s<this.firstLoaded){var f=Math.floor(.3*this.take);this.firstLoaded=Math.max(s-f,0),t.next(new GY(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new UY(this.firstLoaded,this.take))}}}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}]),e}(),$Y=function(e,t,n){for(var i=0,r=0;i<t.length;i++){var o=n(t[i]);if(r<=e&&e<=r+o-1)return t[i];r+=o}},KY=function(e,t){return $Y(e,t,(function(e){return e.hasAttribute("data-kendo-grid-item-index")?1:0}))},ZY={},YY=new tt("grid-scroll-service-factory");function QY(e){return new qY(e)}var JY,XY,eQ,tQ,nQ,iQ,rQ,oQ,aQ,sQ,lQ,uQ,cQ,hQ,fQ,dQ,pQ,vQ,mQ,gQ,yQ,kQ,bQ,wQ,CQ,_Q,SQ,xQ,TQ,OQ,IQ,EQ,AQ,DQ,RQ,MQ,FQ,PQ,zQ,NQ,LQ,jQ,VQ,BQ,HQ,GQ,UQ,WQ,qQ,$Q,KQ,ZQ,YQ,QQ,JQ,XQ,eJ,tJ,nJ,iJ,rJ,oJ,aJ,sJ,lJ,uJ,cJ,hJ,fJ,dJ,pJ,vJ,mJ,gJ,yJ,kJ,bJ,wJ,CJ,_J,SJ,xJ,TJ,OJ,IJ,EJ,AJ,DJ,RJ,MJ,FJ,PJ,zJ,NJ,LJ,jJ,VJ,BJ,HJ,GJ,UJ,WJ,qJ,$J,KJ,ZJ,YJ=function(e){var t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},QJ=function(e){return e?e.nativeElement:null},JJ=function(){var e=function(){function e(t,n,i,r,o,a,s,l,u,c,h,f,d,p,v,m,g,y){var k=this;_classCallCheck(this,e),this.changeNotification=i,this.suspendService=r,this.groupsService=o,this.ngZone=a,this.renderer=s,this.scrollSyncService=l,this.resizeService=u,this.editService=c,this.supportService=h,this.navigationService=f,this.localization=p,this.columnResizingService=v,this.changeDetector=m,this.pdfService=g,this.columnInfo=y,this.groups=[],this.skip=0,this.columns=new hZ((function(){return[]})),this.selectable=!1,this.groupable=!1,this.trackBy=zY,this.contentScroll=new lu,this.pageChange=new lu,this.scrollBottom=new lu,this.columnsStartIdx=0,this.resizeSensors=new cu,this.dispatcher=new j,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=t(this.dispatcher),this.subscriptions=n.changes.subscribe((function(e){return k.detailExpand(e)})).add(d.requests.subscribe((function(e){return k.scrollTo(e)})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(se(this.columns.changes,this.resizeService.changes).subscribe((function(){e.virtualColumns&&e.ngZone.run((function(){e.updateViewportColumns(),e.changeDetector.markForCheck()}))}))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;return e.rtl=n})))}},{key:"ngOnChanges",value:function(e){Fg("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Pg(["total","take"],e)&&this.init(),this.rebind=!1}},{key:"ngDoCheck",value:function(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}},{key:"ngAfterViewInit",value:function(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}},{key:"ngAfterViewChecked",value:function(){var e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}},{key:"syncRowsHeight",value:function(){this.lockedContainer&&kZ(this.lockedTable.nativeElement,this.table.nativeElement)}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}},{key:"init",value:function(){this.suspendService.scroll||(this.rowHeightService=new HY(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),x$()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}},{key:"lockedScroll",value:function(){if(!this.suspendService.scroll){var e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}},{key:"lockedMousewheel",value:function(e){if(!e.ctrlKey){!function(e,t){var n=YJ(e),i=t.scrollTop;0===i&&0<n||t.scrollHeight<=t.offsetHeight+i&&n<0||event.preventDefault()}(e,this.container.nativeElement);var t=YJ(e);this.container.nativeElement.scrollTop-=t}}},{key:"lockedKeydown",value:function(e){if(e.keyCode===Jg.PageDown||e.keyCode===Jg.PageUp){var t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===Jg.PageDown?1:-1)*.8,e.preventDefault()}}},{key:"detailExpand",value:function(e){var t=e.index;e.expand?this.rowHeightService.expandDetail(t):this.rowHeightService.collapseDetail(t),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}},{key:"attachContainerScroll",value:function(){var e=this;x$()||(this.ngZone.runOutsideAngular((function(){e.subscriptions.add(xg(e.container.nativeElement,"scroll").pipe(Q((function(e){return e.target})),If((function(){return!e.suspendService.scroll})),sd((function(t){e.onContainerScroll(t),e.resetNavigationViewport(),e.virtualColumns&&e.handleColumnScroll();var n=e.navigationService.viewport||ZY,i=e.navigationService.columnViewport||ZY;e.contentScroll.emit({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,startRow:n.firstItemIndex,endRow:n.lastItemIndex,startColumn:i.firstItemIndex,endColumn:i.lastItemIndex})}))).subscribe(e.dispatcher))})),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}},{key:"createScroller",value:function(){var e=this;this.cleanupScroller();var t=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=t.pipe(If((function(e){return e instanceof UY})),If((function(){var t=e.skipScroll;return e.skipScroll=!1,!t})),sd((function(){return e.rebind=!0}))).subscribe((function(t){return e.ngZone.run((function(){return e.pageChange.emit(t)}))})),this.scrollerSubscription.add(t.pipe(If((function(e){return e instanceof GY}))).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(t.pipe(If((function(e){return e instanceof WY}))).subscribe((function(){return e.scrollBottom.emit()})))}},{key:"scroll",value:function(e){var t,n,i=e.offset,r=void 0===i?0:i;this.isVirtual&&[QJ(this.table),QJ(this.lockedTable)].filter(k$).forEach((t=this.renderer,n=r,function(e){return t.setStyle(e,"transform","translateY(".concat(n,"px)"))})),this.resetNavigationViewport()}},{key:"onContainerScroll",value:function(e){var t=e.scrollTop;this.containerScrollTop=t,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=t)}},{key:"handleRowSync",value:function(){var e=this,t=function(){return k$(e.lockedContainer)};return se(this.changeNotification.changes,this.groupsService.changes.pipe(If(t),hx(e.ngZone.onStable.asObservable().pipe(qf(1)))),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(If((function(e){return"end"===e.type}))),this.supportService.changes).pipe(sd((function(){return e.resetNavigationViewport()})),If(t)).subscribe((function(){var t=e.container.nativeElement.scrollTop,n=e.container.nativeElement.scrollLeft;e.syncRowsHeight(),e.syncContainerHeight(),e.lockedContainer.nativeElement.scrollTop=e.container.nativeElement.scrollTop=t,e.container.nativeElement.scrollLeft=n,e.resizeSensors.forEach((function(e){return e.acceptSize()}))}))}},{key:"handleRowNavigationLocked",value:function(){var e=this;return this.navigationService.changes.pipe(If((function(){return k$(e.lockedContainer)})),px(10)).subscribe((function(t){if(e.lockedLeafColumns.length<=t.prevColIndex&&t.colIndex<e.lockedLeafColumns.length){var n=e.navigationService.activeCell;n&&n.colIndex+n.colSpan<t.prevColIndex&&(e.container.nativeElement.scrollLeft=0)}}))}},{key:"scrollToVirtualRow",value:function(e){k$(this.detailTemplate)&&(e=Math.floor(e/2));var t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}},{key:"scrollTo",value:function(e){var t=e.row,n=e.column;if(O$(t))if(this.isVirtual)this.scrollToVirtualRow(t);else{var i=KY(t,this.table.nativeElement.rows);i&&(this.container.nativeElement.scrollTop=i.offsetTop)}if(O$(n))if(n-=this.lockedLeafColumns.length,this.virtualColumns){for(var r=this.columns.leafColumnsToRender,o=0,a=0;a<n;a++)o+=r[a].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(o+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&n>0?32:0)))}else if(0===n&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{var s=KY(0,this.table.nativeElement.rows);if(s){var l=$Y(n,s.cells,(function(e){return zZ(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1}));l&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(l))}}}},{key:"resetNavigationViewport",value:function(){if(this.container&&this.navigationService.enabled&&this.navigationService.needsViewport()&&0!==this.data.length){var e=this.container.nativeElement,t=e.scrollTop,n=t+e.offsetHeight,i=this.rowHeightService.index(t),r=this.rowHeightService.index(n),o=this.rowHeightService.offset(r);r>0&&o+this.rowHeight>n&&r--;var a=i,s=r;if(k$(this.detailTemplate)){a*=2,s*=2,this.rowHeightService.offset(i)+this.rowHeight<t&&a++;var l=o+this.rowHeightService.height(r)>n;this.rowHeightService.isExpanded(r)&&!l&&s++}this.navigationService.setViewport(a,s)}}},{key:"cleanupScroller",value:function(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}},{key:"initResizeService",value:function(){this.resizeService.connect(se.apply(void 0,_toConsumableArray(this.resizeSensors.map((function(e){return e.resize})))))}},{key:"syncContainerHeight",value:function(){var e,t=this;[QJ(this.lockedContainer)].filter(k$).map((function(e){e.style.height="";var n=t.container.nativeElement.offsetHeight;return t.table.nativeElement.offsetWidth>t.container.nativeElement.clientWidth&&(n-=t.supportService.scrollbarWidth),{el:e,height:n}})).forEach((e=this.renderer,function(t){var n=t.el,i=t.height;return e.setStyle(n,"height",i+"px")}))}},{key:"updateViewportColumns",value:function(e){var t=this.columns.nonLockedLeafColumns.toArray(),n=e||this.calculateViewportColumns(),i=n.startIdx,r=n.endIdx,o=n.offset,a=Math.max(0,i-1),s=Math.min(r+1,t.length-1);if(a<i)for(var l=i-1;l>=a;l--)o-=t[l].width;var u=t.slice(a,s+1);if(this.viewportColumnsWidth=u.reduce((function(e,t){return e+t.width}),0),a>0){var c=new g$;c.width=o,u.unshift(c)}this.viewportColumns=new cu,this.viewportColumns.reset(u),this.columnsStartIdx=a,this.columnsEndIdx=s,this.columnInfo.columnRangeChange.emit({start:a,end:s,offset:o}),e||this.updateColumnViewport(i,r)}},{key:"handleColumnScroll",value:function(){var e=this,t=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==t){this.scrollLeft=t;var n=this.calculateViewportColumns();this.updateColumnViewport(n.startIdx,n.endIdx),(n.startIdx<this.columnsStartIdx||this.columnsEndIdx<n.endIdx)&&(L$(this.columnUpdateFrame),this.columnUpdateFrame=N$((function(){e.ngZone.run((function(){e.updateViewportColumns(n),e.changeDetector.markForCheck()}))})))}}},{key:"updateColumnViewport",value:function(e,t){for(var n=this.lockedLeafColumns.length,i=this.nonLockedLeafColumns.toArray(),r=n+e+(this.detailTemplate&&e>0?1:0),o=n+t+(this.detailTemplate?1:0),a=0;a<i.length;a++){var s=i[a];s.isSpanColumn&&(o+=s.childColumns.length)}this.navigationService.setColumnViewport(r,o)}},{key:"calculateViewportColumns",value:function(){var e,t,n=this.container.nativeElement,i=n.scrollLeft,r=n.clientWidth,o=this.columns.nonLockedLeafColumns.toArray(),a=this.normalizeScrollLeft(i),s=a+r,l=0,u=0,c=0;for(t=0;t<o.length;t++){var h=o[t];if(u+=h.width||0,void 0===e&&u>a&&(e=t,c=u-(h.width||0)),u>=s){l=t;break}}return!l&&t>0&&(l=o.length-1),{startIdx:e,endIdx:l,offset:c}}},{key:"viewportWidthChange",value:function(){return this.viewportColumns.toArray().reduce((function(e,t){return e+t.width}),0)!==this.viewportColumnsWidth}},{key:"normalizeScrollLeft",value:function(e){return this.rtl?function(e,t,n){var i=e;return n<0?i=-e:n>0&&(i=t.scrollWidth-t.offsetWidth-e),i}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}},{key:"elementScrollLeft",value:function(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}},{key:"hostClass",get:function(){return!0}},{key:"hostRole",get:function(){return"presentation"}},{key:"showFooter",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"totalWidth",get:function(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}},{key:"lockedLeafColumns",get:function(){return this.columns.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columns.nonLockedLeafColumns}},{key:"nonLockedColumnsToRender",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columns.leafColumnsToRender}},{key:"lockedWidth",get:function(){var e=32*this.groups.length;return $$(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return Q$($$(this.nonLockedColumnsToRender.toArray()))}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ga(YY),Ga(lZ),Ga(mZ),Ga(TZ),Ga(cZ),Ga(Xu),Ga(ll),Ga(DZ),Ga(RZ),Ga(oZ),Ga(GK),Ga(IY),Ga(kY),Ga(Om),Ga($Z),Ga(oa),Ga(SZ),Ga(RY))},e.\u0275cmp=At({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var n;1&e&&(bu(MG,!0),wu(FG,!0),wu(PG,!0),wu(zG,!0),wu(Zg,!0)),2&e&&(ku(n=Tu())&&(t.container=n.first),ku(n=Tu())&&(t.lockedContainer=n.first),ku(n=Tu())&&(t.lockedTable=n.first),ku(n=Tu())&&(t.table=n.first),ku(n=Tu())&&(t.resizeSensors=n))},hostVars:3,hostBindings:function(e,t){2&e&&(ja("role",t.hostRole),ys("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[el([{provide:YY,useValue:QY}]),Us],decls:14,vars:32,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(Ba(0,LG,10,30,"div",0),Ka(1,"div",1,2),Ka(3,"div",3),Ka(4,"table",4,5),Ya(6,"colgroup",6),Ya(7,"tbody",7),Za(),Ba(8,jG,1,0,"kendo-resize-sensor",8),Za(),Ba(9,VG,1,0,"kendo-resize-sensor",8),Ka(10,"div",9),Ya(11,"div"),Za(),Ba(12,BG,2,2,"div",10),Za(),Ba(13,HG,1,0,"div",11)),2&e&&(qa("ngIf",t.isLocked),Dr(1),qa("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),Dr(3),gs("width",t.nonLockedWidth,"px"),qa("virtualColumns",t.virtualColumns),Dr(2),qa("groups",t.isLocked?Ql(31,CG):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),Dr(1),qa("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("virtualColumns",t.virtualColumns),Dr(1),qa("ngIf",t.isLocked),Dr(1),qa("ngIf",t.isLocked||t.virtualColumns),Dr(2),gs("height",t.totalHeight,"px"),Dr(1),qa("ngIf",t.virtualColumns),Dr(1),qa("ngIf",t.loading))},directives:function(){return[fh,NX,QX,PX,S1,Vg,Zg,zX]},encapsulation:2}),e}(),XJ=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm);return e.\u0275fac=function(t){return eX(t||e)},e.\u0275dir=zt({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",filter:"filter",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",columns:"columns",lock:"lock",unlock:"unlock",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse"},features:[Ls]}),e}(),eX=wi(XJ),tX=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(XJ);return e.\u0275fac=function(t){return new(t||e)(Ga(Om))},e.\u0275dir=zt({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[el([{provide:XJ,useExisting:je((function(){return e}))}]),Ls]}),e}(),nX=(JY=function e(t){_classCallCheck(this,e),this.localization=t,this.columns=[],this.groups=[],this.filterRowClass=!0,this.filterLabel=this.localization.get("filter")},JY.\u0275fac=function(e){return new(e||JY)(Ga(Om))},JY.\u0275cmp=At({type:JY,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:GG,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Ba(0,UG,1,2,"td",0),Ba(1,WG,1,2,"td",1),Ba(2,qG,1,5,"td",2)),2&e&&(qa("ngForOf",t.groups),Dr(1),qa("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),Dr(1),qa("ngForOf",t.columns))},directives:function(){return[ch,fh,rX,BX]},encapsulation:2}),JY),iX=function e(t){if(t)return Tx(t)?{filters:e(t.filters),logic:t.logic}:Array.isArray(t)?t.map(e):function(e){return function(e){var t={};if(Object.assign(t,e),e.constructor!==Object){var n=e.constructor.prototype;Object.getOwnPropertyNames(n).forEach((function(i){"constructor"!==i&&n.hasOwnProperty(i)&&(t[i]=e[i])}))}return t}(e)}(t)},rX=(XY=function(){function e(){_classCallCheck(this,e),this._templateContext={}}return _createClass(e,[{key:"filter",get:function(){return this._filter},set:function(e){this._filter=iX(e)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}},{key:"hasTemplate",get:function(){return k$(this.column.filterCellTemplateRef)}},{key:"isFilterable",get:function(){return k$(this.column)&&!_$(this.column.field)&&this.column.filterable}}]),e}(),XY.\u0275fac=function(e){return new(e||XY)},XY.\u0275cmp=At({type:XY,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:$G,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ba(0,JG,3,3,"ng-template",0),2&e&&qa("ngIf",t.isFilterable)},directives:function(){return[fh,Oh,Ih,i0,Dh]},encapsulation:2}),XY),oX=(eQ={filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"},function(e){return Object.keys(eQ).reduce((function(t,n){return t[eQ[n]]=e.get(n),t}),{})}),aX=function(e){return e.map((function(e){return e.toJSON()}))},sX=(tQ=function(){function e(t,n){_classCallCheck(this,e),this.operator=t,this.localization=n,this.messages=oX(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}return _createClass(e,[{key:"toJSON",value:function(){return{text:this.text,value:this.operator}}},{key:"refreshText",value:function(){var e=this._text===this.messages[this.operator];this.messages=oX(this.localization),e&&(this._text=this.messages[this.operator])}},{key:"text",get:function(){return this._text},set:function(e){this._text=_$(e)?this.messages[this.operator]:e}}]),e}(),tQ.\u0275fac=function(e){Wa()},tQ.\u0275dir=zt({type:tQ,inputs:{text:"text"}}),tQ),lX=function(e,t,n,i){return k$(t)&&k$(t.filters)&&t.filters.length>e?t.filters[e]:function(e,t,n){return(t=t||{filters:[],logic:"and"}).filters[e]=n,n}(e,t,{field:n,operator:i})},uX=function(e){return[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}]},cX=function e(t){return k$(t.filters)?t.filters.reduce((function(t,n){return t.concat(Tx(n)?e(n):[n])}),[]):[]},hX=function(e,t){return cX(e||{}).filter((function(e){return e.field===t}))},fX=function(e,t){return function e(t,n){k$(t)&&k$(t.filters)&&(t.filters=t.filters.filter((function(t){return Tx(t)?(e(t,n),t.filters.length):t.field!==n})))}(e,t),e},dX=function(e){return function(t){return Object.keys(e).map((function(n){return{text:t.get(n),value:e[n]}}))}},pX=(nQ=function(){function e(t){_classCallCheck(this,e),this.filterService=t,this.operatorList=new cu}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.operationListSubscription=S$(this.operatorList).pipe(Q((function(e){return e.toArray()})),Q(aX)).subscribe((function(t){e.operators=t}))}},{key:"ngOnDestroy",value:function(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}},{key:"filterByField",value:function(e){return function(e,t){return _slicedToArray(hX(e,t),1)[0]}(this.filter,e)}},{key:"filtersByField",value:function(e){return hX(this.filter,e)}},{key:"removeFilter",value:function(e){return fX(this.filter,e)}},{key:"updateFilter",value:function(e){var t=this.filter||{filters:[],logic:"and"},n=_slicedToArray(cX(t).filter((function(t){return t.field===e.field})),1)[0];return k$(n)?Object.assign(n,e):t.filters.push(e),t}},{key:"applyFilter",value:function(e){this.filterService.filter(e)}},{key:"hostClasses",get:function(){return!0}},{key:"operators",get:function(){return this._operators.length?this._operators:this.defaultOperators},set:function(e){this._operators=e}}]),e}(),nQ.\u0275fac=function(e){Wa()},nQ.\u0275dir=zt({type:nQ,contentQueries:function(e,t,n){var i;1&e&&_u(n,sX,!1),2&e&&ku(i=Tu())&&(t.operatorList=i)},hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell",t.hostClasses)}}),nQ),vX=dX({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),mX=(rQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="eq",r.step=1,r.spinners=!0,r.defaultOperators=vX(r.localization),r}return _createClass(n,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=vX(this.localization),this.operatorList.length&&(this.operators=aX(this.operatorList.toArray()))}},{key:"format",set:function(e){this._format=e},get:function(){return _$(this._format)?this.columnFormat:this._format}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"columnFormat",get:function(){return this.column&&!_$(this.column.format)?I$(this.column.format):"n2"}}]),n}(pX),rQ.\u0275fac=function(e){Wa()},rQ.\u0275dir=zt({type:rQ,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[Ls]}),rQ),gX=(iQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).localization=i,r.filterDelay=500,r.showOperators=!0,r}return n}(mX),iQ.\u0275fac=function(e){return new(e||iQ)(Ga(wZ),Ga(Om))},iQ.\u0275cmp=At({type:iQ,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ls],decls:2,vars:14,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"kendo-numerictextbox",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Dr(1),qa("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:function(){return[_X,lL,pY,yX]},encapsulation:2}),iQ),yX=function(){var e=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.change=new lu,this.composing=!1,this.filterDelay=500,this.changeRequests=new j,this.accessor=t[0],n.runOutsideAngular((function(){var e=r.listen(i.nativeElement,"compositionstart",(function(){return o.composing=!0})),t=r.listen(i.nativeElement,"compositionend",(function(){return o.composing=!1}));o.unsubscribeEvents=function(){e(),t()}}))}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.accessor.registerOnChange((function(t){return e.filterDelay>0?e.changeRequests.next(t):e.change.emit(t)})),this.subscribeChanges()}},{key:"ngOnChanges",value:function(e){Fg("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}},{key:"ngOnDestroy",value:function(){this.unsubscribeChanges(),this.unsubscribeEvents()}},{key:"subscribeChanges",value:function(){var e=this;this.changeRequestsSubscription=this.changeRequests.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg;return function(n){return n.lift(new yx(e,t))}}(this.filterDelay),If((function(){return!e.composing}))).subscribe((function(t){return e.change.emit(t)}))}},{key:"unsubscribeChanges",value:function(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}},{key:"value",set:function(e){this.accessor.writeValue(e)}},{key:"disabled",set:function(e){this.accessor.setDisabledState(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ga(c_,2),Ga(Xu),Ga(rl),Ga(ll))},e.\u0275dir=zt({type:e,selectors:[["","kendoFilterInput",""]],inputs:{filterDelay:"filterDelay",value:"value"},features:[Us]}),e}(),kX=new Set(["isnull","isnotnull","isempty","isnotempty"]),bX=function(e){return kX.has(e)},wX=(oQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).operators=[],i}return _createClass(n,[{key:"ngAfterContentInit",value:function(){k$(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=bX(this.currentOperator))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.changeSubscription&&this.changeSubscription.unsubscribe()}},{key:"onChange",value:function(e){_$(e)&&!this.filterByField(this.column.field)||this.filterChange(_$(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"onClear",value:function(){this.onChange(null),this.filterInputDisabled=bX(this.defaultOperator)}},{key:"applyNoValueFilter",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}},{key:"ngOnChanges",value:function(e){Fg("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=bX(this.currentOperator))}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){var e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator},set:function(e){this._operator=e;var t=bX(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!b$(e)&&k$(this.currentFilter)&&this.onChange(this.currentFilter.value)}},{key:"defaultOperator",get:function(){return _$(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator},set:function(e){this._defaultOperator=e}},{key:"filterInputDisabled",set:function(e){this.input&&(this.input.disabled=e)}}]),n}(pX),oQ.\u0275fac=function(e){Wa()},oQ.\u0275dir=zt({type:oQ,contentQueries:function(e,t,n){var i;1&e&&_u(n,yX,!0),2&e&&ku(i=Tu())&&(t.input=i.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[Ls,Us]}),oQ),CX=["isnull","isnotnull","isempty","isnotempty"],_X=(aQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).showOperators=!0,i}return _createClass(n,[{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"hostClasses",get:function(){return!0}},{key:"overrideBaseClasses",get:function(){return!1}},{key:"showButton",get:function(){var e=this.currentFilter;return k$(e)&&(!_$(e.value)||CX.indexOf(String(e.operator))>=0)}}]),n}(wX),aQ.\u0275fac=function(e){return new(e||aQ)(Ga(wZ))},aQ.\u0275cmp=At({type:aQ,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&ys("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[Ls],ngContentSelectors:XG,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(ls(),us(0),Ka(1,"kendo-grid-filter-cell-operators",0),is("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),Za()),2&e&&(Dr(1),qa("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[OX]},encapsulation:2}),aQ),SX=dX({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),xX=(uQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="contains",r}return _createClass(n,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=SX(this.localization),this.operatorList.length&&(this.operators=aX(this.operatorList.toArray()))}},{key:"currentFilter",get:function(){return this.filterByField((this.column||{}).field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),n}(pX),uQ.\u0275fac=function(e){Wa()},uQ.\u0275dir=zt({type:uQ,inputs:{operator:"operator",column:"column",filter:"filter"},features:[Ls]}),uQ),TX=(lQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).filterDelay=500,r.showOperators=!0,r}return n}(xX),lQ.\u0275fac=function(e){return new(e||lQ)(Ga(wZ),Ga(Om))},lQ.\u0275cmp=At({type:lQ,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ls],decls:2,vars:7,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"input",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Dr(1),qa("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[_X,v_,pY,yX,S_,BS],encapsulation:2}),lQ),OX=(sQ=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new lu,this.clear=new lu}return _createClass(e,[{key:"onChange",value:function(e){this.valueChange.emit(e)}},{key:"clearClick",value:function(){return this.clear.emit(),!1}},{key:"clearKeydown",value:function(e){e.keyCode!==Jg.Enter&&e.keyCode!==Jg.Space||this.clear.emit()}},{key:"dropdownKeydown",value:function(e){e.defaultPrevented||e.keyCode!==Jg.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}},{key:"ngOnInit",value:function(){var e=this;this.localization.changes.subscribe((function(){return e.clearText=e.localization.get("filterClearButton")}))}},{key:"hostClasses",get:function(){return!0}}]),e}(),sQ.\u0275fac=function(e){return new(e||sQ)(Ga(Om))},sQ.\u0275cmp=At({type:sQ,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var n;1&e&&wu(eU,!0),2&e&&ku(n=Tu())&&(t.dropdown=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(Ba(0,nU,2,5,"kendo-dropdownlist",0),Ka(1,"button",1),is("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),Ya(2,"span",2),Za()),2&e&&(qa("ngIf",t.showOperators),Dr(1),qa("ngClass",Jl(3,iU,t.showButton))("title",t.clearText))},directives:[fh,pY,lh,$I],encapsulation:2}),sQ),IX=dX({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),EX=(fQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).localization=r,o.showOperators=!0,o.defaultOperators=IX(o.localization),o.column=i,o}return _createClass(n,[{key:"valueField",set:function(e){this._valueField=e},get:function(){return this._valueField?this._valueField:this.column.field}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:"contains"}}]),n}(pX),fQ.\u0275fac=function(e){return new(e||fQ)(Ga(wZ),Ga(G$),Ga(Om))},fQ.\u0275cmp=At({type:fQ,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[Ls],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"kendo-autocomplete",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),Dr(1),qa("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[_X,GI,yX],encapsulation:2}),fQ),AX=(hQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="eq",r.items=[{text:r.localization.get("filterIsTrue"),value:!0},{text:r.localization.get("filterIsFalse"),value:!1}],r.defaultItem={text:r.localization.get("filterBooleanAll"),value:null},r}return _createClass(n,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}},{key:"hostClasses",get:function(){return!0}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),n}(pX),hQ.\u0275fac=function(e){Wa()},hQ.\u0275dir=zt({type:hQ,hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[Ls]}),hQ),DX=(cQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).cd=r,o}return _createClass(n,[{key:"localizationChange",value:function(){_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this),this.cd.markForCheck()}}]),n}(AX),cQ.\u0275fac=function(e){return new(e||cQ)(Ga(wZ),Ga(Om),Ga(oa))},cQ.\u0275cmp=At({type:cQ,selectors:[["kendo-grid-boolean-filter-cell"]],features:[Ls],decls:2,vars:10,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","textField","text","valueField","value",3,"defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"kendo-dropdownlist",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),Dr(1),qa("defaultItem",t.defaultItem)("data",t.items)("popupSettings",Ql(9,tU))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[_X,$I,yX],encapsulation:2}),cQ),RX=dX({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),MX=(bQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="gte",r.activeView="month",r.bottomView="month",r.topView="century",r.weekNumber=!1,r.defaultOperators=RX(r.localization),r}return _createClass(n,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=RX(this.localization),this.operatorList.length&&(this.operators=aX(this.operatorList.toArray()))}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"format",set:function(e){this._format=e},get:function(){return _$(this._format)?this.columnFormat:this._format}},{key:"columnFormat",get:function(){return this.column&&!_$(this.column.format)?I$(this.column.format):"d"}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),n}(pX),bQ.\u0275fac=function(e){Wa()},bQ.\u0275dir=zt({type:bQ,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[Ls]}),bQ),FX=(kQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).localization=i,r.showOperators=!0,r}return n}(MX),kQ.\u0275fac=function(e){return new(e||kQ)(Ga(wZ),Ga(Om))},kQ.\u0275cmp=At({type:kQ,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[Ls],decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","",3,"value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"kendo-datepicker",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Dr(1),qa("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber))},directives:[_X,LH,yX],encapsulation:2}),kQ),PX=(yQ=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[]}return _createClass(e,[{key:"trackBy",value:function(e,t){return e}},{key:"columnsToRender",get:function(){return Z$(this.columns)}}]),e}(),yQ.\u0275fac=function(e){return new(e||yQ)},yQ.\u0275cmp=At({type:yQ,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:rU,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&Ba(0,lU,3,4,"ng-template",0),2&e&&qa("ngIf",!0)},directives:[fh,ch],encapsulation:2}),yQ),zX=(gQ=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.hostClass=!0}return _createClass(e,[{key:"loadingText",get:function(){return this.localization.get("loading")}}]),e}(),gQ.\u0275fac=function(e){return new(e||gQ)(Ga(Om))},gQ.\u0275cmp=At({type:gQ,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-loading-mask",t.hostClass)},attrs:uU,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(Ka(0,"span",0),Ds(1),Za(),Ya(2,"div",1),Ya(3,"div",2)),2&e&&(Dr(1),Rs(t.loadingText))},encapsulation:2}),gQ),NX=(mQ=function(){function e(t,n,i,r){_classCallCheck(this,e),this.el=t,this.renderer=n,this.resizeService=i,this.grid=r,this.enabled=!1}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"attachResize",value:function(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}},{key:"resize",value:function(){if(this.grid&&this.grid.wrapper){var e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}},{key:"lockedWidth",set:function(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}},{key:"kendoGridResizableContainer",set:function(e){var t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}}]),e}(),mQ.\u0275fac=function(e){return new(e||mQ)(Ga(rl),Ga(ll),Ga(RZ),Ga(BY,8))},mQ.\u0275dir=zt({type:mQ,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),mQ),LX=function(){var e=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.removeView()}},{key:"removeView",value:function(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}},{key:"templateContext",set:function(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ga(El))},e.\u0275dir=zt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e}(),jX=(vQ=function(){function e(t){_classCallCheck(this,e),this.root=t,this.active=!0,this.children=[],this.root.registerGroup(this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.root.unregisterGroup(this)}},{key:"registerElement",value:function(e){this.unregisterElement(e),this.children.push(e)}},{key:"unregisterElement",value:function(e){this.children=this.children.filter((function(t){return t!==e}))}},{key:"isNavigable",value:function(){var e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}},{key:"canFocus",value:function(){return this.focusableChildren.length>0}},{key:"focus",value:function(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}},{key:"activate",value:function(){this.toggleState(!0)}},{key:"deactivate",value:function(){this.toggleState(!1)}},{key:"hasFocus",value:function(){return this.children.reduce((function(e,t){return e||t.hasFocus()}),!1)}},{key:"toggleState",value:function(e){this.active!==e&&(this.active=e,this.children.forEach((function(t){return t.toggle(e)})))}},{key:"focusableChildren",get:function(){return this.children.filter((function(e){return e.canFocus()}))}},{key:"isActive",get:function(){return this.active}}]),e}(),vQ.\u0275fac=function(e){return new(e||vQ)(ct(uY))},vQ.\u0275prov=xe({token:vQ,factory:vQ.\u0275fac}),vQ),VX=0,BX=((pQ=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.focusGroup=t,this.element=n,this.columnInfoService=i,this.idService=r,this.navigationService=o,this.renderer=a,this.zone=s,this.cellContext=l,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=VX++}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe((function(t){return e.onNavigationChange(t)})))}},{key:"ngDoCheck",value:function(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}},{key:"ngOnChanges",value:function(e){if(this.navigationService.enabled){var t=Object.keys(e);if((1!==t.length||"groupItem"!==t[0])&&-1!==this.logicalColIndex){var n=e.logicalColIndex,i=e.logicalRowIndex,r=n&&!n.isFirstChange()?n.previousValue:this.logicalColIndex,o=i&&!i.isFirstChange()?i.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(r,o,this),this.registerChanges(),this.updateElement()}}}},{key:"ngOnDestroy",value:function(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}},{key:"onNavigationChange",value:function(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}},{key:"updateElement",value:function(){var e=this,t=this.element.nativeElement;this.renderer.setAttribute(t,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask((function(){return e.isFocused()&&t.focus()})),this.renderer.addClass(t,"k-state-focused")):this.renderer.removeClass(t,"k-state-focused")}},{key:"microtask",value:function(e){this.zone.runOutsideAngular((function(){return Promise.resolve(null).then(e)}))}},{key:"registerChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCell(this)}},{key:"registerNoChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}},{key:"isFocusable",value:function(){return this.navigationService.isCellFocusable(this)}},{key:"isFocused",value:function(){return this.navigationService.isCellFocused(this)}},{key:"id",get:function(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}},{key:"ariaColIndex",get:function(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}}]),e}()).\u0275fac=function(e){return new(e||pQ)(Ga(jX),Ga(rl),Ga(RY),Ga(DY),Ga(IY),Ga(ll),Ga(Xu),Ga(bZ,8))},pQ.\u0275dir=zt({type:pQ,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&ja("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem"},features:[el([{provide:jX,deps:[uY],useClass:jX}]),Us]}),pQ),HX=0,GX=((dQ=function(){function e(t,n){_classCallCheck(this,e),this.idService=t,this.navigation=n,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=HX++}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this.navigation.enabled&&!this.logicalSlaveRow){var t=e.logicalRowIndex;if(t||e.logicalSlaveRow){var n=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(n,this),this.navigation.registerRow(this)}else Pg(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}}},{key:"ngOnDestroy",value:function(){this.navigation.unregisterRow(this.logicalRowIndex,this)}},{key:"hostRole",get:function(){return this.logicalSlaveRow?"presentation":"row"}},{key:"ariaRowIndex",get:function(){if(this.navigation.enabled)return this.logicalRowIndex+1}},{key:"ariaOwns",get:function(){if(this.navigation.enabled&&!this.logicalSlaveRow&&0!==this.logicalSlaveCellsCount){for(var e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount,n=this.logicalCellsCount;n<t;n++)e.push(this.idService.cellId(this.logicalRowIndex,n));return e.join(" ")}}}]),e}()).\u0275fac=function(e){return new(e||dQ)(Ga(DY),Ga(IY))},dQ.\u0275dir=zt({type:dQ,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&ja("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[Us]}),dQ),UX=/\{\d+:?/,WX=((CQ=function(){function e(t){_classCallCheck(this,e),this.intlService=t}return _createClass(e,[{key:"transform",value:function(e,t,n){if(!_$(t)){var i=function(e){if(ET[e])return ET[e];var t=function(e){var t=[];return e.replace(IT,(function(e,n,i,r){t.push(void 0!==n?n:i||r)})),t}(e);return ET[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},ET[e]}(t)(e);return _$(n)?i:this.formatValue(n,i)}return e}},{key:"formatValue",value:function(e,t){var n=this.intlService;return T$(e)&&e.match(UX)?n.format(e,t):n.toString(t,e)}}]),e}()).\u0275fac=function(e){return new(e||CQ)(Ga(_N))},CQ.\u0275pipe={type:(wQ={name:"valueOf",type:CQ,pure:!1}).type,name:wQ.name,factory:null,pure:!1!==wQ.pure,onDestroy:wQ.type.prototype.ngOnDestroy||null},CQ),qX=function(e){var t=e.columns;return Math.max(1,function(e){return e.filter((function(e){return C$(e.resizable)&&e.isVisible}))}(t).length)},$X=function(e){return function(t){return t.querySelector(e)}},KX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return function(n){return n.querySelectorAll(t+":not(.k-group-cell):not(.k-hierarchy-cell)")[e]}},ZX=function(e){return e.offsetWidth},YX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return e?t(e):0}),e)}},QX=((_Q=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.element=t,this.renderer=n,this.service=i,this.zone=r,this.cdr=o,this.locked=!1,this.firstResize=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(If((function(t){return e.locked===t.locked})));this.subscription=t.pipe(If((function(e){return"start"===e.type})),sd(this.initState.bind(this)),Q(qX),Jf((function(e){return t.pipe(If((function(e){return"resizeTable"===e.type})),Q((function(e){return e.delta})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n.lift(new wx(e,t))}}(e))}))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}},{key:"initState",value:function(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=ZX(this.element.nativeElement))}},{key:"resize",value:function(e){if(!this.virtualColumns||this.locked){var t=e.reduce((function(e,t){return e+t}),0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}},{key:"autoFitObservable",value:function(e){var t=this;return M.create((function(n){t.zone.runOutsideAngular((function(){t.renderer.addClass(t.element.nativeElement,"k-autofitting"),t.cdr.detectChanges();var i=e.map(t.measureColumn.bind(t));t.renderer.removeClass(t.element.nativeElement,"k-autofitting"),n.next(i)}))}))}},{key:"measureColumn",value:function(e){var t,n=this.element.nativeElement,i=YX((t=e.level,function(e){return e.querySelectorAll("thead>tr")[t]}),KX(e.headerIndex,"th"),ZX)(n),r=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(r=YX($X("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),KX(e.index),ZX)(n));var o=YX($X("tfoot>tr"),KX(e.index),ZX)(n);return Math.max(i,r,o)}},{key:"minWidth",get:function(){return this.firstResize?0:null}}]),e}()).\u0275fac=function(e){return new(e||_Q)(Ga(rl),Ga(ll),Ga($Z),Ga(Xu),Ga(oa))},_Q.\u0275dir=zt({type:_Q,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&gs("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),_Q),JX=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[G$,q$,LK,d$,jK,pY]}}]),e}();return e.\u0275mod=Ft({type:e}),e.\u0275inj=Oe({factory:function(t){return new(t||e)},imports:[[Rh],jg,Bg]}),e}(),XX=[OX,(BQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"contains",e)}return n}(sX),BQ.\u0275fac=function(e){return new(e||BQ)(Ga(Om))},BQ.\u0275cmp=At({type:BQ,selectors:[["kendo-filter-contains-operator"]],features:[el([{provide:sX,useExisting:je((function(){return BQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),BQ),(VQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"doesnotcontain",e)}return n}(sX),VQ.\u0275fac=function(e){return new(e||VQ)(Ga(Om))},VQ.\u0275cmp=At({type:VQ,selectors:[["kendo-filter-not-contains-operator"]],features:[el([{provide:sX,useExisting:je((function(){return VQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),VQ),(jQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"endswith",e)}return n}(sX),jQ.\u0275fac=function(e){return new(e||jQ)(Ga(Om))},jQ.\u0275cmp=At({type:jQ,selectors:[["kendo-filter-endswith-operator"]],features:[el([{provide:sX,useExisting:je((function(){return jQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),jQ),(LQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"eq",e)}return n}(sX),LQ.\u0275fac=function(e){return new(e||LQ)(Ga(Om))},LQ.\u0275cmp=At({type:LQ,selectors:[["kendo-filter-eq-operator"]],features:[el([{provide:sX,useExisting:je((function(){return LQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),LQ),(NQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isempty",e)}return n}(sX),NQ.\u0275fac=function(e){return new(e||NQ)(Ga(Om))},NQ.\u0275cmp=At({type:NQ,selectors:[["kendo-filter-isempty-operator"]],features:[el([{provide:sX,useExisting:je((function(){return NQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),NQ),(zQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isnotempty",e)}return n}(sX),zQ.\u0275fac=function(e){return new(e||zQ)(Ga(Om))},zQ.\u0275cmp=At({type:zQ,selectors:[["kendo-filter-isnotempty-operator"]],features:[el([{provide:sX,useExisting:je((function(){return zQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),zQ),(PQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isnotnull",e)}return n}(sX),PQ.\u0275fac=function(e){return new(e||PQ)(Ga(Om))},PQ.\u0275cmp=At({type:PQ,selectors:[["kendo-filter-isnotnull-operator"]],features:[el([{provide:sX,useExisting:je((function(){return PQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),PQ),(FQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isnull",e)}return n}(sX),FQ.\u0275fac=function(e){return new(e||FQ)(Ga(Om))},FQ.\u0275cmp=At({type:FQ,selectors:[["kendo-filter-isnull-operator"]],features:[el([{provide:sX,useExisting:je((function(){return FQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),FQ),(MQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"neq",e)}return n}(sX),MQ.\u0275fac=function(e){return new(e||MQ)(Ga(Om))},MQ.\u0275cmp=At({type:MQ,selectors:[["kendo-filter-neq-operator"]],features:[el([{provide:sX,useExisting:je((function(){return MQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),MQ),(RQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"startswith",e)}return n}(sX),RQ.\u0275fac=function(e){return new(e||RQ)(Ga(Om))},RQ.\u0275cmp=At({type:RQ,selectors:[["kendo-filter-startswith-operator"]],features:[el([{provide:sX,useExisting:je((function(){return RQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),RQ),(DQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"gt",e)}return n}(sX),DQ.\u0275fac=function(e){return new(e||DQ)(Ga(Om))},DQ.\u0275cmp=At({type:DQ,selectors:[["kendo-filter-gt-operator"]],features:[el([{provide:sX,useExisting:je((function(){return DQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),DQ),(AQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"gte",e)}return n}(sX),AQ.\u0275fac=function(e){return new(e||AQ)(Ga(Om))},AQ.\u0275cmp=At({type:AQ,selectors:[["kendo-filter-gte-operator"]],features:[el([{provide:sX,useExisting:je((function(){return AQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),AQ),(EQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"lt",e)}return n}(sX),EQ.\u0275fac=function(e){return new(e||EQ)(Ga(Om))},EQ.\u0275cmp=At({type:EQ,selectors:[["kendo-filter-lt-operator"]],features:[el([{provide:sX,useExisting:je((function(){return EQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),EQ),(IQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"lte",e)}return n}(sX),IQ.\u0275fac=function(e){return new(e||IQ)(Ga(Om))},IQ.\u0275cmp=At({type:IQ,selectors:[["kendo-filter-lte-operator"]],features:[el([{provide:sX,useExisting:je((function(){return IQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),IQ),(OQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"after",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"gt"}}}]),n}(sX),OQ.\u0275fac=function(e){return new(e||OQ)(Ga(Om))},OQ.\u0275cmp=At({type:OQ,selectors:[["kendo-filter-after-operator"]],features:[el([{provide:sX,useExisting:je((function(){return OQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),OQ),(TQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"after-eq",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"gte"}}}]),n}(sX),TQ.\u0275fac=function(e){return new(e||TQ)(Ga(Om))},TQ.\u0275cmp=At({type:TQ,selectors:[["kendo-filter-after-eq-operator"]],features:[el([{provide:sX,useExisting:je((function(){return TQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),TQ),(xQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"before-eq",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"lte"}}}]),n}(sX),xQ.\u0275fac=function(e){return new(e||xQ)(Ga(Om))},xQ.\u0275cmp=At({type:xQ,selectors:[["kendo-filter-before-eq-operator"]],features:[el([{provide:sX,useExisting:je((function(){return xQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),xQ),(SQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"before",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"lt"}}}]),n}(sX),SQ.\u0275fac=function(e){return new(e||SQ)(Ga(Om))},SQ.\u0275cmp=At({type:SQ,selectors:[["kendo-filter-before-operator"]],features:[el([{provide:sX,useExisting:je((function(){return SQ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),SQ)],e0=[Rh,ZS,KS,gE,tE,CL,aG,My,JX],t0=((WQ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[].concat(XX)}}]),e}()).\u0275mod=Ft({type:WQ}),WQ.\u0275inj=Oe({factory:function(e){return new(e||WQ)},imports:[[].concat(e0),Rh,ZS,KS,gE,tE,CL,aG,My,JX]}),WQ),n0=((UQ=function(){function e(t,n){_classCallCheck(this,e),this.host=t,this.resolver=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}},{key:"ngOnDestroy",value:function(){this.component&&(this.component.destroy(),this.component=null)}},{key:"ngOnChanges",value:function(e){Pg(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}},{key:"initComponent",value:function(e){var t=e.column,n=e.filter,i=this.component.instance;i.column=t,i.filter=n}}]),e}()).\u0275fac=function(e){Wa()},UQ.\u0275dir=zt({type:UQ,inputs:{column:"column",filter:"filter"},features:[Us]}),UQ),i0=((GQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"componentType",value:function(){return _$(this.column.filter)?TX:{boolean:DX,date:FX,numeric:gX,text:TX}[this.column.filter]}}]),n}(n0)).\u0275fac=function(e){return new(e||GQ)(Ga(El),Ga(il))},GQ.\u0275dir=zt({type:GQ,selectors:[["","kendoFilterCellHost",""]],features:[Ls]}),GQ),r0=((HQ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[nX,rX,j$,OX,TX,gX,EX,DX,FX,t0.exports()]}}]),e}()).\u0275mod=Ft({type:HQ}),HQ.\u0275inj=Oe({factory:function(e){return new(e||HQ)},imports:[[t0],t0]}),HQ),o0=function(e){return n=(t=!0===e?{}:e).buttonCount,i=void 0===n?10:n,r=t.info,o=void 0===r||r,a=t.type,s=void 0===a?"numeric":a,l=t.pageSizes,u=void 0!==l&&l,c=t.previousNext,{buttonCount:i,info:o,pageSizes:!0===u?[5,10,20]:u,previousNext:void 0===c||c,type:s};var t,n,i,r,o,a,s,l,u,c},a0=((XQ=function(){function e(t){_classCallCheck(this,e),this.pagerContext=t,this.total=0,this.skip=1,this.pageChange=new lu,this.settings=o0({}),this._templateContext={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.pageChangeSubscription=this.pagerContext.pageChange.subscribe(this.changePage.bind(this))}},{key:"ngOnChanges",value:function(e){Pg(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total})}},{key:"ngOnDestroy",value:function(){this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe()}},{key:"changePage",value:function(e){this.pageChange.emit(e)}},{key:"options",set:function(e){this.settings=o0(e)}},{key:"pagerWrapClass",get:function(){return!0}},{key:"gridPagerClass",get:function(){return!0}},{key:"widgetClass",get:function(){return!0}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"templateContext",get:function(){var e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}}]),e}()).\u0275fac=function(e){return new(e||XQ)(Ga(_Z))},XQ.\u0275cmp=At({type:XQ,selectors:[["kendo-pager"]],hostVars:6,hostBindings:function(e,t){2&e&&ys("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[Us],decls:2,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"]],template:function(e,t){1&e&&(Ba(0,cU,1,2,"ng-container",0),Ba(1,gU,7,6,"ng-container",1)),2&e&&(qa("ngIf",null==t.template?null:t.template.templateRef),Dr(1),qa("ngIf",!(null!=t.template&&t.template.templateRef)))},directives:function(){return[fh,Dh,l0,c0,h0,u0,f0,d0]},encapsulation:2}),XQ),s0=((JQ=function(){function e(t,n,i){_classCallCheck(this,e),this.localization=t,this.pagerContext=n,this.cd=i,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}return _createClass(e,[{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"changePage",value:function(e){return this.pagerContext.changePage(e),!1}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}}]),e}()).\u0275fac=function(e){Wa()},JQ.\u0275dir=zt({type:JQ}),JQ),l0=((QQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){return _classCallCheck(this,n),t.call(this,e,i,r)}return _createClass(n,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"disabled",get:function(){return 1===this.currentPage||!this.total}}]),n}(s0)).\u0275fac=function(e){return new(e||QQ)(Ga(Om),Ga(_Z),Ga(oa))},QQ.\u0275cmp=At({type:QQ,selectors:[["kendo-pager-prev-buttons"]],features:[Ls],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(Ka(0,"a",0),is("click",(function(){return 1!==t.currentPage&&t.changePage(0)})),Ya(1,"span",1),Za(),Ka(2,"a",0),is("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),Ya(3,"span",1),Za()),2&e&&(qa("title",t.textFor("pagerFirstPage"))("ngClass",Jl(8,yU,t.disabled)),Dr(1),qa("ngClass",Ql(10,kU)),ja("aria-label",t.textFor("pagerFirstPage")),Dr(1),qa("title",t.textFor("pagerPreviousPage"))("ngClass",Jl(11,bU,t.disabled)),Dr(1),qa("ngClass",Ql(13,wU)),ja("aria-label",t.textFor("pagerPreviousPage")))},directives:[lh],encapsulation:2,changeDetection:0}),QQ),u0=((YQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){return _classCallCheck(this,n),t.call(this,e,i,r)}return _createClass(n,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"disabled",get:function(){return this.currentPage===this.totalPages||!this.total}}]),n}(s0)).\u0275fac=function(e){return new(e||YQ)(Ga(Om),Ga(_Z),Ga(oa))},YQ.\u0275cmp=At({type:YQ,selectors:[["kendo-pager-next-buttons"]],features:[Ls],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(Ka(0,"a",0),is("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),Ya(1,"span",1),Za(),Ka(2,"a",0),is("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),Ya(3,"span",1),Za()),2&e&&(qa("title",t.textFor("pagerNextPage"))("ngClass",Jl(8,bU,t.disabled)),Dr(1),qa("ngClass",Ql(10,CU)),ja("aria-label",t.textFor("pagerNextPage")),Dr(1),qa("title",t.textFor("pagerLastPage"))("ngClass",Jl(11,_U,t.disabled)),Dr(1),qa("ngClass",Ql(13,SU)),ja("aria-label",t.textFor("pagerLastPage")))},directives:[lh],encapsulation:2,changeDetection:0}),YQ),c0=((ZQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).pagerContext=r,o}return _createClass(n,[{key:"pageLabel",value:function(e){var t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"buttons",get:function(){for(var e=[],t=this.start;t<=this.end;t++)e.push(t);return e}},{key:"end",get:function(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}},{key:"start",get:function(){var e=this.currentPage,t=this.buttonCount;if(e>t){var n=e%t;return 0===n?e-t+1:e-n+1}return 1}}]),n}(s0)).\u0275fac=function(e){return new(e||ZQ)(Ga(Om),Ga(oa),Ga(_Z))},ZQ.\u0275cmp=At({type:ZQ,selectors:[["kendo-pager-numeric-buttons"]],inputs:{buttonCount:"buttonCount"},features:[Ls],decls:4,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["href","#","tabindex","-1",1,"k-link",3,"click"],["href","#","tabindex","-1",3,"ngClass","click"]],template:function(e,t){1&e&&(Ka(0,"ul",0),Ba(1,xU,3,1,"li",1),Ba(2,OU,3,5,"li",2),Ba(3,IU,3,1,"li",1),Za()),2&e&&(qa("ngClass",Ql(4,EU)),Dr(1),qa("ngIf",t.start>1),Dr(1),qa("ngForOf",t.buttons),Dr(1),qa("ngIf",t.end<t.totalPages))},directives:[lh,fh,ch],encapsulation:2,changeDetection:0}),ZQ),h0=((KQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i,o)).pagerContext=i,a.zone=r,a.handleKeyDown=function(e){var t=a.numericInput.value||a.current;e.keyCode===Jg.Enter&&(e.preventDefault(),t!==a.current&&a.zone.run((function(){a.changePage(t-1)})))},a.handleBlur=function(){var e=a.numericInput.value;e?e!==a.current&&a.zone.run((function(){a.changePage(e-1)})):a.numericInput.writeValue(a.current)},a}return _createClass(n,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"current",get:function(){return this.hasPages?this.currentPage:0}},{key:"hasPages",get:function(){return 0!==this.totalPages}}]),n}(s0)).\u0275fac=function(e){return new(e||KQ)(Ga(Om),Ga(_Z),Ga(Xu),Ga(oa))},KQ.\u0275cmp=At({type:KQ,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var n;1&e&&wu(lL,!0),2&e&&ku(n=Tu())&&(t.numericInput=n.first)},features:[Ls],decls:4,vars:16,consts:[[3,"ngClass"],["format","n0",3,"spinners","decimals","disabled","value","min","max","autoCorrect","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(Ka(0,"span",0),Ds(1),Ya(2,"kendo-numerictextbox",1),Ds(3),Za()),2&e&&(qa("ngClass",Ql(12,AU)),Dr(1),Ms(" ",t.textFor("pagerPage")," "),Dr(1),qa("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("kendoEventsOutsideAngular",Xl(13,DU,t.handleKeyDown,t.handleBlur)),Dr(1),Fs(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[lh,lL,Vg],encapsulation:2}),KQ),f0=(($Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).pagerContext=r,o}return _createClass(n,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"maxItems",get:function(){return Math.min(this.currentPage*this.pageSize,this.total)}},{key:"currentPageText",get:function(){return this.total?(this.currentPage-1)*this.pageSize+1:0}},{key:"classes",get:function(){return!0}}]),n}(s0)).\u0275fac=function(e){return new(e||$Q)(Ga(Om),Ga(oa),Ga(_Z))},$Q.\u0275cmp=At({type:$Q,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&ys("k-pager-info",t.classes)("k-label",t.classes)},features:[Ls],decls:1,vars:5,template:function(e,t){1&e&&Ds(0),2&e&&Ps("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),$Q),d0=((qQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).pagerContext=r,o._pageSizes=[],o}return _createClass(n,[{key:"pageSizeChange",value:function(e){this.pageSize=parseInt(e,10),this.pagerContext.changePageSize(this.pageSize)}},{key:"getValue",value:function(e){return"number"==typeof e.value?e.value:this.total}},{key:"getSelectedState",value:function(e){return"number"==typeof e.value?e.value===this.pageSize||void 0:this.pageSize===this.total}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize="number"==typeof i?i:this.total,this.cd.markForCheck()}},{key:"pageSizes",get:function(){return this._pageSizes},set:function(e){var t=[];e.forEach((function(e){t.push("number"==typeof e?{text:e.toString(),value:e}:e)})),this._pageSizes=t}},{key:"classes",get:function(){return!0}},{key:"showInitialPageSize",get:function(){var e=this;return 0===this.pageSizes.filter((function(t){return"number"==typeof t.value?t.value===Number(e.pageSize):e.total===Number(e.pageSize)})).length}}]),n}(s0)).\u0275fac=function(e){return new(e||qQ)(Ga(Om),Ga(oa),Ga(_Z))},qQ.\u0275cmp=At({type:qQ,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&ys("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[Ls],decls:5,vars:4,consts:[[3,"change"],["select",""],[3,"value",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"]],template:function(e,t){if(1&e){var n=es();Ka(0,"select",0,1),is("change",(function(){pn(n);var e=Ha(1);return t.pageSizeChange(e.value)})),Ba(2,RU,2,2,"option",2),Ba(3,MU,2,3,"option",3),Za(),Ds(4)}2&e&&(ja("aria-label",t.textFor("pagerItemsPerPage")),Dr(2),qa("ngIf",t.showInitialPageSize),Dr(1),qa("ngForOf",t.pageSizes),Dr(1),Ms(" ",t.textFor("pagerItemsPerPage")," "))},directives:[fh,ch],encapsulation:2,changeDetection:0}),qQ),p0=[Rh,CL,JX],v0=((nJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[a0,l0,u0,c0,h0,f0,d0,CZ]}}]),e}()).\u0275mod=Ft({type:nJ}),nJ.\u0275inj=Oe({factory:function(e){return new(e||nJ)},imports:[[].concat(p0)]}),nJ),m0=((tJ=function(){function e(t,n){_classCallCheck(this,e),this.groupsService=t,this.groupInfoService=n,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}return _createClass(e,[{key:"ngDoCheck",value:function(){this.isExpanded=this.groupsService.isExpanded(this.item.index)}},{key:"prefixGroupCell",value:function(e){return new Array(e.level)}},{key:"toggleGroup",value:function(e){return this.groupsService.toggleRow(e.index,e.data),!1}},{key:"groupSpan",value:function(e){var t=(this.groups||[]).length,n=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+n-e.level;var i=J$(this.columns);return this.skipGroupDecoration?i:t+i+n-e.level}},{key:"logicalColSpan",value:function(){return this.skipGroupDecoration?1:this.totalColumnsCount}},{key:"ariaRole",value:function(){return this.skipGroupDecoration?"presentation":"gridcell"}},{key:"formatForGroup",value:function(e){return this.groupInfoService.formatForGroup(e)}},{key:"groupTitle",value:function(e){return this.groupInfoService.groupTitle(e)}},{key:"groupHeaderTemplate",value:function(e){return this.groupInfoService.groupHeaderTemplate(e)}},{key:"groupItemClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||tJ)(Ga(cZ),Ga(vZ))},tJ.\u0275cmp=At({type:tJ,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:FU,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ba(0,zU,1,1,"ng-template",0),Ba(1,HU,3,9,"td",1),Ba(2,qU,2,1,"ng-container",2)),2&e&&(qa("ngIf",!t.skipGroupDecoration),Dr(1),qa("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),Dr(1),qa("ngIf",t.hasGroupHeaderColumn))},directives:[fh,ch,BX,lh,LX,Dh],pipes:[WX],encapsulation:2}),tJ),g0=((eJ=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.service=n,this.context={},this.enter=new lu,this.leave=new lu,this.drop=new lu,this.subscriptions=new _}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.add(this);var t=this.service.changes.pipe(If((function(t){return t.target===e})));this.subscriptions.add(t.pipe(If((function(e){return"leave"===e.type}))).subscribe((function(t){e.leave.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(If((function(e){return"enter"===e.type}))).subscribe((function(t){e.enter.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(If((function(e){return"drop"===e.type}))).subscribe((function(t){e.drop.next(e.eventArgs(t))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"eventArgs",value:function(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}]),e}()).\u0275fac=function(e){return new(e||eJ)(Ga(rl),Ga(nY))},eJ.\u0275dir=zt({type:eJ,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),eJ),y0=function(e){var t=e.field;return _$(t)},k0=function(e){var t=e.groups,n=e.field;return t.some((function(e){return e.field===n}))},b0=A$((function(e){var t=e.target,n=e.field;return t.field===n}),D$((function(e){return e.target.lastTarget}),(function(e){var t=e.groups,n=e.field;return t.map((function(e){return e.field})).indexOf(n)===t.length-1}))),w0=((rJ=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.hint=t,this.cue=n,this.groupInfoService=i,this.localization=r,this.cd=o,this.change=new lu,this.groups=[],this.dropTargets=new cu,this.groupTitles=[],this.subscription=new _}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.subscription.add(S$(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngDoCheck",value:function(){var e=this,t=this.groups.map((function(t){return e.groupInfoService.groupTitle(t)}));(t.length!==this.groupTitles.length||t.some((function(t,n){return t!==e.groupTitles[n]})))&&(this.groupTitles=t,this.cd.markForCheck())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}},{key:"directionChange",value:function(e){var t=this.groups.findIndex((function(t){return t.field===e.field})),n=[].concat(_toConsumableArray(this.groups.slice(0,t)),[e],_toConsumableArray(this.groups.slice(t+1)));this.change.emit(n)}},{key:"insert",value:function(e,t){var n=this.groups.filter((function(t){return t.field!==e}));(n.length||0===this.groups.length)&&this.change.emit([].concat(_toConsumableArray(n.slice(0,t)),[{field:e}],_toConsumableArray(n.slice(t))))}},{key:"remove",value:function(e){this.change.emit(this.groups.filter((function(t){return t.field!==e.field})))}},{key:"canDrop",value:function(e,t){var n;return!("groupIndicator"===e.type?b0:A$(y0,k0,(n=this.groupInfoService,function(e){var t=e.field;return!n.isGroupable(t)})))({field:e.field,groups:this.groups,target:t})}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new _;var t=this.dropTargets.reduce((function(e,t){return se(e,t.enter)}),te([])),n=this.dropTargets.reduce((function(e,t){return se(e,t.leave)}),te([])),i=this.dropTargets.reduce((function(e,t){return se(e,t.drop)}),te([]));this.targetSubscription.add(t.pipe(sd((function(t){return e.hint.removeLock()})),If((function(t){var n=t.draggable,i=t.target;return e.canDrop(n.context,i.context)})),sd(this.enter.bind(this)),hx(i.pipe(Fy(n.pipe(sd(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}},{key:"enter",value:function(e){var t=e.draggable,n=e.target;this.hint.enable();var i=n.context.lastTarget||XZ(t.element.nativeElement,n.element.nativeElement);this.localization.rtl&&(i=!i),this.cue.position(tY(n.element.nativeElement,i))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.target,n=e.draggable.context.field,i=this.dropTargets.toArray().indexOf(t);this.insert(n,i)}},{key:"groupHeaderClass",get:function(){return!0}},{key:"text",set:function(e){this.emptyText=e},get:function(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")}}]),e}()).\u0275fac=function(e){return new(e||rJ)(Ga(oY),Ga(aY),Ga(vZ),Ga(Om),Ga(oa))},rJ.\u0275cmp=At({type:rJ,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var n;1&e&&wu(g0,!0),2&e&&ku(n=Tu())&&(t.dropTargets=n)},hostVars:4,hostBindings:function(e,t){2&e&&ys("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(Ba(0,KU,2,3,"ng-template",0),Ba(1,QU,2,10,"div",1),Ba(2,JU,2,2,"div",2)),2&e&&(qa("ngIf",0===t.groups.length),Dr(1),qa("ngForOf",t.groups),Dr(1),qa("ngIf",0!==t.groups.length))},directives:function(){return[fh,ch,g0,I0,C0,Lg]},encapsulation:2,changeDetection:0}),rJ),C0=((iJ=function(){function e(){_classCallCheck(this,e),this.directionChange=new lu,this.remove=new lu}return _createClass(e,[{key:"toggleDirection",value:function(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}},{key:"removeDescriptor",value:function(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}},{key:"groupIndicatorClass",get:function(){return!0}},{key:"dir",get:function(){return this.group.dir?this.group.dir:"asc"}}]),e}()).\u0275fac=function(e){return new(e||iJ)},iJ.\u0275cmp=At({type:iJ,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:XU,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&(Ka(0,"a",0),is("click",(function(){return t.toggleDirection()})),Ya(1,"span",1),Ds(2),Za(),Ka(3,"a",2),is("click",(function(){return t.removeDescriptor()})),Ya(4,"span",3),Za()),2&e&&(Dr(1),ys("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),Dr(1),Ms(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),iJ),_0=function(e){return function(t){return new RegExp("(^| )".concat(e,"( |$)")).test(t.className)}},S0=A$(_0("k-i-group-delete"),_0("k-button-icon")),x0=A$(_0("k-i-sort-asc-sm"),_0("k-i-sort-desc-sm")),T0=D$(E$(S0),E$(x0),E$(GZ),E$(LZ("label"))),O0=function(e){var t=e.clientX,n=e.clientY;return document.elementFromPoint(t,n)},I0=((sJ=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.draggable=t,this.element=n,this.zone=i,this.service=r,this.hint=o,this.cue=a,this.nav=s,this.renderer=l,this.context={},this.drag=new lu,this.subscriptions=new _}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(If((function(t){return e.enabled})),If((function(t){var n=t.originalEvent.target;return n===e.element.nativeElement||T0(n)})),sd((function(t){var n=t.originalEvent;t.isTouch||n.preventDefault(),e.nav.navigateTo(n.target)})),Jf((t=e.draggable.kendoRelease,function(e){return gf(e).pipe(px(150),Fy(t))})),sd((function(t){e.hint.create(t,e.element.nativeElement,e.context.hint),e.cue.create()})),Jf((function(t){return e.draggable.kendoDrag.pipe(sd((function(e){e.isTouch&&e.originalEvent.preventDefault()})),sd(e.hint.attach()),sd(e.cue.attach()),Fy(e.draggable.kendoRelease),Q((function(e){return{move:e,down:t}})))})),sd(e.performDrag.bind(e)),hx(e.draggable.kendoRelease)).subscribe(e.drop.bind(e));var t})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"drop",value:function(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}},{key:"performDrag",value:function(e){var t=e.move;this.hint.move(t);var n=this.elementUnderCursor(t);n&&this.service.notifyDrag(this,n,t),this.drag.emit({draggable:this,mouseEvent:t})}},{key:"elementUnderCursor",value:function(e){this.hint.hide();var t=O0(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=function(e,t){e.style.display="none";var n=t();return e.style.display="block",n}(t,O0.bind(this,e))),this.hint.show(),t}},{key:"updateTouchAction",value:function(){this.element&&this.renderer.setStyle(this.element.nativeElement,"touch-action",this.enabled?"none":"")}},{key:"enableDrag",set:function(e){this.enabled=e,this.updateTouchAction()}},{key:"hostClass",get:function(){return this.enabled}}]),e}()).\u0275fac=function(e){return new(e||sJ)(Ga(Lg,1),Ga(rl),Ga(Xu),Ga(nY),Ga(oY),Ga(aY),Ga(IY),Ga(ll))},sJ.\u0275dir=zt({type:sJ,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),sJ),E0=((aJ=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:aJ}),aJ.\u0275inj=Oe({factory:function(e){return new(e||aJ)}}),aJ),A0=((oJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[l$,u$,h$]}}]),e}()).\u0275mod=Ft({type:oJ}),oJ.\u0275inj=Oe({factory:function(e){return new(e||oJ)},imports:[[Rh,JX,E0]]}),oJ),D0={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},R0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{},D0].concat(t))},M0=function(e,t){return!1!==e.filter&&t.field&&t.filterable},F0=function(e,t){return!1!==e.sort&&t.field&&t.sortable},P0=function(e,t){return e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn)},z0=function(e){return!1!==e.columnChooser},N0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(null,[{}].concat(t))},L0=D$((function(e){var t=e.draggable;return["column","columnGroup"].indexOf(t.context.type)>=0}),(function(e){return e.draggable.context.column.reorderable}),(function(e){var t=e.draggable;return!iK(t.context.column)}),(function(e){var t=e.draggable,n=e.target;return t.element.nativeElement!==n.element.nativeElement}),(function(e){var t=e.draggable,n=e.target;return function e(t,n){return t.parent===n.parent||iK(n)&&e(t,n.parent)}(t.context.column,n.context.column)}),E$((function(e){var t,n,i=e.draggable;return!C$(i.context.column.locked)&&(t=i.context.column,n=t.parent,!C$(n))&&i.context.lastColumn})),(function(e){var t=e.draggable,n=e.target;return!1!==t.context.column.lockable||t.context.column.isLocked===n.context.column.isLocked})),j0=function(){var e=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.popupService=t,this.hint=n,this.cue=i,this.reorderService=r,this.idService=o,this.sortService=a,this.localization=s,this.cd=l,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new cu,this.subscription=new _}return _createClass(e,[{key:"sortColumn",value:function(e){this.sortService.sort(this.toggleSort(e))}},{key:"onSortClick",value:function(e,t,n){var i=t.target;e.headerTemplateRef&&i!==n&&Boolean(VZ(i,HZ,n))||this.sortColumn(e)}},{key:"onHeaderKeydown",value:function(e,t){this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===Jg.Enter&&this.sortService.sort(this.toggleSort(e))}},{key:"showSortNumbering",value:function(e){return R0(this.sortable).showIndexes&&this.sort&&this.sort.filter((function(e){var t=e.dir;return k$(t)})).length>1&&this.sortOrder(e.field)>0}},{key:"sortOrder",value:function(e){return this.sort.filter((function(e){var t=e.dir;return k$(t)})).findIndex((function(t){return t.field===e}))+1}},{key:"sortIcon",value:function(e){var t=this.sortDescriptor(e);return{"k-icon":k$(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}},{key:"sortState",value:function(e){if(this.isSortable(e)){var t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}}},{key:"sortStatus",value:function(e){if(this.sortedFields[e.field]&&this.isSortable(e)){var t="sortedDefault",n=this.sortDescriptor(e.field);return"asc"===n.dir?t="sortedAscending":"desc"===n.dir&&(t="sortedDescending"),this.localization.get(t)}}},{key:"toggleSort",value:function(e){var t=R0(this.sortable,e.sortable),n=t.allowUnsort,i=t.mode,r=t.initialDirection,o=this.toggleDirection(e.field,n,r);return"single"===i?[o]:[].concat(_toConsumableArray(this.sort.filter((function(t){return t.field!==e.field}))),[o])}},{key:"ngAfterViewInit",value:function(){this.subscription.add(S$(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngDoCheck",value:function(){this._leafColumns=Z$(this.columns||[]).filter((function(e){return!rK(e)}))}},{key:"ngOnChanges",value:function(e){var t=this,n=e.sort;n&&!n.isFirstChange()&&n.currentValue.forEach((function(e){t.sortedFields[e.field]=!0}))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}},{key:"selectAllCheckboxId",value:function(){return this.idService.selectAllCheckboxId()}},{key:"isFirstOnRow",value:function(e,t){var n=this;return 0===t&&!this.groups.length&&!this.detailTemplate&&function e(t){return t&&(n.columnsForLevel(t.level).indexOf(t)>0||e(t.parent))}(e.parent)}},{key:"logicalColumnIndex",value:function(e){var t=e.leafIndex;return k$(t)?t+(k$(this.detailTemplate)?1:0):-1}},{key:"showColumnMenu",value:function(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||function(e,t){return z0(e)||P0(e,t)||F0(e,t)||M0(e,t)}(this.columnMenu,e))}},{key:"isFilterable",value:function(e){return!_$(e.field)&&!0===e.filterable}},{key:"canDrop",value:function(e,t){return this.reorderable&&L0({draggable:e,target:t})}},{key:"shouldActivate",value:function(e){var t=this.reorderable&&e.reorderable;return!(!t&&!B$(e))&&(this.groupable&&B$(e)&&!1!==e.groupable||t)}},{key:"isSortable",value:function(e){return!_$(e.field)&&C$(this.sortable)&&C$(e.sortable)}},{key:"isCheckboxColumn",value:function(e){return m$(e)&&!e.templateRef}},{key:"trackByIndex",value:function(e,t){return e}},{key:"toggleDirection",value:function(e,t,n){var i=this.sortDescriptor(e),r=_slicedToArray(function(e){return"asc"===e?["asc","desc"]:["desc","asc"]}(n),2),o=r[0],a=r[1],s=o;return i.dir===o?s=a:i.dir===a&&t&&(s=void 0),{dir:s,field:e}}},{key:"columnsForLevel",value:function(e){var t=this.columns?this.columns.filter((function(t){return t.level===e})):[];return nK(Z$(t))}},{key:"isColumnGroupComponent",value:function(e){return rK(e)}},{key:"sortDescriptor",value:function(e){return this.sort.find((function(t){return t.field===e}))||{field:e}}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new _;var t=se.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.enter})))),n=se.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.leave})))),i=se.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.drop}))));this.targetSubscription.add(t.pipe(sd((function(t){var n=t.target,i=t.draggable;if("groupIndicator"!==i.context.type){var r=C$(n.context.column.isLocked),o=C$(i.context.column.isLocked);(e.lockedColumnsCount>0||r||o)&&e.hint.toggleLock(r)}})),If((function(t){var n=t.draggable,i=t.target;return e.canDrop(n,i)})),Jf(this.trackMove.bind(this,n,i)),Q((function(t){return N0(t,{before:e.calculateBefore(t),changeContainer:t.changeContainer})})),Q(this.normalizeTarget.bind(this)),sd(this.enter.bind(this)),Jf((function(t){return i.pipe(Q((function(){return t})),Fy(n.pipe(sd(e.leave.bind(e)))))}))).subscribe(this.drop.bind(this)))}},{key:"normalizeTarget",value:function(e){var t=e.target,n=t.context.column.parent;if(n&&n.isSpanColumn){var i=this.dropTargets.toArray(),r=i.find((function(e){return e.context.column.parent===n})),o=i.indexOf(r);t=i[o+(e.before?0:n.childColumns.length-1)]}return N0(e,{target:t})}},{key:"trackMove",value:function(e,t,n){var i=n.target.context.column,r=this.columnsForLevel(i.level),o=r.indexOf(i),a=n.draggable.context.column.isLocked!==i.isLocked;return a&&(i.locked?o===r.length-1:0===o)?n.draggable.drag.pipe(Fy(e),Fy(t),Q((function(e){var t=e.mouseEvent;return N0({changeContainer:!0},n,{mouseEvent:t})}))):gf(N0({changeContainer:a},n))}},{key:"calculateBefore",value:function(e){var t=e.draggable,n=e.target,i=e.mouseEvent,r=e.changeContainer,o=void 0!==r&&r,a=n.element.nativeElement,s=!1;o?(s=JZ(a).left+a.offsetWidth/2>i.pageX,this.localization.rtl&&(s=!s)):s=XZ(t.element.nativeElement,a);return s}},{key:"enter",value:function(e){var t=e.target,n=e.before;this.hint.enable(),this.localization.rtl&&(n=!n),this.cue.position(tY(t.element.nativeElement,n))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.draggable,n=e.target,i=e.before,r=e.changeContainer;this.reorderService.reorder({before:i,changeContainer:r,source:t.context.column,target:n.context.column})}},{key:"headerClass",get:function(){return!this.scrollable}},{key:"sortableLabel",get:function(){return this.localization.get("sortable")}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}},{key:"showFilterMenu",get:function(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}},{key:"showFilterRow",get:function(){return KZ(this.filterable)}},{key:"columnLevels",get:function(){return new Array((this.totalColumnLevels||0)+1)}},{key:"leafColumns",get:function(){return this._leafColumns}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ga(YZ),Ga(oY),Ga(aY),Ga(sY),Ga(DY),Ga(MY),Ga(Om),Ga(oa))},e.\u0275cmp=At({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var n;1&e&&wu(g0,!0),2&e&&ku(n=Tu())&&(t.dropTargets=n)},hostVars:2,hostBindings:function(e,t){2&e&&ys("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Us],attrs:eW,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","k-first","k-filterable","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],[3,"column","filter",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable",4,"ngIf"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable"],[3,"templateContext"],["aria-hidden","true",1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],[1,"k-checkbox-label"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&Ba(0,TW,2,2,"ng-template",0),2&e&&qa("ngIf",!0)},directives:function(){return[fh,ch,GX,BX,g0,Lg,I0,lh,Ah,q0,m1,LX,W0,pY,U0,nX]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e}(),V0=function(e){return e.nativeElement.parentElement.offsetWidth},B0=function(e){return $$(e).filter((function(e){return!e.isColumnGroup}))},H0=function(e){var t=e.originalEvent;t.stopPropagation(),t.preventDefault()},G0=function(e){return!(!e.parent||!e.parent.isSpanColumn)},U0=((cJ=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.draggable=t,this.element=n,this.service=i,this.zone=r,this.cdr=o,this.localization=a,this.columns=[],this.subscriptions=new _,this.rtl=!1}return _createClass(e,[{key:"autoFit",value:function(){var e=this,t=B0(this.columns),n=eK([this.column]).filter((function(e){return C$(e.resizable)})),i=n.map((function(n){var i=G0(n),r=!!i&&n.parent.childColumns.last===n,o=function(e,t){for(var n=0,i=0,r=0;n<t.length;){var o=t[n],a=G0(o);if(o===e)break;i--<=0&&a&&(r+=i=o.parent.childColumns.length-1),n++}return n-r}(n,t);return{column:n,headerIndex:e.columnsForLevel(n.level).indexOf(n),index:o,isLastInSpan:r,isParentSpan:i,level:n.level}}));n.forEach((function(e){return e.width=0})),this.service.measureColumns(i)}},{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(If((function(){return e.column.resizable})),If((function(t){return k$(t.columns.find((function(t){return t===e.column})))})));this.subscriptions.add(t.pipe(If((function(e){return"start"===e.type}))).subscribe(this.initState.bind(this))),this.subscriptions.add(t.pipe(If((function(e){return"resizeColumn"===e.type}))).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(If((function(e){return"start"===e.type})),If(this.shouldUpdate.bind(this)),qf(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(sd(H0),sd((function(){return e.service.start(e.column)})),Jf((t=e.draggable.kendoRelease,function(e){return gf(e).pipe(px(150),Fy(t))})),Jf(function(e,t){return function(n){return t.kendoDrag.pipe(Fy(t.kendoRelease.pipe(sd((function(){return e.end()})))),Q((function(e){var t=e.pageX;return{originalX:n.pageX,pageX:t}})))}}(e.service,e.draggable))).subscribe((function(t){var n=t.pageX,i=t.originalX;e.service.resizeColumns((n-i)/(e.column.resizeStartWidth||e.column.width)*100)}));var t}))),this.subscriptions.add(t.pipe(If((function(e){return"autoFitComplete"===e.type}))).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(t.pipe(If((function(e){return"triggerAutoFit"===e.type}))).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;return e.rtl=n})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"shouldUpdate",value:function(){return!B0(this.columns).map((function(e){return e.width})).some(b$)}},{key:"initColumnWidth",value:function(){this.column.width=V0(this.element)}},{key:"initState",value:function(){this.column.resizeStartWidth=V0(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}},{key:"resize",value:function(e){var t,n,i,r=e.deltaPercent,o=(t=this.column.resizeStartWidth,i=(n=r)<0?-1:1,Math.ceil(Math.abs(n)/100*t)*i);C$(this.rtl)&&(o*=-1);var a=Math.max(this.column.resizeStartWidth+o,this.column.minResizableWidth),s=a>this.column.minResizableWidth?o:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,a),this.service.resizeTable(this.column,s)}},{key:"sizeToFit",value:function(e){var t=e.columns,n=e.widths,i=t.indexOf(this.column),r=Math.max.apply(Math,_toConsumableArray(n.map((function(e){return e[i]}))))+1,o=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,o)}},{key:"updateWidth",value:function(e,t){e.width=t,this.cdr.markForCheck()}},{key:"columnsForLevel",value:function(e){return Z$(this.columns?this.columns.filter((function(t){return t.level===e})):[])}},{key:"visible",get:function(){return this.column.resizable?"block":"none"}},{key:"leftStyle",get:function(){return C$(this.rtl)?0:null}},{key:"rightStyle",get:function(){return C$(this.rtl)?null:0}}]),e}()).\u0275fac=function(e){return new(e||cJ)(Ga(Lg,1),Ga(rl),Ga($Z),Ga(Xu),Ga(oa),Ga(Om))},cJ.\u0275dir=zt({type:cJ,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&is("dblclick",(function(){return t.autoFit()})),2&e&&gs("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),cJ),W0=((uJ=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.selectionService=t,this.el=n,this.renderer=i,this.ngZone=r,this.selectAllChange=new lu,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular((function(){o.destroyClick=o.renderer.listen(o.el.nativeElement,"click",o.onClick.bind(o))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setState()}},{key:"ngOnChanges",value:function(){this.stateSet=!0}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick()}},{key:"onClick",value:function(){var e=this,t=this.el.nativeElement.checked,n=this.selectionService.options;this.selectAllChange.emit(t?"checked":"unchecked"),n.enabled&&"multiple"===n.mode&&this.ngZone.run((function(){e.selectionService.updateAll(t)}))}},{key:"setState",value:function(){var e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!k$(e)),this.renderer.setProperty(t,"checked",!!k$(e)&&e)}},{key:"stateToBool",value:function(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}}]),e}()).\u0275fac=function(e){return new(e||uJ)(Ga(eZ),Ga(rl),Ga(ll),Ga(Xu))},uJ.\u0275dir=zt({type:uJ,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&ja("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[Us]}),uJ),q0=((lJ=function(){function e(t,n,i){_classCallCheck(this,e),this.filterService=t,this.popupService=n,this.localization=i,this.filterLabel=this.localization.get("filter")}return _createClass(e,[{key:"toggle",value:function(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),!1}},{key:"close",value:function(){this.popupService.destroy()}},{key:"hasFilters",get:function(){return hX(this.filter,(this.column||{}).field).length>0}}]),e}()).\u0275fac=function(e){return new(e||lJ)(Ga(wZ),Ga(YZ),Ga(Om))},lJ.\u0275cmp=At({type:lJ,selectors:[["kendo-grid-filter-menu"]],inputs:{column:"column",filter:"filter"},decls:5,vars:4,consts:[["href","#",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close"]],template:function(e,t){if(1&e){var n=es();Ka(0,"a",0,1),is("click",(function(){pn(n);var e=Ha(1),i=Ha(4);return t.toggle(e,i)})),Ya(2,"span",2),Za(),Ba(3,OW,1,2,"ng-template",null,3,Au)}2&e&&(qa("ngClass",Jl(2,IW,t.hasFilters)),ja("title",t.filterLabel))},directives:function(){return[lh,Y0]},encapsulation:2}),lJ),$0=function(e){var t=e.value,n=e.operator;return!_$(t)||function(e){return"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e}(n)},K0=function e(t,n,i){return t.reduce((function(t,r){return t||(r.filters?e(r.filters,n,r):r.field===n?i:t)}),void 0)},Z0=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"and",i=K0((e||{}).filters||[],t);return k$(i)?i.logic:n},Y0=((MJ=function(){function e(t,n,i,r){_classCallCheck(this,e),this.parentService=t,this.childService=n,this.localization=i,this.cd=r,this.close=new lu,this.actionsClass="k-action-buttons k-button-group",this._templateContext={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.childService.changes.subscribe((function(t){return e._childFilter=t})),this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"submit",value:function(){var e=function(e){return e.filters=e.filters.filter($0),e}(this.childFilter);if(e.filters.length){var t=this.filter||{filters:[],logic:"and"};fX(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}},{key:"reset",value:function(){var e=this.filter||{filters:[],logic:"and"};fX(e,this.column.field),this.parentService.filter(e),this.close.emit()}},{key:"filter",get:function(){return this._filter},set:function(e){this._filter=iX(e)}},{key:"childFilter",get:function(){return k$(this._childFilter)||(this._childFilter={filters:hX(this.filter,(this.column||{}).field),logic:Z0(this.filter,(this.column||{}).field)}),this._childFilter}},{key:"disabled",get:function(){return!this.childFilter.filters.some($0)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}},{key:"hasTemplate",get:function(){return k$(this.column)&&k$(this.column.filterMenuTemplateRef)}},{key:"clearText",get:function(){return this.localization.get("filterClearButton")}},{key:"filterText",get:function(){return this.localization.get("filterFilterButton")}}]),e}()).\u0275fac=function(e){return new(e||MJ)(Ga(wZ,4),Ga(wZ),Ga(Om),Ga(oa))},MJ.\u0275cmp=At({type:MJ,selectors:[["kendo-grid-filter-menu-container"]],inputs:{actionsClass:"actionsClass",filter:"filter",column:"column"},outputs:{close:"close"},features:[el([wZ])],decls:10,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button"],["type","submit",1,"k-button","k-primary",3,"disabled"],["kendoFilterMenuHost","",3,"filterService","column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ka(0,"form",0),is("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),Ka(1,"div",1),Qa(2,2),Ba(3,EW,2,3,"ng-container",3),Ba(4,RW,2,1,"ng-container",3),Ja(),Ka(5,"div",4),Ka(6,"button",5),Ds(7),Za(),Ka(8,"button",6),Ds(9),Za(),Za(),Za(),Za()),2&e&&(Dr(2),qa("ngSwitch",t.hasTemplate),Dr(1),qa("ngSwitchCase",!1),Dr(1),qa("ngSwitchCase",!0),Dr(1),qa("ngClass",t.actionsClass),Dr(2),Rs(t.clearText),Dr(1),qa("disabled",t.disabled),Dr(1),Rs(t.filterText))},directives:function(){return[HS,x_,MS,Oh,Ih,lh,r1,fh,Dh]},encapsulation:2}),MJ),Q0=((RJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,null)}return _createClass(n,[{key:"operatorChange",value:function(e){this.currentOperator=e}},{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"updateFilter",value:function(e){return Object.assign(this.currentFilter,e),this.filter}},{key:"onChange",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"hostClasses",get:function(){return!1}},{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){this._currentFilter=e}}]),n}(wX)).\u0275fac=function(e){return new(e||RJ)},RJ.\u0275cmp=At({type:RJ,selectors:[["kendo-grid-filter-menu-input-wrapper"]],inputs:{currentFilter:"currentFilter",filterService:"filterService"},features:[Ls],ngContentSelectors:XG,decls:2,vars:3,consts:[["textField","text","valueField","value",3,"data","value","valuePrimitive","valueChange"]],template:function(e,t){1&e&&(ls(),Ka(0,"kendo-dropdownlist",0),is("valueChange",(function(e){return t.operatorChange(e)})),Za(),us(1)),2&e&&qa("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:[$I],encapsulation:2}),RJ),J0=((DJ=function e(){_classCallCheck(this,e),this.operators=[]}).\u0275fac=function(e){return new(e||DJ)},DJ.\u0275cmp=At({type:DJ,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService"},decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-menu-input-wrapper",0),Ya(1,"input",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),Dr(1),qa("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[Q0,v_,yX,S_,BS],encapsulation:2}),DJ),X0=((AJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).logicOperators=uX(i.localization),i.filter={filters:[],logic:"and"},i.extra=!0,i}return _createClass(n,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=uX(this.localization),_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return lX(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return lX(1,this.filter,(this.column||{}).field,this.operator)}}]),n}(xX)).\u0275fac=function(e){return new(e||AJ)(Ga(Om))},AJ.\u0275cmp=At({type:AJ,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Ls],decls:3,vars:7,consts:[[3,"currentFilter","operators","filterService","column","filter"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter"]],template:function(e,t){1&e&&(Ya(0,"kendo-grid-string-filter-menu-input",0),Ba(1,MW,1,3,"kendo-dropdownlist",1),Ba(2,FW,1,5,"kendo-grid-string-filter-menu-input",2)),2&e&&(qa("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter),Dr(1),qa("ngIf",t.extra),Dr(1),qa("ngIf",t.extra))},directives:[J0,fh,$I],encapsulation:2}),AJ),e1=((EJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).logicOperators=uX(i.localization),i.filter={filters:[],logic:"and"},i.extra=!0,i}return _createClass(n,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=uX(this.localization),_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return lX(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return lX(1,this.filter,(this.column||{}).field,this.operator)}}]),n}(mX)).\u0275fac=function(e){return new(e||EJ)(Ga(Om))},EJ.\u0275cmp=At({type:EJ,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Ls],decls:3,vars:13,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Ya(0,"kendo-grid-numeric-filter-menu-input",0),Ba(1,PW,1,3,"kendo-dropdownlist",1),Ba(2,zW,1,11,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(qa("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),Dr(1),qa("ngIf",t.extra),Dr(1),qa("ngIf",t.extra))},directives:function(){return[t1,fh,$I]},encapsulation:2}),EJ),t1=((IJ=function e(){_classCallCheck(this,e),this.operators=[],this.step=1,this.spinners=!0}).\u0275fac=function(e){return new(e||IJ)},IJ.\u0275cmp=At({type:IJ,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-filter-menu-input-wrapper",0),Ya(1,"kendo-numerictextbox",1),Za()),2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),Dr(1),qa("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:[Q0,lL,yX],encapsulation:2}),IJ),n1=((OJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).logicOperators=uX(i.localization),i.filter={filters:[],logic:"and"},i.extra=!0,i}return _createClass(n,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=uX(this.localization),_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return lX(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return lX(1,this.filter,(this.column||{}).field,this.operator)}}]),n}(MX)).\u0275fac=function(e){return new(e||OJ)(Ga(Om))},OJ.\u0275cmp=At({type:OJ,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Ls],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"]],template:function(e,t){1&e&&(Ya(0,"kendo-grid-date-filter-menu-input",0),Ba(1,NW,1,3,"kendo-dropdownlist",1),Ba(2,LW,1,14,"kendo-grid-date-filter-menu-input",2)),2&e&&(qa("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),Dr(1),qa("ngIf",t.extra),Dr(1),qa("ngIf",t.extra))},directives:function(){return[o1,fh,$I]},encapsulation:2}),OJ),i1=((TJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).filter={filters:[],logic:"and"},i.idPrefix=Ng(),i}return _createClass(n,[{key:"radioId",value:function(e){return"".concat(this.idPrefix,"_").concat(e)}},{key:"onChange",value:function(e){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e}))}},{key:"isSelected",value:function(e){return this.filtersByField(this.column.field).some((function(t){return t.value===e}))}},{key:"hostClasses",get:function(){return!1}}]),n}(AX)).\u0275fac=function(e){return new(e||TJ)(Ga(Om))},TJ.\u0275cmp=At({type:TJ,selectors:[["kendo-grid-boolean-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService"},features:[Ls],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio",1,"k-radio",3,"name","checked","change"],[1,"k-radio-label"]],template:function(e,t){1&e&&(Ka(0,"ul",0),Ba(1,jW,4,5,"li",1),Za()),2&e&&(Dr(1),qa("ngForOf",t.items))},directives:[ch],encapsulation:2}),TJ),r1=((xJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"componentType",value:function(){return k$(this.column)&&!_$(this.column.filter)?{boolean:i1,date:n1,numeric:e1,text:X0}[this.column.filter]:X0}},{key:"initComponent",value:function(e){_get(_getPrototypeOf(n.prototype),"initComponent",this).call(this,e),this.component.instance.filterService=this.filterService}}]),n}(n0)).\u0275fac=function(e){return new(e||xJ)(Ga(El),Ga(il))},xJ.\u0275dir=zt({type:xJ,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService"},features:[Ls]}),xJ),o1=((SJ=function(){function e(t){_classCallCheck(this,e),this.popupService=t,this.operators=[]}return _createClass(e,[{key:"open",value:function(e){this.subscription=this.popupService.onClose.pipe(If((function(){return e.isActive}))).subscribe((function(e){return e.preventDefault()}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||SJ)(Ga(YZ))},SJ.\u0275cmp=At({type:SJ,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""]],template:function(e,t){if(1&e){var n=es();Ka(0,"kendo-grid-filter-menu-input-wrapper",0),Ka(1,"kendo-datepicker",1,2),is("open",(function(){pn(n);var e=Ha(2);return t.open(e)})),Za(),Za()}2&e&&(qa("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),Dr(1),qa("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber))},directives:[Q0,LH,yX],encapsulation:2}),SJ),a1=((_J=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[X0,V$,e1,n1,i1,t0.exports()]}}]),e}()).\u0275mod=Ft({type:_J}),_J.\u0275inj=Oe({factory:function(e){return new(e||_J)},imports:[[t0],t0]}),_J),s1=((CJ=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.reset=new lu,this.apply=new lu,this.columnChange=new lu,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}return _createClass(e,[{key:"isDisabled",value:function(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find((function(t){return t!==e&&!t.hidden})))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}},{key:"ngOnInit",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){e.domSubscriptions=e.renderer.listen(e.element.nativeElement,"click",(function(t){if(zZ(t.target,"k-checkbox"))if(e.autoSync){var n=parseInt(t.target.getAttribute("data-index"),10),i=e.columns[n],r=!t.target.checked;Boolean(i.hidden)!==r&&e.ngZone.run((function(){i.hidden=r,e.columnChange.emit([i])}))}else e.updateDisabled()}))}))}},{key:"ngOnDestroy",value:function(){this.domSubscriptions&&this.domSubscriptions()}},{key:"cancelChanges",value:function(){var e=this;this.forEachCheckBox((function(t,n){t.checked=!e.columns[n].hidden})),this.updateDisabled(),this.reset.emit()}},{key:"applyChanges",value:function(){var e=this,t=[];this.forEachCheckBox((function(n,i){var r=e.columns[i],o=!n.checked;Boolean(r.hidden)!==o&&(r.hidden=o,t.push(r))})),this.updateDisabled(),this.apply.emit(t)}},{key:"forEachCheckBox",value:function(e){for(var t=this.element.nativeElement.getElementsByClassName("k-checkbox"),n=t.length,i=0;i<n;i++)e(t[i],i)}},{key:"updateDisabled",value:function(){if(!this.allowHideAll||this.hasLocked){var e=[];if(this.forEachCheckBox((function(t,n){t.checked&&e.push({checkbox:t,index:n}),t.disabled=!1})),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){var t=this.columns,n=e.filter((function(e){return!t[e.index].locked}));1===n.length&&(n[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}}},{key:"updateColumnState",value:function(){this.hasLocked=this.allColumns.filter((function(e){return e.locked&&(!e.hidden||!1!==e.includeInChooser)})).length>0,this.hasVisibleLocked=this.allColumns.filter((function(e){return e.locked&&!e.hidden})).length>0,this.unlockedCount=this.columns.filter((function(e){return!e.locked&&!e.hidden})).length;var e=this.allColumns.filter((function(e){return!1===e.includeInChooser&&!e.hidden}));e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter((function(e){return!e.locked})).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}},{key:"className",get:function(){return!0}},{key:"columns",set:function(e){this._columns=e.filter((function(e){return!1!==e.includeInChooser})),this.allColumns=e,this.updateColumnState()},get:function(){return this._columns}}]),e}()).\u0275fac=function(e){return new(e||CJ)(Ga(rl),Ga(Xu),Ga(ll))},CJ.\u0275cmp=At({type:CJ,selectors:[["kendo-grid-columnlist"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"click"]],template:function(e,t){1&e&&(Ka(0,"div",0),Ba(1,VW,4,4,"label",1),Za(),Ba(2,BW,5,3,"div",2)),2&e&&(Dr(1),qa("ngForOf",t.columns),Dr(1),qa("ngIf",!t.autoSync))},directives:[ch,fh,lh],encapsulation:2}),CJ),l1=((wJ=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.localization=t,this.columnInfoService=n,this.popupService=i,this.ngZone=r,this.renderer=o,this.changeDetector=a,this.autoSync=!1,this.allowHideAll=!0}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.close()}},{key:"toggle",value:function(e,t){var n=this;if(this.popupRef)this.close();else{var i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular((function(){return n.closeClick=n.renderer.listen("document","click",(function(t){var i=t.target;jZ(i,(function(t){return t===n.popupRef.popupElement||t===e}))||n.close()}))}))}}},{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"onChange",value:function(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}},{key:"close",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}},{key:"detachClose",value:function(){this.closeClick&&(this.closeClick(),this.closeClick=null)}},{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}}]),e}()).\u0275fac=function(e){return new(e||wJ)(Ga(Om),Ga(RY),Ga(Ry),Ga(Xu),Ga(ll),Ga(oa))},wJ.\u0275cmp=At({type:wJ,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){var n=es();Ka(0,"button",0,1),is("click",(function(){pn(n);var e=Ha(1),i=Ha(4);return t.toggle(e,i)})),Ya(2,"span",2),Za(),Ba(3,HW,3,6,"ng-template",null,3,Au)}2&e&&ja("title",t.localization.get("columns"))},directives:[s1],encapsulation:2}),wJ),u1=((bJ=function(){function e(){_classCallCheck(this,e),this.closeMenu=new lu}return _createClass(e,[{key:"close",value:function(){this.closeMenu.emit()}}]),e}()).\u0275fac=function(e){return new(e||bJ)},bJ.\u0275prov=xe({token:bJ,factory:bJ.\u0275fac}),bJ),c1=((kJ=function(){function e(){_classCallCheck(this,e),this.hostClass=!0}return _createClass(e,[{key:"ngOnInit",value:function(){if(Ni()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}},{key:"close",value:function(){this.service.close()}}]),e}()).\u0275fac=function(e){return new(e||kJ)},kJ.\u0275dir=zt({type:kJ,hostVars:2,hostBindings:function(e,t){2&e&&ys("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),kJ),h1=((yJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).localization=e,o.columnInfoService=i,o.changeDetector=r,o.expand=new lu,o.collapse=new lu,o.expanded=!1,o.actionsClass="k-columnmenu-actions",o}return _createClass(n,[{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}}]),n}(c1)).\u0275fac=function(e){return new(e||yJ)(Ga(Om),Ga(RY),Ga(oa))},yJ.\u0275cmp=At({type:yJ,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[Ls],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","apply"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-columnmenu-item",0),is("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),Ba(1,GW,1,6,"ng-template",1),Za()),2&e&&qa("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[p1,d1,s1]},encapsulation:2}),yJ),f1=((gJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).localization=e,i.expand=new lu,i.collapse=new lu,i.expanded=!1,i.actionsClass="k-columnmenu-actions",i}return n}(c1)).\u0275fac=function(e){return new(e||gJ)(Ga(Om))},gJ.\u0275cmp=At({type:gJ,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[Ls],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","filter","actionsClass","close"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-columnmenu-item",0),is("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),Ba(1,UW,1,3,"ng-template",1),Za()),2&e&&qa("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[p1,d1,Y0]},encapsulation:2}),gJ),d1=((mJ=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||mJ)(Ga(Ol,8))},mJ.\u0275dir=zt({type:mJ,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),mJ),p1=((vJ=function(){function e(){_classCallCheck(this,e),this.itemClick=new lu,this.expand=new lu,this.collapse=new lu,this.contentState="collapsed"}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.expanded&&this.updateContentState()}},{key:"onClick",value:function(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}},{key:"updateContentState",value:function(){this.contentState=this.expanded?"expanded":"collapsed"}},{key:"iconClass",get:function(){return"k-i-"+this.icon}}]),e}()).\u0275fac=function(e){return new(e||vJ)},vJ.\u0275cmp=At({type:vJ,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,d1,!0),2&e&&ku(i=Tu())&&(t.contentTemplate=i.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[Us],decls:4,vars:7,consts:[[1,"k-columnmenu-item",3,"click"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Ka(0,"div",0),is("click",(function(e){return t.onClick(e)})),Ba(1,WW,1,1,"span",1),Ds(2),Za(),Ba(3,qW,3,2,"div",2)),2&e&&(ys("k-state-selected",t.selected)("k-state-disabled",t.disabled),Dr(1),qa("ngIf",t.icon),Dr(1),Ms(" ",t.text," "),Dr(1),qa("ngIf",t.contentTemplate))},directives:[fh,lh,Dh],encapsulation:2,data:{animation:[um("state",[dm("collapsed",fm({display:"none"})),dm("expanded",fm({display:"block"})),pm("collapsed => expanded",[fm({height:"0px",display:"block"}),cm("100ms ease-in",fm({height:"*"}))]),pm("expanded => collapsed",[fm({height:"*"}),cm("100ms ease-in",fm({height:"0px"}))])])]}}),vJ),v1=((pJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).localization=e,r.sortService=i,r}return _createClass(n,[{key:"toggleSort",value:function(e){var t=this.service.column.field,n=R0(this.service.sortable),i=n.mode,r=n.allowUnsort,o=this.descriptor,a="multiple"===i?this.service.sort.filter((function(e){return e.field!==t})):[];if(o&&o.dir===e){if(!r)return}else a.push({field:t,dir:e});this.sortService.sort(a),this.close()}},{key:"sortedAsc",get:function(){var e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}},{key:"sortedDesc",get:function(){var e=this.descriptor;return e&&"desc"===e.dir}},{key:"descriptor",get:function(){var e=this;return[].concat(this.service.sort||[]).find((function(t){return t.field===e.service.column.field}))}}]),n}(c1)).\u0275fac=function(e){return new(e||pJ)(Ga(Om),Ga(MY))},pJ.\u0275cmp=At({type:pJ,selectors:[["kendo-grid-columnmenu-sort"]],features:[Ls],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-columnmenu-item",0),is("itemClick",(function(){return t.toggleSort("asc")})),Za(),Ka(1,"kendo-grid-columnmenu-item",1),is("itemClick",(function(){return t.toggleSort("desc")})),Za()),2&e&&(qa("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),Dr(1),qa("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[p1],encapsulation:2}),pJ),m1=((dJ=function(){function e(t,n,i){_classCallCheck(this,e),this.popupService=t,this.localization=n,this.service=i,this.standalone=!0,this.settings={},this.sortable=!0,this.expandedFilter=!1,this.expandedColumns=!1,this.closeSubscription=i.closeMenu.subscribe(this.close.bind(this))}return _createClass(e,[{key:"ngOnChanges",value:function(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}},{key:"ngOnDestroy",value:function(){this.close(),this.closeSubscription.unsubscribe()}},{key:"toggle",value:function(e,t,n){e.preventDefault(),this.expandedFilter=!this.hasColumnChooser,this.expandedColumns=!this.hasFilter,this.popupRef=this.popupService.open(t,n,this.popupRef,"k-grid-columnmenu-popup")}},{key:"close",value:function(){this.popupService.destroy(),this.popupRef=null}},{key:"onColumnsExpand",value:function(){this.expandedColumns=!0,this.expandedFilter=!1}},{key:"onFilterExpand",value:function(){this.expandedFilter=!0,this.expandedColumns=!1}},{key:"isActive",get:function(){var e=this;return this.hasFilter&&hX(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find((function(t){return t.field===e.column.field}))}},{key:"hasFilter",get:function(){return M0(this.settings,this.column)}},{key:"hasSort",get:function(){return F0(this.settings,this.column)}},{key:"hasColumnChooser",get:function(){return z0(this.settings)}},{key:"hasLock",get:function(){return P0(this.settings,this.column)}}]),e}()).\u0275fac=function(e){return new(e||dJ)(Ga(YZ),Ga(Om),Ga(u1))},dJ.\u0275cmp=At({type:dJ,selectors:[["kendo-grid-column-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[el([u1]),Us],decls:7,vars:4,consts:[["href","#","tabindex","-1",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"service",4,"ngIf"],[3,"service","expanded","expand",4,"ngIf"],[3,"service"],[3,"service","expanded","expand"]],template:function(e,t){if(1&e){var n=es();Ka(0,"a",0,1),is("click",(function(e){pn(n);var i=Ha(1),r=Ha(4);return t.toggle(e,i,r)})),Ya(2,"span",2),Za(),Ba(3,KW,1,5,"ng-template",null,3,Au),Ba(5,XW,4,4,"ng-template",null,4,Au)}2&e&&(qa("ngClass",Jl(2,eq,t.isActive)),ja("title",t.localization.get("columnMenu")))},directives:function(){return[lh,Dh,fh,v1,g1,h1,f1]},encapsulation:2}),dJ),g1=((fJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this)).localization=e,o.columnInfoService=i,o.changeDetector=r,o}return _createClass(n,[{key:"toggleColumn",value:function(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}},{key:"toggleHierarchy",value:function(e){for(var t=this.service.column;t.parent;)t=t.parent;for(var n=[t],i=[];n.length;){var r=n.shift();r.locked=e,i.push(r),r.hasChildren&&n.push.apply(n,_toConsumableArray(r.childrenArray))}this.columnInfoService.changeLocked(i)}},{key:"text",get:function(){return this.localization.get(this.locked?"unlock":"lock")}},{key:"icon",get:function(){return this.locked?"unlock":"lock"}},{key:"disabled",get:function(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}},{key:"locked",get:function(){return this.service.column.locked}}]),n}(c1)).\u0275fac=function(e){return new(e||fJ)(Ga(Om),Ga(RY),Ga(oa))},fJ.\u0275cmp=At({type:fJ,selectors:[["kendo-grid-columnmenu-lock"]],features:[Ls],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Ka(0,"kendo-grid-columnmenu-item",0),is("itemClick",(function(){return t.toggleColumn()})),Za()),2&e&&qa("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[p1],encapsulation:2}),fJ),y1=((hJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[l1,f1,p1,d1,v1,g1,h1,p$,m1]}}]),e}()).\u0275mod=Ft({type:hJ}),hJ.\u0275inj=Oe({factory:function(e){return new(e||hJ)},imports:[[Rh,a1]]}),hJ),k1=[Rh,A0,r0,a1,JX,E0,y1],b1=((UJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[f$,W0]}}]),e}()).\u0275mod=Ft({type:UJ}),UJ.\u0275inj=Oe({factory:function(e){return new(e||UJ)},imports:[[].concat(k1)]}),UJ),w1=((GJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).parent=e,i}return _createClass(n,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),n}(g$)).\u0275fac=function(e){return new(e||GJ)(Ga(g$,13))},GJ.\u0275cmp=At({type:GJ,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,s$,!0),2&e&&ku(i=Tu())&&(t.template=i.first)},features:[el([{provide:g$,useExisting:je((function(){return GJ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),GJ),C1=((HJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).parent=e,i.isCheckboxColumn=!0,i}return _createClass(n,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),n}(g$)).\u0275fac=function(e){return new(e||HJ)(Ga(g$,13))},HJ.\u0275cmp=At({type:HJ,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,s$,!0),2&e&&ku(i=Tu())&&(t.template=i.first)},inputs:{showSelectAll:"showSelectAll"},features:[el([{provide:g$,useExisting:je((function(){return HJ}))}]),Ls],decls:0,vars:0,template:function(e,t){},encapsulation:2}),HJ),_1=((BJ=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.selectionService=t,this.el=n,this.renderer=i,this.ngZone=r,this.type="checkbox",this.ngZone.runOutsideAngular((function(){o.destroyClick=o.renderer.listen(o.el.nativeElement,"click",o.onClick.bind(o)),o.destroyKeyDown=o.renderer.listen(o.el.nativeElement,"keydown",o.onKeyDown.bind(o))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setCheckedState()}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}},{key:"onClick",value:function(){var e=this;this.selectionService.options.enabled&&this.ngZone.run((function(){var t=e.selectionService.toggleByIndex(e.itemIndex);t.ctrlKey=!0,t.shiftKey=!1,e.selectionService.changes.emit(t)}))}},{key:"onKeyDown",value:function(e){e.keyCode===Jg.Enter&&this.onClick()}},{key:"setCheckedState",value:function(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}}]),e}()).\u0275fac=function(e){return new(e||BJ)(Ga(eZ),Ga(rl),Ga(ll),Ga(Xu))},BJ.\u0275dir=zt({type:BJ,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&ja("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),BJ),S1=((VJ=function(){function e(t,n,i,r,o,a,s,l,u,c,h,f){var d=this;_classCallCheck(this,e),this.detailsService=t,this.groupsService=n,this.changeNotification=i,this.editService=r,this.localization=o,this.ngZone=a,this.renderer=s,this.element=l,this.domEvents=u,this.selectionService=c,this.columnInfoService=h,this.navigationService=f,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=zY,this.rowClass=function(){return null},this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe((function(e){return d.cellKeydownHandler(e)})),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}return _createClass(e,[{key:"toggleRow",value:function(e,t){return this.detailsService.toggleRow(e,t),!1}},{key:"isExpanded",value:function(e){return this.detailsService.isExpanded(e.index,e.data)}},{key:"detailButtonStyles",value:function(e){return this.isExpanded(e)?"k-minus":"k-plus"}},{key:"detailButtonTitle",value:function(e){var t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}},{key:"isGroup",value:function(e){return"group"===e.type}},{key:"isDataItem",value:function(e){return!this.isGroup(e)&&!this.isFooter(e)}},{key:"isFooter",value:function(e){return"footer"===e.type}},{key:"isInExpandedGroup",value:function(e){return this.groupsService.isInExpandedGroup(e.groupIndex,!1)}},{key:"isParentGroupExpanded",value:function(e){return this.groupsService.isInExpandedGroup(e.index||e.groupIndex)}},{key:"isOdd",value:function(e){return e.index%2!=0}},{key:"isSelectable",value:function(){return this.selectable&&!1!==this.selectable.enabled}},{key:"isRowSelected",value:function(e){return this.selectionService.isSelected(e.index)}},{key:"trackByWrapper",value:function(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}},{key:"trackByColumns",value:function(e,t){return this.virtualColumns?e:t}},{key:"ngDoCheck",value:function(){this.groupHeaderColumns=this.hasGroupHeaderColumn?Z$(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}},{key:"ngOnChanges",value:function(e){Fg("columns",e,!1)&&this.changeNotification.notify()}},{key:"logicalRowIndex",value:function(e){var t=this.skip+e;this.hasDetailTemplate&&(t*=2);var n=1+t,i=this.editService.hasNewItem?1:0,r=KZ(this.filterable)?1:0;return n+(this.columnInfoService.totalLevels+r+i)}},{key:"addRowLogicalIndex",value:function(){return this.columnInfoService.totalLevels+1}},{key:"logicalColIndex",value:function(e){return k$(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.clickHandler.bind(e),n=e.renderer.listen(e.element.nativeElement,"mousedown",t),i=e.renderer.listen(e.element.nativeElement,"click",t),r=e.renderer.listen(e.element.nativeElement,"contextmenu",t);e.clickSubscription=function(){n(),i(),r()}}));var t=this.localization.get("noRecords");this.localization.changes.subscribe((function(){e.noRecordsText===t&&(e.noRecordsText=e.localization.get("noRecords"),t=e.noRecordsText)}))}},{key:"ngOnDestroy",value:function(){this.clickSubscription&&this.clickSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}},{key:"isEditingCell",value:function(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}},{key:"isEditingRow",value:function(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}},{key:"showGroupHeader",value:function(e){return!e.data.skipHeader}},{key:"clickHandler",value:function(e){var t,n,i,r,o=this,a=this.element.nativeElement,s=e.target,l=s;do{t=jZ(l,LZ("td")),n=jZ(t,LZ("tr")),i=jZ(n,LZ("tbody")),r=VZ(l=i,NZ("k-grid"),a)}while(i&&i!==a&&!r);if(t&&!zZ(t,"k-hierarchy-cell k-detail-cell k-group-cell")&&!zZ(n,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&i===a&&!r&&(this.editService.preventCellClose(),!(s!==t&&GZ(s,!1)||LZ("label")(s)||zZ(s,"k-icon")||VZ(s,NZ("k-widget k-grid-ignore-click"),t)))){var u=this.cellClickArgs(t,n,e);"mousedown"===e.type?this.domEvents.cellMousedown.emit(u):!u.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout((function(){o.emitCellClick(u)}),0):this.emitCellClick(u))}}},{key:"emitCellClick",value:function(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}},{key:"cellKeydownHandler",value:function(e){e.keyCode===Jg.Enter&&this.clickHandler(e)}},{key:"cellClickArgs",value:function(e,t,n){var i=function(e,t){for(var n=0,i=0;i<t.length;i++){if(t[i]===e)return n;zZ(t[i],"k-hierarchy-cell k-group-cell")||n++}}(e,t.cells),r=this.columns.toArray()[i],o=this.lockedColumnsCount+i,a=t.getAttribute("data-kendo-grid-item-index");return{column:r,columnIndex:o,dataItem:-1===(a=a?parseInt(a,10):-1)?this.editService.newDataItem:this.data.at(a-this.skip),isEditedColumn:this.editService.isEditedColumn(a,r),isEditedRow:this.editService.isEdited(a),originalEvent:n,rowIndex:a,type:"keydown"===n.type?"click":n.type}}},{key:"newDataItem",get:function(){return this.editService.newDataItem}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}},{key:"hasGroupHeaderColumn",get:function(){return this.columnsContainer.hasGroupHeaderColumn}},{key:"columnsContainer",get:function(){return this.columnInfoService.columnsContainer}},{key:"columnsSpan",get:function(){return J$(this.columns)}},{key:"allColumnsSpan",get:function(){return J$(this.allColumns||this.columns)}},{key:"colSpan",get:function(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}},{key:"footerColumns",get:function(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}},{key:"hasDetailTemplate",get:function(){return k$(this.detailTemplate)}}]),e}()).\u0275fac=function(e){return new(e||VJ)(Ga(lZ),Ga(cZ),Ga(mZ),Ga(oZ),Ga(Om),Ga(Xu),Ga(ll),Ga(rl),Ga(JK),Ga(eZ),Ga(RY),Ga(IY))},VJ.\u0275cmp=At({type:VJ,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns"},features:[Us],attrs:tq,decls:3,vars:4,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell","aria-selected","false",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","k-grid-edit-cell","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell","aria-selected","false",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"],[3,"templateContext"]],template:function(e,t){1&e&&(Ba(0,aq,4,8,"ng-template",0),Ba(1,cq,4,6,"tr",1),Ba(2,Aq,4,4,"ng-template",2)),2&e&&(qa("ngIf",t.editService.hasNewItem),Dr(1),qa("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),Dr(1),qa("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper))},directives:function(){return[fh,ch,GX,BX,x1,lh,Ah,LX,m0,Dh]},encapsulation:2}),VJ),x1=((jJ=function(){function e(t,n,i){_classCallCheck(this,e),this.editService=t,this.idService=n,this.cellContext=i,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}return _createClass(e,[{key:"ngDoCheck",value:function(){this.updateCellContext()}},{key:"ngOnChanges",value:function(e){this.updateTemplateContext()}},{key:"isCommand",value:function(e){return e instanceof w1}},{key:"isFieldEditable",value:function(e,t){return!!k$(e)&&(!!k$(t.editTemplate)||k$(e.group)&&k$(e.group.get(t.field)))}},{key:"updateCellContext",value:function(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}},{key:"updateTemplateContext",value:function(){if(this.column.templateRef){var e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}}},{key:"commandCellClass",get:function(){return this.isCommand(this.column)}},{key:"rowIndex",set:function(e){this._rowIndex=e,this.updateCellContext()},get:function(){return this._rowIndex}},{key:"isEdited",get:function(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;var e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}},{key:"formGroup",get:function(){return this.editService.context(this.rowIndex).group}},{key:"templateContext",get:function(){return this._templateContext}},{key:"editTemplateContext",get:function(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}},{key:"format",get:function(){if(B$(this.column)&&!_$(this.column.format))return I$(this.column.format)}},{key:"isBoundColumn",get:function(){return this.column.field&&!this.column.templateRef}},{key:"isCheckboxColumn",get:function(){return m$(this.column)&&!this.column.templateRef}},{key:"selectionCheckboxId",get:function(){return this.idService.selectionCheckboxId(this.rowIndex)}},{key:"isSpanColumn",get:function(){return v$(this.column)&&!this.column.templateRef}},{key:"childColumns",get:function(){return Z$([this.column])}},{key:"isColumnEditable",get:function(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}}]),e}()).\u0275fac=function(e){return new(e||jJ)(Ga(oZ),Ga(DY),Ga(bZ,8))},jJ.\u0275cmp=At({type:jJ,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[Us],attrs:Dq,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[1,"k-checkbox-label"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(Qa(0,0),Ba(1,Nq,5,6,"ng-container",1),Ba(2,Wq,3,2,"ng-container",1),Ja()),2&e&&(qa("ngSwitch",t.isEdited),Dr(1),qa("ngSwitchCase",!1),Dr(1),qa("ngSwitchCase",!0))},directives:[Oh,Ih,fh,Dh,ch,pY,_1,Eh,lL,S_,WS,LH,f_,v_],pipes:[WX],encapsulation:2}),jJ),T1=((LJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s){var l;return _classCallCheck(this,n),(l=t.call(this,r,o,null,a,s)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"none":""}}]),n}(Yy)).\u0275fac=function(e){return new(e||LJ)(Ga(oZ),Ga(bZ),Ga(rl),Ga(ll),Ga(Om),Ga(Xu))},LJ.\u0275dir=zt({type:LJ,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)})),2&e&&(gs("display",t.visible),ys("k-grid-edit-command",t.commandClass))},features:[Ls]}),LJ),O1=((NJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s){var l;return _classCallCheck(this,n),(l=t.call(this,r,o,null,a,s)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"":"none"}}]),n}(Yy)).\u0275fac=function(e){return new(e||NJ)(Ga(oZ),Ga(bZ),Ga(rl),Ga(ll),Ga(Om),Ga(Xu))},NJ.\u0275dir=zt({type:NJ,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)})),2&e&&(gs("display",t.visible),ys("k-grid-cancel-command",t.commandClass))},features:[Ls]}),NJ),I1=((zJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s){var l;return _classCallCheck(this,n),(l=t.call(this,r,o,null,a,s)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"":"none"}}]),n}(Yy)).\u0275fac=function(e){return new(e||zJ)(Ga(oZ),Ga(bZ),Ga(rl),Ga(ll),Ga(Om),Ga(Xu))},zJ.\u0275dir=zt({type:zJ,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)})),2&e&&(gs("display",t.visible),ys("k-grid-save-command",t.commandClass))},features:[Ls]}),zJ),E1=((PJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s){var l;return _classCallCheck(this,n),(l=t.call(this,r,o,null,a,s)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.remove(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"none":""}}]),n}(Yy)).\u0275fac=function(e){return new(e||PJ)(Ga(oZ),Ga(bZ),Ga(rl),Ga(ll),Ga(Om),Ga(Xu))},PJ.\u0275dir=zt({type:PJ,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)})),2&e&&(gs("display",t.visible),ys("k-grid-remove-command",t.commandClass))},features:[Ls]}),PJ),A1=((FJ=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,i,r,null,o,a)).editService=e,s}return _createClass(n,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginAdd()}},{key:"commandClass",get:function(){return!0}}]),n}(Yy)).\u0275fac=function(e){return new(e||FJ)(Ga(oZ),Ga(rl),Ga(ll),Ga(Om),Ga(Xu))},FJ.\u0275dir=zt({type:FJ,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&is("click",(function(e){return t.onClick(e)})),2&e&&ys("k-grid-add-command",t.commandClass)},features:[Ls]}),FJ),D1=[Rh,ZS,KS,JX,A0,pL,aG],R1=((qJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[w1,C1,_1,s$,gZ,c$,T1,O1,I1,E1,A1]}}]),e}()).\u0275mod=Ft({type:qJ}),qJ.\u0275inj=Oe({factory:function(e){return new(e||qJ)},imports:[[].concat(D1)]}),qJ),M1=((WJ=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[],this.lockedColumnsCount=0}return _createClass(e,[{key:"footerClass",get:function(){return!this.scrollable}},{key:"columnsToRender",get:function(){return Z$(this.columns||[])}}]),e}()).\u0275fac=function(e){return new(e||WJ)},WJ.\u0275cmp=At({type:WJ,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:qq,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-cell",4,"ngFor","ngForOf"],[3,"k-hierarchy-cell",4,"ngIf"],[3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[3,"ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&Ba(0,Qq,4,5,"ng-template",0),2&e&&qa("ngIf",!0)},directives:[fh,ch,lh,Ah,LX],encapsulation:2}),WJ),F1=[Rh,JX],P1=((ZJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[]}}]),e}()).\u0275mod=Ft({type:ZJ}),ZJ.\u0275inj=Oe({factory:function(e){return new(e||ZJ)},imports:[[].concat(F1)]}),ZJ),z1=((KJ=function(){function e(t){_classCallCheck(this,e),this.grid=t,this.context={}}return _createClass(e,[{key:"classNames",get:function(){return"k-header k-grid-toolbar"}},{key:"position",set:function(e){this.context.position=e}},{key:"toolbarTemplateRef",get:function(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}}]),e}()).\u0275fac=function(e){return new(e||KJ)(Ga(BY))},KJ.\u0275cmp=At({type:KJ,selectors:[["kendo-grid-toolbar"]],hostVars:2,hostBindings:function(e,t){2&e&&ks(t.classNames)},inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ba(0,Xq,1,2,void 0,0),2&e&&qa("ngIf",t.toolbarTemplateRef)},directives:[fh,Dh],encapsulation:2}),KJ),N1=(($J=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:$J}),$J.\u0275inj=Oe({factory:function(e){return new(e||$J)},imports:[[Rh,A0,JX,R1,b1,P1,v0,r0,a1,Yg,y1]]}),$J),L1=["kendoMenuList",""];function j1(e,t){if(1&e&&Ya(0,"li",3),2&e){var n=as(),i=n.index,r=n.$implicit,o=as();ys("k-first",0===i)("k-last",i===o.items.length-1)("k-state-disabled",r.disabled),qa("item",r)("level",o.level)("vertical",o.vertical)("animate",o.animate)("rtl",o.rtl)("itemTemplate",o.itemTemplate)("itemLinkTemplate",o.itemLinkTemplate)("openOnClick",o.openOnClick)("index",o.hierarchyIndex(i))("siblingIndex",i)("ngClass",r.cssClass)("ngStyle",r.cssStyle),ja("data-kendo-menu-index",o.hierarchyIndex(i))}}function V1(e,t){if(1&e&&(Ka(0,"li",4),Ds(1," \xa0 "),Za()),2&e){var n=as().$implicit;qa("ngClass",n.cssClass)("ngStyle",n.cssStyle)}}function B1(e,t){if(1&e&&(Qa(0),Ba(1,j1,1,19,"li",1),Ba(2,V1,2,2,"li",2),Ja()),2&e){var n=t.$implicit;Dr(1),qa("ngIf",!n.separator),Dr(1),qa("ngIf",n.separator)}}var H1=["link"],G1=["popupTemplate"],U1=["kendoMenuItem",""];function W1(e,t){}function q1(e,t){if(1&e&&(Ka(0,"span",6,7),Ba(2,W1,0,0,"ng-template",8),Za()),2&e){var n=as(),i=Ha(7);ys("k-state-active",n.opened),Dr(2),qa("ngTemplateOutlet",i)}}function $1(e,t){}function K1(e,t){if(1&e&&(Ka(0,"a",9,7),Ba(2,$1,0,0,"ng-template",8),Za()),2&e){var n=as(),i=Ha(7);ys("k-state-active",n.opened),ja("href",n.item.url,cr),Dr(2),qa("ngTemplateOutlet",i)}}function Z1(e,t){}var Y1=function(e,t){return{item:e,index:t}};function Q1(e,t){if(1&e&&Ba(0,Z1,0,0,"ng-template",10),2&e){var n=as();qa("ngTemplateOutlet",n.linkTemplate)("ngTemplateOutletContext",Xl(2,Y1,n.item,n.index))}}function J1(e,t){}function X1(e,t){if(1&e&&(Ka(0,"div",11),Ba(1,J1,0,0,"ng-template",10),Za()),2&e){var n=as();Dr(1),qa("ngTemplateOutlet",n.item.content)("ngTemplateOutletContext",Xl(2,Y1,n.item.owner,n.item.ownerIndex))}}function e2(e,t){if(1&e&&Ya(0,"ul",12),2&e){var n=as();qa("animate",n.animate)("rtl",n.rtl)("vertical",n.vertical)("openOnClick",n.openOnClick)("items",n.children)("level",n.level+1)("index",n.index)("itemTemplate",n.itemTemplate)("itemLinkTemplate",n.itemLinkTemplate),ja("id",n.childId)}}function t2(e,t){1&e&&Ya(0,"span",15),2&e&&qa("ngClass",as(2).iconClass)}function n2(e,t){if(1&e&&(Qa(0),Ds(1),Ja()),2&e){var n=as(2);Dr(1),Ms(" ",n.item.text," ")}}function i2(e,t){}function r2(e,t){if(1&e&&Ba(0,i2,0,0,"ng-template",10),2&e){var n=as(2);qa("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Xl(2,Y1,n.item,n.index))}}function o2(e,t){if(1&e&&Ya(0,"span",16),2&e){var n=as(2);ys("k-i-arrow-60-down",!n.horizontal)("k-i-arrow-60-right",n.horizontal&&!n.rtl)("k-i-arrow-60-left",n.horizontal&&n.rtl)}}function a2(e,t){if(1&e&&(Ba(0,t2,1,1,"span",13),Ba(1,n2,2,1,"ng-container",2),Ba(2,r2,1,5,void 0,2),Ba(3,o2,1,6,"span",14)),2&e){var n=as();qa("ngIf",n.item.icon),Dr(1),qa("ngIf",!n.template),Dr(1),qa("ngIf",n.template),Dr(1),qa("ngIf",n.hasContent)}}var s2=["default"];function l2(e,t){if(1&e&&Ya(0,"kendo-menu",1),2&e){var n=as();qa("items",n.rootItems)("vertical",n.vertical)("openOnClick",n.openOnClick)("hoverDelay",n.hoverDelay)("animate",n.animate)("menuItemTemplate",null==n.itemTemplate.first?null:n.itemTemplate.first.templateRef)("menuItemLinkTemplate",null==n.itemLinkTemplate.first?null:n.itemLinkTemplate.first.templateRef)}}var u2,c2,h2,f2,d2,p2,v2,m2,g2,y2,k2,b2,w2,C2,_2,S2,x2,T2=/_?\d+$/,O2=0,I2=function(e,t){return e.siblingIndex-t.siblingIndex},E2=function(e,t,n){for(var i=t[e+n];!i;)e<0?e=t.length-1:e>=t.length?e=0:e+=n,i=t[e];return i},A2=((u2=function(){function e(){_classCallCheck(this,e),this.items={},this.lists=[],this.idPrefix="k-menu"+O2++}return _createClass(e,[{key:"childId",value:function(e){return"".concat(this.idPrefix,"-child").concat(e)}},{key:"itemIndex",value:function(e,t){return(e?e+"_":"")+t}},{key:"get",value:function(e){return this.items[e]}},{key:"add",value:function(e){this.items[e.index]=e}},{key:"remove",value:function(e){delete this.items[e.index]}},{key:"addList",value:function(e){this.lists.push(e)}},{key:"removeList",value:function(e){var t=this.lists.indexOf(e);t>=0&&this.lists.splice(t,1)}},{key:"containsList",value:function(e){return Boolean(this.lists.find((function(t){return t.element.nativeElement===e})))}},{key:"siblings",value:function(e){var t=this,n=this.parentIndex(e.index);return this.filter((function(e){return t.parentIndex(e)===n}))}},{key:"otherSiblings",value:function(e){var t=this,n=this.parentIndex(e.index);return this.filter((function(i){return t.parentIndex(i)===n&&i!==e.index}))}},{key:"children",value:function(e){var t=this;return this.filter((function(n){return t.parentIndex(n)===e.index}))}},{key:"parent",value:function(e){return this.items[this.parentIndex(e.index)]}},{key:"root",value:function(e){return this.items[this.indices(e.index)[0]]}},{key:"indices",value:function(e){return e.split("_")}},{key:"filter",value:function(e){var t=[],n=this.items;for(var i in n)e(i,n[i])&&t.push(n[i]);return t.sort(I2)}},{key:"previous",value:function(e){var t=this.siblings(e),n=t.indexOf(e);return E2(n,t,-1)}},{key:"next",value:function(e){var t=this.siblings(e),n=t.indexOf(e);return E2(n,t,1)}},{key:"hasParent",value:function(e,t){return e.index.startsWith(t.index)}},{key:"areSiblings",value:function(e,t){return e!==t&&this.parent(e)===this.parent(t)}},{key:"forEach",value:function(e){var t=this.items;for(var n in t)t.hasOwnProperty(n)&&e(t[n])}},{key:"parentIndex",value:function(e){return e.replace(T2,"")}},{key:"hasItems",get:function(){return Object.keys(this.items).length>0}}]),e}()).\u0275fac=function(e){return new(e||u2)},u2.\u0275prov=xe({token:u2,factory:u2.\u0275fac}),u2),D2=function(){function e(t){_classCallCheck(this,e),this.prevented=!1,Object.assign(this,t)}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),R2=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(D2),M2=function(e,t){return!("open"===t&&e.opened||"close"===t&&!e.opened)},F2=((c2=function(){function e(t,n){_classCallCheck(this,e),this.ngZone=t,this.items=n,this.actions=[]}return _createClass(e,[{key:"open",value:function(e,t){e.disabled||(e.hasContent&&!e.opened?this.actions.push({name:"open",requiresZone:e.hasContentTemplates(),item:e,finished:t}):t&&t())}},{key:"close",value:function(e){this.closeChildren(e),this.closeItem(e)}},{key:"closeItem",value:function(e){e.opened&&this.actions.push({name:"close",item:e})}},{key:"closeToRoot",value:function(e){this.closeChildren(e);var t=e;do{this.closeItem(t),t=this.items.parent(t)}while(t)}},{key:"closeOthers",value:function(e){this.closeChildren(e);for(var t=e;t;){var n=this.items.otherSiblings(t);this.closeItems(n),t=this.items.parent(t)}}},{key:"closeAll",value:function(){var e=this;this.items.forEach((function(t){t.opened&&0===t.level&&e.close(t)}))}},{key:"select",value:function(e,t,n,i){this.actions.push({name:"select",item:e,prevented:n,finished:i,domEvent:t})}},{key:"emit",value:function(e,t,n){var i=this.owner,r=new R2({sender:i,item:t.item,index:t.index,originalEvent:n,hasContent:t.hasContent});return i[e].emit(r),i.contextService&&i.contextService.emit(e,r),r.isDefaultPrevented()}},{key:"execute",value:function(e){var t=this;if(this.hasPending||e){var n=e||this.clear();!Xu.isInAngularZone()&&this.requiresZone(n)?this.ngZone.run((function(){t.executeActions(n)})):this.executeActions(n)}}},{key:"clear",value:function(){var e=this.actions;return this.actions=[],e}},{key:"executeActions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.item,r=n.name,o=n.prevented,a=n.finished,s=n.domEvent;M2(i,r)&&(this.emit(r,i,s)?o&&o():(i[r]&&i[r](),a&&a()))}}},{key:"requiresZone",value:function(e){for(var t=e||this.actions,n=this.owner,i=n.contextService,r=0;r<t.length;r++){var o=t[r],a=o.name;if(o.requiresZone||a&&(zg(n[a])||i&&i.hasObservers(a)))return!0}return!1}},{key:"closeChildren",value:function(e){if(e.opened){var t=this.items.children(e);this.closeItems(t)}}},{key:"closeItems",value:function(e){for(var t=0;t<e.length;t++)this.close(e[t])}},{key:"hasPending",get:function(){return this.actions.length>0}}]),e}()).\u0275fac=function(e){return new(e||c2)(ct(Xu),ct(A2))},c2.\u0275prov=xe({token:c2,factory:c2.\u0275fac}),c2),P2=/\S/,z2={37:"left",39:"right",38:"up",40:"down",36:"home",35:"end",32:"enter",13:"enter",27:"esc",9:"tab"},N2=Object.assign({},z2,{37:"right",39:"left"}),L2=Promise.resolve(null),j2=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this.items=t,this.actions=n,this.localization=i,this.ngZone=r,this.vertical=!1,this.activeIndex="0"}return _createClass(e,[{key:"focus",value:function(e){e.index!==this.focusedIdx&&(this.activeItem&&this.items.hasParent(e,this.activeItem)||this.setActive(e),this.setFocus(e))}},{key:"setFocus",value:function(e){this.focusedIdx=e.index,e.focus()}},{key:"focusLeave",value:function(){var e=this.focusedItem;e&&(this.actions.closeToRoot(e),this.actions.execute()),this.focusedIdx=null}},{key:"updateActive",value:function(){var e=this;!this.activeItem&&this.items.hasItems&&(this.items.get("0").toggleActive(!0),this.ngZone.runOutsideAngular((function(){L2.then((function(){e.activeIndex="0"}))})))}},{key:"keydown",value:function(e){var t,n=this.focusedItem||this.activeItem,i=this.handlers[e.keyCode];n&&(i?("tab"!==i&&e.preventDefault(),this[i](n,e)):1===(t=e.key).length&&P2.test(t)&&this.search(n,e.key),this.actions.execute())}},{key:"focusIndex",value:function(e){if(!e&&this.activeItem)this.setFocus(this.activeItem);else if("first"===e)this.focusFirst();else if("last"===e)this.focusLast();else{var t=this.items.get(e);t&&this.focus(t)}}},{key:"focusFirst",value:function(){var e=this.items.siblings(this.items.get("0"));this.focus(e[0])}},{key:"focusLast",value:function(){var e=this.items.siblings(this.items.get("0"));this.focus(e[e.length-1])}},{key:"search",value:function(e,t){for(var n=this.items.siblings(e),i=n.indexOf(e),r=n.slice(i+1).concat(n.slice(0,i)),o=0;o<r.length;o++){var a=r[o];if((a.item.text||"").toLowerCase().startsWith(t.toLowerCase())){this.focus(a);break}}}},{key:"down",value:function(e){0!==e.level||this.vertical?this.focus(this.items.next(e)):e.hasContent&&this.actions.open(e,this.focusChild(e,0))}},{key:"up",value:function(e){0!==e.level||this.vertical?this.focus(this.items.previous(e)):e.hasContent&&this.actions.open(e,this.focusChild(e,e.children.length-1))}},{key:"left",value:function(e){if(!this.vertical||0!==e.level||!e.disabled)if(e.level>1||this.vertical&&e.level>0){var t=this.items.parent(e);this.focus(t),this.actions.close(t)}else this.vertical&&0===e.level&&!e.disabled?e.hasContent&&this.actions.open(e,this.focusChild(e,e.children.length-1)):this.focus(this.items.previous(this.activeItem))}},{key:"right",value:function(e){this.vertical&&0===e.level&&e.disabled||(e.horizontal&&!e.disabled?e.hasContent?this.actions.open(e,this.focusChild(e,0)):(!this.vertical||e.level>0)&&this.focus(this.items.next(this.activeItem)):this.focus(this.items.next(this.activeItem)))}},{key:"home",value:function(e){var t=this.items.siblings(e);this.focus(t[0])}},{key:"end",value:function(e){var t=this.items.siblings(e);this.focus(t[t.length-1])}},{key:"enter",value:function(e,t){var n=this.actions;e.disabled||(e.hasContent?(n.select(e,t),n.open(e,this.focusChild(e,0))):(n.select(e,t,null,(function(){e.navigate()})),this.focus(this.items.root(e)),n.closeToRoot(e)))}},{key:"esc",value:function(e){if(e.level>0){var t=this.items.parent(e);this.actions.close(t),this.focus(t)}}},{key:"tab",value:function(e){e.level>0&&this.activeItem.focus()}},{key:"focusChild",value:function(e,t){var n=this;return function(){var i=n.items.children(e)[t];n.setFocus(i)}}},{key:"setActive",value:function(e){var t=this.focusedItem,n=this.items.root(e);this.activeItem&&this.activeItem.toggleActive(!1),this.activeIndex=n.index,n.toggleActive(!0),t&&(this.actions.closeToRoot(t),t.level>0&&this.actions.open(n))}},{key:"focusedItem",get:function(){return this.items.get(this.focusedIdx)}},{key:"activeItem",get:function(){return this.items.get(this.activeIndex)}},{key:"handlers",get:function(){return this.localization.rtl?N2:z2}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(A2),ct(F2),ct(Om),ct(Xu))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),V2=((h2=function(){function e(t,n){_classCallCheck(this,e),this.actions=t,this.items=n,this.delay=100,this._openOnOver=!0,this.scheduled=[]}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.cancelActions()}},{key:"over",value:function(e){var t=this;this.cancelActions((function(e){return"openOnOver"===e.name})),this.hovered&&this.hovered===e||(this.actions.closeOthers(e),this.hovered=e,(e.level>0||this.openOnOver)&&!e.disabled&&(this.actions.open(e),this.cancelActions((function(n){return"close"===n.name&&(e===n.item||t.items.hasParent(e,n.item))||"open"===n.name&&!t.items.hasParent(e,n.item)}))),this.scheduleActions())}},{key:"leave",value:function(e){var t=this.hovered;t&&(this.actions.closeToRoot(t),this.cancelActions((function(e){return"open"===e.name})),this.scheduleActions()),e&&this._openOnOver&&this.scheduleDisableOpenOnOver(),this.hovered=null}},{key:"closeCurrent",value:function(){var e=this.hovered;e&&(this.actions.closeToRoot(e),this.hovered=null)}},{key:"scheduleActions",value:function(){var e=this;if(this.actions.hasPending){var t={};t.actions=this.actions.clear(),t.id=setTimeout((function(){e.actions.execute(t.actions),e.removeScheduled(t)}),this.delay),this.scheduled.push(t)}}},{key:"scheduleDisableOpenOnOver",value:function(){var e=this,t={actions:[{name:"openOnOver"}]};t.id=setTimeout((function(){e._openOnOver=!1,e.removeScheduled(t)}),Math.max(this.delay,500)),this.scheduled.push(t)}},{key:"removeScheduled",value:function(e){for(var t=this.scheduled,n=0;n<t.length;n++)if(t[n]===e)return void t.splice(n,1)}},{key:"cancelActions",value:function(e){for(var t=this.scheduled,n=t.length-1;n>=0;n--){var i=t[n],r=i.actions;if(e)for(var o=r.length-1;o>=0;o--)e(r[o])&&r.splice(o,1);e&&0!==r.length||(clearTimeout(i.id),t.splice(n,1))}}},{key:"openOnOver",get:function(){return this._openOnOver},set:function(e){this.cancelActions(),this._openOnOver=e}},{key:"hovered",get:function(){return this.items.get(this.hoveredIdx)},set:function(e){this.hoveredIdx=e?e.index:null}}]),e}()).\u0275fac=function(e){return new(e||h2)(ct(F2),ct(A2))},h2.\u0275prov=xe({token:h2,factory:h2.\u0275fac}),h2),B2=/^(?:a|input|select|option|textarea|button|object)$/i,H2=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},G2=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},U2=function(e){if(e.tagName){var t=e.tagName.toLowerCase(),n=e.getAttribute("tabIndex"),i="-1"===n,r=null!==n&&!i;return B2.test(t)&&(r=!e.disabled&&!i),r}return!1},W2=function(e){return String(e).trim().split(" ")},q2=function(e,t){return W2(e.className).indexOf(t)>=0},$2=function(e){return e.getAttribute("data-kendo-menu-index")},K2=function(e,t){if(e===t.lists[0].element.nativeElement)return!1;var n=function(e){var t=H2(e,function(e){var t=W2("k-menu-popup k-menu k-menu-group");return function(e){var n=W2(e.className);return Boolean(t.find((function(e){return n.indexOf(e)>=0})))}}());return t&&q2(t,"k-menu-popup")&&(t=t.querySelector(".k-menu-group")),t}(e);return n&&t.containsList(n)},Z2=((g2=function(){function e(){_classCallCheck(this,e),this.keydown=new lu}return _createClass(e,[{key:"emit",value:function(e,t){this.owner.emitMenuEvent(e,t)}},{key:"hasObservers",value:function(e){return this.owner&&zg(this.owner[e])}},{key:"leaveMenu",value:function(e){return!this.items||!K2(e.target,this.items)}}]),e}()).\u0275fac=function(e){return new(e||g2)},g2.\u0275prov=xe({token:g2,factory:g2.\u0275fac}),g2),Y2=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ga(Ol,8))},e.\u0275dir=zt({type:e,selectors:[["","kendoMenuItemTemplate",""]]}),e}(),Q2=((m2=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||m2)(Ga(Ol,8))},m2.\u0275dir=zt({type:m2,selectors:[["","kendoMenuItemLinkTemplate",""]]}),m2),J2=((v2=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||v2)(Ga(Ol,8))},v2.\u0275dir=zt({type:v2,selectors:[["","kendoMenuItemContentTemplate",""]]}),v2),X2=((p2=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"template",get:function(){if(this.itemTemplate&&this.itemTemplate.length)return this.itemTemplate.first.templateRef}},{key:"linkTemplate",get:function(){if(this.itemLinkTemplate&&this.itemLinkTemplate.length)return this.itemLinkTemplate.first.templateRef}},{key:"contentTemplate",get:function(){if(this.itemContentTemplate&&this.itemContentTemplate.length)return this.itemContentTemplate.first.templateRef}},{key:"items",get:function(){var e=this;if(this.children.length)return this.children.toArray().filter((function(t){return t!==e}))}}]),e}()).\u0275fac=function(e){return new(e||p2)},p2.\u0275cmp=At({type:p2,selectors:[["kendo-menu-item"]],contentQueries:function(e,t,n){var i;1&e&&(_u(n,Y2,!1),_u(n,Q2,!1),_u(n,J2,!1),_u(n,p2,!1)),2&e&&(ku(i=Tu())&&(t.itemTemplate=i),ku(i=Tu())&&(t.itemLinkTemplate=i),ku(i=Tu())&&(t.itemContentTemplate=i),ku(i=Tu())&&(t.children=i))},inputs:{text:"text",url:"url",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle",icon:"icon",data:"data",separator:"separator"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),p2),e3=((d2=function(){function e(){_classCallCheck(this,e),this.vertical=!1,this.openOnClick=!1,this.hoverDelay=100,this.animate=!0}return _createClass(e,[{key:"rootItems",get:function(){return this.items||(this.children?this.children.toArray():[])}}]),e}()).\u0275fac=function(e){return new(e||d2)},d2.\u0275dir=zt({type:d2,contentQueries:function(e,t,n){var i;1&e&&(_u(n,Y2,!1),_u(n,Q2,!1),_u(n,X2,!1)),2&e&&(ku(i=Tu())&&(t.itemTemplate=i),ku(i=Tu())&&(t.itemLinkTemplate=i),ku(i=Tu())&&(t.children=i))},inputs:{vertical:"vertical",openOnClick:"openOnClick",hoverDelay:"hoverDelay",animate:"animate",items:"items"}}),d2),t3=((f2=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s,l,u){var c;return _classCallCheck(this,n),(c=t.call(this)).itemsService=e,c.hover=i,c.actions=r,c.navigation=o,c.localization=a,c.ngZone=s,c.renderer=l,c.contextService=u,c.select=new lu,c.open=new lu,c.close=new lu,c.actions.owner=_assertThisInitialized(c),u&&(u.items=c.itemsService,c.contextKeyDownSubscription=u.keydown.subscribe(c.contextKeyDown.bind(_assertThisInitialized(c)))),c}return _createClass(n,[{key:"toggle",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++){var n=this.itemsService.get(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]);n&&!n.disabled&&(e?n.open():n.close())}}},{key:"focus",value:function(e){this.navigation.focusIndex(e)}},{key:"ngOnChanges",value:function(e){if(this.navigation.vertical=this.vertical,this.hover.delay=this.hoverDelay,e.openOnClick){var t=this.openOnClick=(n=this.openOnClick)&&Object.assign({toggle:"select"},n);this.hover.openOnOver=!t,t&&"click"===t.toggle?this.attachCloseClick():this.unsubscribeClick()}var n}},{key:"ngAfterViewChecked",value:function(){this.navigation.updateActive()}},{key:"ngOnDestroy",value:function(){this.unsubscribeClick(),this.contextService&&(this.contextService.items=null,this.contextKeyDownSubscription.unsubscribe())}},{key:"attachCloseClick",value:function(){var e=this;!this.closeClickSubscription&&Mg()&&this.ngZone.runOutsideAngular((function(){e.closeClickSubscription=e.renderer.listen("document","click",(function(t){K2(t.target,e.itemsService)||(e.hover.openOnOver=!1,e.actions.closeAll(),e.actions.execute())}))}))}},{key:"unsubscribeClick",value:function(){this.closeClickSubscription&&this.closeClickSubscription()}},{key:"contextKeyDown",value:function(e){if(this.itemsService.hasItems){var t,n=e.keyCode,i=this.localization.rtl,r=n===Jg.ArrowDown||n===Jg.ArrowRight,o=n===Jg.ArrowUp||n===Jg.ArrowLeft;r&&!i||o&&i?t="first":(r&&i||o&&!i)&&(t="last"),t&&(e.preventDefault(),this.focus(t))}}},{key:"ariaOrientation",get:function(){if(this.vertical)return"vertical"}},{key:"contextMenuClass",get:function(){return Boolean(this.contextService)}},{key:"direction",get:function(){return this.rtl}},{key:"rtl",get:function(){return this.localization.rtl}}]),n}(e3)).\u0275fac=function(e){return new(e||f2)(Ga(A2),Ga(V2),Ga(F2),Ga(j2),Ga(Om),Ga(Xu),Ga(ll),Ga(Z2,8))},f2.\u0275cmp=At({type:f2,selectors:[["kendo-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-rtl",t.direction)},inputs:{menuItemTemplate:"menuItemTemplate",menuItemLinkTemplate:"menuItemLinkTemplate"},outputs:{select:"select",open:"open",close:"close"},exportAs:["kendoMenu"],features:[el([A2,F2,j2,V2,Om,{provide:Tm,useValue:"kendo.menu"},{provide:e3,useExisting:je((function(){return f2}))}]),Ls,Us],decls:1,vars:15,consts:[["role","menubar","kendoMenuList","",1,"k-widget","k-reset","k-header","k-menu",3,"items","level","vertical","rtl","animate","openOnClick","itemTemplate","itemLinkTemplate"]],template:function(e,t){1&e&&Ya(0,"ul",0),2&e&&(ys("k-menu-horizontal",!t.vertical)("k-menu-vertical",t.vertical)("k-context-menu",t.contextMenuClass),qa("items",t.rootItems)("level",0)("vertical",t.vertical)("rtl",t.rtl)("animate",t.animate)("openOnClick",t.openOnClick)("itemTemplate",(null==t.itemTemplate.first?null:t.itemTemplate.first.templateRef)||t.menuItemTemplate)("itemLinkTemplate",(null==t.itemLinkTemplate.first?null:t.itemLinkTemplate.first.templateRef)||t.menuItemLinkTemplate),ja("aria-orientation",t.ariaOrientation))},directives:function(){return[n3]},encapsulation:2}),f2),n3=function(){var e=function(){function e(t,n,i,r,o,a,s){_classCallCheck(this,e),this.itemsService=t,this.hover=n,this.actions=i,this.navigation=r,this.renderer=o,this.ngZone=a,this.element=s,this.animate=!0}return _createClass(e,[{key:"hierarchyIndex",value:function(e){return this.itemsService.itemIndex(this.index,e)}},{key:"ngOnInit",value:function(){this.itemsService.addList(this),this.initDomEvents()}},{key:"ngOnDestroy",value:function(){this.itemsService.removeList(this),this.domSubscriptions&&this.domSubscriptions()}},{key:"initDomEvents",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){var t=e.element.nativeElement,n=e.level>0?H2(t,(function(e){return q2(e,"k-popup")})):t,i=e.renderer.listen(t,"mouseover",(function(n){if(n.target===t&&0===e.level)e.onLeave();else{var i=e.nodeItem(n.target)||e.itemsService.get(e.index);!i||e.openOnClick&&"click"===e.openOnClick.toggle&&0===i.level&&!i.hasContent||e.hover.over(i)}})),r=e.renderer.listen(n,"mouseleave",(function(t){e.leavesMenu(t)&&e.onLeave()})),o=e.renderer.listen(t,"keydown",(function(t){q2(t.target,"k-menu-item")&&e.navigation.keydown(t)})),a=e.renderer.listen(t,"focusout",(function(t){e.leavesMenu(t)&&e.navigation.focusLeave()})),s=e.renderer.listen(t,"click",e.clickHandler.bind(e));e.domSubscriptions=function(){i(),r(),o(),a(),s()}}))}},{key:"leavesMenu",value:function(e){return!e.relatedTarget||!K2(e.relatedTarget,this.itemsService)}},{key:"onLeave",value:function(){var e=this.openOnClick;e&&"click"===e.toggle||this.hover.leave(e&&"leave"===e.toggle)}},{key:"nodeItem",value:function(e){var t=this,n=function(e,n){return G2(e,$2,t.element.nativeElement)}(e);if(n){var i=$2(n);return this.itemsService.get(i)}}},{key:"clickHandler",value:function(e){if(!U2(e.target)||q2(e.target,"k-menu-item")){var t=this.nodeItem(e.target);if(t&&!t.isContent&&!t.navigating)if(t.disabled)e.preventDefault();else{if(this.actions.select(t,e,(function(){e.preventDefault()})),this.navigation.focus(t),t.level>0&&!t.hasContent&&this.actions.closeToRoot(t),this.openOnClick){var n=this.hover;t.opened?0===t.level&&(n.openOnOver=!1,this.actions.close(t)):t.hasContent?(n.openOnOver=!0,this.actions.closeOthers(t),this.actions.open(t)):(n.openOnOver=!1,0===t.level&&"click"===this.openOnClick.toggle&&this.hover.closeCurrent())}this.actions.execute()}}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ga(A2),Ga(V2),Ga(F2),Ga(j2),Ga(ll),Ga(Xu),Ga(rl))},e.\u0275cmp=At({type:e,selectors:[["","kendoMenuList",""]],inputs:{animate:"animate",items:"items",level:"level",index:"index",vertical:"vertical",rtl:"rtl",openOnClick:"openOnClick",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},attrs:L1,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["kendoMenuItem","","role","menuitem","class","k-item k-menu-item",3,"item","level","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle","k-first","k-last","k-state-disabled",4,"ngIf"],["class","k-separator k-item","role","separator",3,"ngClass","ngStyle",4,"ngIf"],["kendoMenuItem","","role","menuitem",1,"k-item","k-menu-item",3,"item","level","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle"],["role","separator",1,"k-separator","k-item",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&Ba(0,B1,3,2,"ng-container",0),2&e&&qa("ngForOf",t.items)},directives:function(){return[ch,fh,f3,lh,Ah]},encapsulation:2}),e}(),i3={vertical:"top",horizontal:"left"},r3={vertical:"top",horizontal:"right"},o3={vertical:"flip",horizontal:"fit"},a3={vertical:"fit",horizontal:"flip"},s3={vertical:{anchor:{vertical:"bottom",horizontal:"right"},popup:r3,collision:o3,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"left"},popup:r3,collision:a3,animate:"left"}},l3={vertical:{anchor:{vertical:"bottom",horizontal:"left"},popup:i3,collision:o3,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"right"},popup:i3,collision:a3,animate:"right"}},u3=function(e){return void 0!==e},c3=function(){if(Mg())return new rl(document.body)},h3=c3,f3=((k2=function(){function e(t,n,i,r,o,a){_classCallCheck(this,e),this.itemsService=t,this.navigation=n,this.changeDetector=i,this.renderer=r,this.popupService=o,this.element=a,this.animate=!0,this.openOnClick=!1,this.opened=!1,this.navigating=!1,this.destroyed=!1}return _createClass(e,[{key:"hasContentTemplates",value:function(){var e=this.item;return this.itemTemplate||e.contentTemplate||this.itemLinkTemplate||e.items&&e.items.find((function(e){return e.template||e.linkTemplate}))}},{key:"ngOnInit",value:function(){this.itemsService.add(this)}},{key:"ngOnDestroy",value:function(){this.itemsService.remove(this),this.destroyed=!0,this.popupRef&&(this.popupRef.close(),this.popupRef=null)}},{key:"focus",value:function(){this.element.nativeElement.focus()}},{key:"toggleActive",value:function(e){this.setAttribute("tabindex",e?"0":"-1")}},{key:"open",value:function(){if(!this.destroyed&&this.hasContent&&!this.opened){var e=this.popupSettings,t=!!this.animate&&Object.assign({},this.animate,{direction:e.animate});this.opened=!0,this.popupRef=this.popupService.open({popupAlign:e.popup,anchorAlign:e.anchor,collision:e.collision,anchor:this.element,positionMode:"absolute",content:this.popupTemplate,popupClass:{"k-rtl":this.rtl,"k-menu-popup":!0},animate:t}),this.setAttribute("aria-expanded","true"),this.setAttribute("aria-owns",this.childId),this.changeDetector.detectChanges()}}},{key:"close",value:function(){!this.destroyed&&this.opened&&(this.opened=!1,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.changeDetector.detectChanges(),this.setAttribute("aria-expanded","false"),this.renderer.removeAttribute(this.element.nativeElement,"aria-owns"))}},{key:"navigate",value:function(){var e;this.linkTemplate?e=this.element.nativeElement.querySelector("a.k-menu-link"):this.hasLink&&(e=this.link.nativeElement),e&&(this.navigating=!0,e.click(),this.navigating=!1)}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element.nativeElement,e,t)}},{key:"index",set:function(e){this._index&&this._index!==e?(this.itemsService.remove(this),this._index=e,this.itemsService.add(this)):this._index=e,this.childId=this.itemsService.childId(e)},get:function(){return this._index}},{key:"disabled",get:function(){return this.item.disabled}},{key:"hasPopup",get:function(){return!!this.hasContent||null}},{key:"expanded",get:function(){return this.hasContent?this.opened:null}},{key:"label",get:function(){return this.item.text?this.item.text:null}},{key:"activeId",get:function(){return this.index===this.navigation.activeIndex?"0":"-1"}},{key:"popupSettings",get:function(){var e=this.rtl?s3:l3;return this.horizontal?e.horizontal:e.vertical}},{key:"horizontal",get:function(){return this.vertical||this.level>0}},{key:"hasLink",get:function(){return Boolean(this.item.url)}},{key:"linkTemplate",get:function(){return this.item.linkTemplate||this.itemLinkTemplate}},{key:"hasContent",get:function(){var e=this.item.items;return e&&e.length||this.item.contentTemplate}},{key:"isContent",get:function(){return Boolean(this.item.content)}},{key:"iconClass",get:function(){return"k-i-"+this.item.icon}},{key:"children",get:function(){var e=this.item;return e.contentTemplate?(this.contentItems||(this.contentItems=[{content:e.contentTemplate,owner:e,ownerIndex:this.index}]),this.contentItems):e.items}},{key:"template",get:function(){return this.item.template||this.itemTemplate}}]),e}()).\u0275fac=function(e){return new(e||k2)(Ga(A2),Ga(j2),Ga(oa),Ga(ll),Ga(Ry),Ga(rl))},k2.\u0275cmp=At({type:k2,selectors:[["","kendoMenuItem",""]],viewQuery:function(e,t){var n;1&e&&(wu(H1,!0),wu(G1,!0)),2&e&&(ku(n=Tu())&&(t.link=n.first),ku(n=Tu())&&(t.popupTemplate=n.first))},hostVars:5,hostBindings:function(e,t){2&e&&ja("aria-disabled",t.disabled)("aria-haspopup",t.hasPopup)("aria-expanded",t.expanded)("aria-label",t.label)("tabindex",t.activeId)},inputs:{animate:"animate",openOnClick:"openOnClick",index:"index",item:"item",level:"level",siblingIndex:"siblingIndex",vertical:"vertical",rtl:"rtl",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},features:[el([Ry,{provide:Dy,useFactory:h3}])],attrs:U1,decls:8,vars:4,consts:[["class","k-link k-menu-link","role","presentation",3,"k-state-active",4,"ngIf"],["class","k-link k-menu-link","tabindex","-1","role","presentation",3,"k-state-active",4,"ngIf"],[4,"ngIf"],["class","k-content","role","presentation",4,"ngIf"],["popupTemplate",""],["itemcontent",""],["role","presentation",1,"k-link","k-menu-link"],["link",""],[3,"ngTemplateOutlet"],["tabindex","-1","role","presentation",1,"k-link","k-menu-link"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","presentation",1,"k-content"],["kendoMenuList","","role","menu",1,"k-group","k-menu-group","k-reset",3,"animate","rtl","vertical","openOnClick","items","level","index","itemTemplate","itemLinkTemplate"],["class","k-icon","role","presentation",3,"ngClass",4,"ngIf"],["class","k-icon k-menu-expand-arrow","role","presentation",3,"k-i-arrow-60-down","k-i-arrow-60-right","k-i-arrow-60-left",4,"ngIf"],["role","presentation",1,"k-icon",3,"ngClass"],["role","presentation",1,"k-icon","k-menu-expand-arrow"]],template:function(e,t){1&e&&(Ba(0,q1,3,3,"span",0),Ba(1,K1,3,4,"a",1),Ba(2,Q1,1,5,void 0,2),Ba(3,X1,2,5,"div",3),Ba(4,e2,1,10,"ng-template",null,4,Au),Ba(6,a2,4,4,"ng-template",null,5,Au)),2&e&&(qa("ngIf",!t.hasLink&&!t.item.content&&!t.linkTemplate),Dr(1),qa("ngIf",t.item.url&&!t.linkTemplate),Dr(1),qa("ngIf",t.linkTemplate&&!t.item.content),Dr(1),qa("ngIf",t.item.content))},directives:[fh,Dh,n3,lh],encapsulation:2}),k2),d3=((y2=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:y2}),y2.\u0275inj=Oe({factory:function(e){return new(e||y2)},imports:[[My,Rh]]}),y2),p3=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(D2),v3=((_2=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||_2)(Ga(Ol,8))},_2.\u0275dir=zt({type:_2,selectors:[["","kendoContextMenuTemplate",""]]}),_2),m3=((C2=function(){function e(t){_classCallCheck(this,e),this.contextService=t}return _createClass(e,[{key:"get",value:function(e){if(this.contextService.items)return this.contextService.items.get(e)}}]),e}()).\u0275fac=function(e){return new(e||C2)(ct(Z2))},C2.\u0275prov=xe({token:C2,factory:C2.\u0275fac}),C2),g3=((w2=function(){function e(){_classCallCheck(this,e),this.targets=[]}return _createClass(e,[{key:"add",value:function(e){this.targets.push(e)}},{key:"remove",value:function(e){var t=this.targets.indexOf(e);this.targets.splice(t,1)}},{key:"find",value:function(e){return this.targets.find((function(t){return t.element===e}))}}]),e}()).\u0275fac=function(e){return new(e||w2)},w2.\u0275prov=xe({token:w2,factory:w2.\u0275fac}),w2),y3=((b2=function e(t,n){_classCallCheck(this,e),this.targetService=n,t&&(this.element=t.nativeElement)}).\u0275fac=function(e){return new(e||b2)(Ga(rl),Ga(g3))},b2.\u0275dir=zt({type:b2,selectors:[["","kendoContextMenuTargetContainer",""]],exportAs:["kendoContextMenuTargetContainer"],features:[el([g3])]}),b2),k3={horizontal:"left",vertical:"bottom"},b3={horizontal:"left",vertical:"top"},w3={horizontal:"fit",vertical:"flip"},C3=function(e){return e.preventDefault()},_3=c3,S3=((x2=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this)).popupService=e,a.service=i,a.ngZone=r,a.renderer=o,a.showOn="contextmenu",a.alignToAnchor=!1,a.vertical=!0,a.popupOpen=new lu,a.popupClose=new lu,a.select=new lu,a.open=new lu,a.close=new lu,a.service.owner=_assertThisInitialized(a),a.popupKeyDownHandler=a.popupKeyDownHandler.bind(_assertThisInitialized(a)),a}return _createClass(n,[{key:"hide",value:function(){this.removePopup()}},{key:"show",value:function(e){if(e){var t=e;this.removePopup(),u3(t.left)&&u3(t.top)?this.createPopup({offset:t}):(this.currentTarget=t.nativeElement||t,this.createPopup({anchor:this.currentTarget}))}}},{key:"ngOnChanges",value:function(e){(e.target||e.showOn)&&this.bindShowHandler()}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.renderer.listen("document","mousedown",(function(t){e.popupRef&&!H2(t.target,(function(t){return t===e.popupRef.popupElement}))&&e.service.leaveMenu(t)&&e.closePopup(t)})),n=e.renderer.listen("window","blur",(function(t){e.popupRef&&e.closePopup(t)}));e.closeSubscription=function(){t(),n()}}))}},{key:"ngOnDestroy",value:function(){this.closeSubscription&&(this.closeSubscription(),this.closeSubscription=null),this.unbindShowHandler(),this.removePopup()}},{key:"emitMenuEvent",value:function(e,t){t.target=this.currentTarget,t.sender=this,this[e].emit(t),"select"!==e||t.hasContent||this.closeAndFocus(t.originalEvent)}},{key:"bindShowHandler",value:function(){var e=this;this.unbindShowHandler(),this.ngZone.runOutsideAngular((function(){var t=e.targetElement();if(t){var n=e.showOn||"contextmenu";e.showSubscription=e.renderer.listen(t,e.showOn||"contextmenu",(function(n){e.showContextMenu(n,t)})),"contextmenu"===n&&(e.keydownSubscription=e.renderer.listen(t,"keydown",(function(n){n.shiftKey&&n.keyCode===Jg.F10&&e.showContextMenu(n,t)})))}}))}},{key:"showContextMenu",value:function(e,t){var n=this,i=this.targetFilter(),r=t;if(i){if((r=function(e,t,n){var i=n.getAttribute("id");i||n.setAttribute("id","kendo-matches-container");var r="#".concat(i||"kendo-matches-container"," ").concat(t),o=G2(e,(function(e){return function(e,t){return(e.matches||e.msMatchesSelector).call(e,t)}(e,r)}),n);return i||n.removeAttribute("id"),o}(e.target,i,t))&&r!==e.target&&U2(e.target))return;r&&this.directiveTarget&&(r=this.target.targetService.find(r))}r?this.ngZone.run((function(){n.closePopup(e)||(n.currentTarget=r,n.openPopup(e))})):this.closePopup(e)}},{key:"unbindShowHandler",value:function(){this.showSubscription&&(this.showSubscription(),this.showSubscription=null),this.keydownSubscription&&(this.keydownSubscription(),this.keydownSubscription=null)}},{key:"targetElement",value:function(){if(Mg()){this.directiveTarget=!1;var e=this.target;return"string"==typeof e?e=document.querySelector(e):e&&e.nativeElement?e=e.nativeElement:e instanceof y3&&(e=e.element,this.directiveTarget=!0),e}}},{key:"targetFilter",value:function(){return this.directiveTarget?".k-contextmenu-target":this.filter}},{key:"closePopup",value:function(e){var t=this;if(this.popupRef)return this.popupAction("popupClose",e,(function(){t.removePopup()}))}},{key:"removePopup",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.currentTarget=null),this.popupSubscriptions&&(this.popupSubscriptions(),this.popupSubscriptions=null)}},{key:"openPopup",value:function(e){var t=this;this.popupAction("popupOpen",e,(function(){var n,i;e.preventDefault(),t.alignToAnchor||"keydown"===e.type?n=t.currentTargetElement:i={left:e.pageX,top:e.pageY},t.createPopup({anchor:n,offset:i})}))}},{key:"createPopup",value:function(e){var t=this;this.popupRef=this.popupService.open(Object.assign({animate:!u3(this.popupAnimate)||this.popupAnimate,appendTo:this.appendTo,collision:this.collision||w3,popupAlign:this.popupAlign||b3,anchorAlign:this.anchorAlign||k3,content:this.contentTemplate?this.contentTemplate.templateRef:this.defaultContentTemplate,popupClass:"k-menu-popup"},e));var n=this.popupRef.popupElement;this.renderer.addClass(n,"k-context-menu-popup"),this.renderer.setAttribute(n,"tabindex","-1"),this.renderer.setStyle(n,"outline","0"),this.ariaLabel&&this.renderer.setAttribute(n,"aria-label",this.ariaLabel),this.activeTarget=this.currentTargetElement===document.activeElement,this.ngZone.runOutsideAngular((function(){var e=t.renderer.listen(n,"keydown",t.popupKeyDownHandler),i=t.renderer.listen(n,"contextmenu",C3);t.popupSubscriptions=function(){e(),i()}})),n.focus()}},{key:"closeAndFocus",value:function(e){var t=this.currentTargetElement;!this.closePopup(e)&&this.activeTarget&&t.focus()}},{key:"popupKeyDownHandler",value:function(e){var t=this.popupRef.popupElement;e.keyCode!==Jg.Escape||!q2(e.target,"k-menu-item")&&e.target!==t?e.target===t&&this.service.keydown.emit(e):this.closeAndFocus(e)}},{key:"popupAction",value:function(e,t,n){var i=this,r=this[e],o=!1;return zg(r)?this.ngZone.run((function(){var e=new p3({originalEvent:t,sender:i,target:i.currentTarget});r.emit(e),e.isDefaultPrevented()||n(),o=e.isDefaultPrevented()})):n(),o}},{key:"currentTargetElement",get:function(){return this.directiveTarget&&this.currentTarget?this.currentTarget.element:this.currentTarget}}]),n}(e3)).\u0275fac=function(e){return new(e||x2)(Ga(Ry),Ga(Z2),Ga(Xu),Ga(ll))},x2.\u0275cmp=At({type:x2,selectors:[["kendo-contextmenu"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,v3,!0),2&e&&ku(i=Tu())&&(t.contentTemplate=i.first)},viewQuery:function(e,t){var n;1&e&&wu(s2,!0),2&e&&ku(n=Tu())&&(t.defaultContentTemplate=n.first)},inputs:{showOn:"showOn",alignToAnchor:"alignToAnchor",vertical:"vertical",target:"target",filter:"filter",popupAnimate:"popupAnimate",popupAlign:"popupAlign",anchorAlign:"anchorAlign",collision:"collision",appendTo:"appendTo",ariaLabel:"ariaLabel"},outputs:{popupOpen:"popupOpen",popupClose:"popupClose",select:"select",open:"open",close:"close"},exportAs:["kendoContextMenu"],features:[el([Z2,Om,{provide:Tm,useValue:"kendo.contextmenu"},{provide:A2,useClass:m3},{provide:e3,useExisting:je((function(){return x2}))},Ry,{provide:Dy,useFactory:_3}]),Ls,Us],decls:2,vars:0,consts:[["default",""],[3,"items","vertical","openOnClick","hoverDelay","animate","menuItemTemplate","menuItemLinkTemplate"]],template:function(e,t){1&e&&Ba(0,l2,1,7,"ng-template",null,0,Au)},directives:[t3],encapsulation:2}),x2),x3=((S2=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:S2}),S2.\u0275inj=Oe({factory:function(e){return new(e||S2)},imports:[[My,Rh,d3],d3]}),S2);function T3(e,t){1&e&&us(0,0,["*ngIf","!actions"])}function O3(e,t){if(1&e){var n=es();Ka(0,"button",2),is("click",(function(e){pn(n);var i=t.$implicit;return as(2).onButtonClick(i,e)})),Ds(1),Za()}if(2&e){var i=t.$implicit;qa("ngClass",as(2).buttonClass(i)),Dr(1),Ms(" ",i.text," ")}}function I3(e,t){if(1&e&&(Qa(0),Ba(1,O3,2,2,"button",1),Ja()),2&e){var n=as();Dr(1),qa("ngForOf",n.actions)}}function E3(e,t){}function A3(e,t){1&e&&Ba(0,E3,0,0,"ng-template",3),2&e&&qa("ngTemplateOutlet",as().actions)}var D3=["*"],R3=["closeTitle",$localize(_templateObject100())];function M3(e,t){if(1&e&&(Ka(0,"kendo-dialog-titlebar",6),Ds(1),Za()),2&e){var n=as();qa("closeTitle",n.closeTitle)("id",n.titleId),Dr(1),Rs(n.title)}}function F3(e,t){1&e&&us(0,0,["*ngIf","!title"])}function P3(e,t){1&e&&us(0,1,["*ngIf","!contentTemplate"])}function z3(e,t){}function N3(e,t){1&e&&Ba(0,z3,0,0,"ng-template",7),2&e&&qa("ngTemplateOutlet",as().contentTemplate)}function L3(e,t){1&e&&us(0,2,["*ngIf","!actions"])}function j3(e,t){if(1&e&&Ya(0,"kendo-dialog-actions",8),2&e){var n=as();qa("actions",n.actions)("layout",n.actionsLayout)}}var V3=[[["kendo-dialog-titlebar"]],"*",[["kendo-dialog-actions"]]],B3=["kendo-dialog-titlebar","*","kendo-dialog-actions"];function H3(e,t){1&e&&us(0,0,["*ngIf","!template"])}function G3(e,t){}var U3=function(e){return{$implicit:e}};function W3(e,t){if(1&e&&Ba(0,G3,0,0,"ng-template",1),2&e){var n=as();qa("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Jl(2,U3,n.service))}}var q3=["closeTitle",$localize(_templateObject101()),"restoreTitle",$localize(_templateObject102()),"maximizeTitle",$localize(_templateObject103()),"minimizeTitle",$localize(_templateObject104())];function $3(e,t){if(1&e&&(Ka(0,"kendo-window-titlebar",5),Ka(1,"div",6),Ds(2),Za(),Ka(3,"div",7),Ya(4,"button",8),Ya(5,"button",9),Ya(6,"button",10),Ya(7,"button",11),Za(),Za()),2&e){var n=as();qa("template",n.titleBarTemplate),Dr(2),Rs(n.title),Dr(2),ja("title",n.minimizeButtonTitle)("aria-label",n.minimizeButtonTitle),Dr(1),ja("title",n.maximizeButtonTitle)("aria-label",n.maximizeButtonTitle),Dr(1),ja("title",n.restoreButtonTitle)("aria-label",n.restoreButtonTitle),Dr(1),ja("title",n.closeButtonTitle)("aria-label",n.closeButtonTitle)}}function K3(e,t){1&e&&us(0,0,["*ngIf","!showDefaultTitleBar"])}function Z3(e,t){1&e&&us(0,1,["*ngIf","!contentTemplate"])}function Y3(e,t){}function Q3(e,t){1&e&&Ba(0,Y3,0,0,"ng-template",13),2&e&&qa("ngTemplateOutlet",as(2).contentTemplate)}function J3(e,t){if(1&e&&(Ka(0,"div",12),Ba(1,Z3,1,0,void 0,2),Ba(2,Q3,1,1,void 0,2),Za()),2&e){var n=as();qa("hidden","minimized"===n.state&&n.keepContent),Dr(1),qa("ngIf",!n.contentTemplate),Dr(1),qa("ngIf",n.contentTemplate)}}function X3(e,t){1&e&&Ya(0,"div",15),2&e&&qa("direction",t.$implicit)}function e5(e,t){1&e&&Ba(0,X3,1,1,"div",14),2&e&&qa("ngForOf",as().resizeDirections)}var t5,n5,i5,r5,o5,a5,s5,l5,u5,c5,h5,f5,d5,p5,v5,m5,g5,y5,k5,b5,w5,C5=[[["kendo-window-titlebar"]],"*"],_5=["kendo-window-titlebar","*"],S5=((t5=function(){function e(t){_classCallCheck(this,e),this.el=t,this.layout="stretched",this.action=new lu,this.buttonGroupClassName=!0}return _createClass(e,[{key:"actionTemplate",value:function(){return this.actions instanceof Ol}},{key:"onButtonClick",value:function(e,t){this.action.emit(e)}},{key:"buttonClass",value:function(e){var t=["k-button"];return e.primary&&t.push("k-primary"),t.join(" ")}},{key:"className",get:function(){return"stretched"===this.layout}}]),e}()).\u0275fac=function(e){return new(e||t5)(Ga(rl))},t5.\u0275cmp=At({type:t5,selectors:[["kendo-dialog-actions"]],hostVars:4,hostBindings:function(e,t){2&e&&ys("k-dialog-buttongroup",t.buttonGroupClassName)("k-dialog-button-layout-stretched",t.className)},inputs:{layout:"layout",actions:"actions"},outputs:{action:"action"},ngContentSelectors:D3,decls:3,vars:3,consts:[[4,"ngIf"],["type","button",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",3,"ngClass","click"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(ls(),Ba(0,T3,1,0,void 0,0),Ba(1,I3,2,1,"ng-container",0),Ba(2,A3,1,1,void 0,0)),2&e&&(qa("ngIf",!t.actions),Dr(1),qa("ngIf",!t.actionTemplate()),Dr(1),qa("ngIf",t.actionTemplate()))},directives:[fh,ch,lh,Dh],encapsulation:2}),t5),x5=new tt("Dialog LocalizationService"),T5=((n5=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,i,r)).dialogLocalization=o,a}return _createClass(n,[{key:"get",value:function(e){return this.dialogLocalization?this.dialogLocalization.get(e):_get(_getPrototypeOf(n.prototype),"get",this).call(this,e)}}]),n}(Om)).\u0275fac=function(e){return new(e||n5)(ct(Tm),ct(_m,8),ct(xm,8),ct(x5,8))},n5.\u0275prov=xe({token:n5,factory:n5.\u0275fac}),n5),O5=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),I5=((i5=function(){function e(t,n){_classCallCheck(this,e),this.hostElement=t,this.localizationService=n,this.close=new lu}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.hostElement.nativeElement.setAttribute("id",this.id)}},{key:"onCloseClick",value:function(e){e.preventDefault();var t=new O5;this.close.emit(t)}},{key:"className",get:function(){return!0}},{key:"closeButtonTitle",get:function(){return this.closeTitle||this.localizationService.get("closeTitle")}}]),e}()).\u0275fac=function(e){return new(e||i5)(Ga(rl),Ga(Om,8))},i5.\u0275cmp=At({type:i5,selectors:[["kendo-dialog-titlebar"]],hostVars:4,hostBindings:function(e,t){2&e&&ys("k-window-titlebar",t.className)("k-dialog-titlebar",t.className)},inputs:{id:"id",closeTitle:"closeTitle"},outputs:{close:"close"},features:[el([T5,{provide:Om,useExisting:T5},{provide:Tm,useValue:"kendo.dialog"}])],ngContentSelectors:D3,decls:8,vars:2,consts:[["kendoDialogTitleBarLocalizedMessages","",6,"closeTitle"],[1,"k-window-title","k-dialog-title"],[1,"k-window-actions","k-dialog-actions"],["href","#","role","button",1,"k-button","k-bare","k-button-icon","k-window-action","k-dialog-action","k-dialog-close",3,"click"],[1,"k-icon","k-i-x"]],template:function(e,t){1&e&&(ls(),Qa(0,0),ql(1,R3),Qa(2),Ka(3,"div",1),us(4),Za(),Ka(5,"div",2),Ka(6,"a",3),is("click",(function(e){return t.onCloseClick(e)})),Ya(7,"span",4),Za(),Za(),Ja(),Ja()),2&e&&(Dr(6),ja("title",t.closeButtonTitle)("aria-label",t.closeButtonTitle))},directives:function(){return[c4]},encapsulation:2}),i5),E5=function(e){return null!=e},A5=function(e){return String(e).trim().split(" ")},D5=/^(?:a|input|select|textarea|button|object)$/i,R5=function(e){return e[e.esc=27]="esc",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.space=32]="space",e[e.ctrl=17]="ctrl",e[e.shift=16]="shift",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e}({}),M5=function(e,t){var n=A5(t);return Boolean(A5(e.className).find((function(e){return n.indexOf(e)>=0})))},F5=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.tagName){var n=e.tagName.toLowerCase(),i=e.getAttribute("tabIndex"),r=null!==i&&!isNaN(i)&&i>-1;return(D5.test(n)?!e.disabled:r)&&(!t||function(e){var t=e.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(e).visibility}(e))}return!1},P5=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(","),z5=function(e){var t=e.originalEvent;t.stopPropagation(),t.preventDefault()},N5=["n","e","s","w","se","sw","ne","nw"],L5=["top","left","width","height"],j5=function(e){return e+(function(e){return"number"==typeof e&&isFinite(e)}(e)?"px":"")},V5=function e(){_classCallCheck(this,e)},B5=((a5=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this._elRef=t,this._renderer=n,this.actionsLayout="stretched",this.titleId=null,this.action=new lu,this.close=new lu,this.tabIndex=0,this.subscriptions=[],this.direction=i.rtl?"rtl":"ltr",this.subscriptions.push(i.changes.subscribe((function(e){var t=e.rtl;return r.direction=t?"rtl":"ltr"}))),this.titleId=this.generateTitleId()}return _createClass(e,[{key:"onComponentKeydown",value:function(e){var t=e.target,n=t.parentElement;(M5(t,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action")||M5(n,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action"))&&e.keyCode===R5.esc&&this.close.emit(new V5),M5(t,"k-button")&&M5(n,"k-dialog-buttongroup")&&(e.keyCode===R5.left||e.keyCode===R5.right)&&this.handleActionButtonFocus(n,e.keyCode),e.keyCode===R5.tab&&this.keepFocusWithinComponent(t,e)}},{key:"ngAfterContentInit",value:function(){this.bubble("close",this.titlebarContent),this.titlebarContent&&(this.titlebarContent.id=this.titleId)}},{key:"ngAfterViewInit",value:function(){this.handleInitialFocus(),this.bubble("close",this.titlebarView),this.bubble("action",this.actionsView),(this.titlebarView||this.titlebarContent)&&this._renderer.setAttribute(this._elRef.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}},{key:"ngOnInit",value:function(){this._renderer.removeAttribute(this._elRef.nativeElement,"title")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions=[]}},{key:"focus",value:function(){var e=this._elRef.nativeElement;E5(e)&&e.focus()}},{key:"handleInitialFocus",value:function(){var e=this._elRef.nativeElement,t=e.querySelector(".k-primary");if(this.autoFocusedElement){var n=e.querySelector(this.autoFocusedElement);n&&n.focus()}else this.shouldFocusPrimary(t)?t.focus():e.focus()}},{key:"handleActionButtonFocus",value:function(e,t){for(var n=this.getAllFocusableChildren(e),i=0;i<n.length;i++)if(n[i]===document.activeElement){if(t===R5.left&&i>0){n[i-1].focus();break}if(t===R5.right&&i<n.length-1){n[i+1].focus();break}}}},{key:"keepFocusWithinComponent",value:function(e,t){var n=this._elRef.nativeElement,i=this.getLastFocusableElement(n),r=e===n&&t.shiftKey,o=!t.shiftKey&&E5(i)&&e===i,a=!E5(i)&&!t.shiftKey;(r||a)&&(t.preventDefault(),n.focus()),o&&(t.preventDefault(),i.focus())}},{key:"shouldFocusPrimary",value:function(e){return E5(e)&&F5(e)}},{key:"getAllFocusableChildren",value:function(e){return e.querySelectorAll(P5)}},{key:"getLastFocusableElement",value:function(e){var t=this.getAllFocusableChildren(e);return t.length>0?t[t.length-1]:null}},{key:"generateTitleId",value:function(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}},{key:"bubble",value:function(e,t){var n=this;if(t){var i=t[e].subscribe((function(t){return n[e].emit(t)}));this.subscriptions.push(i)}}},{key:"dir",get:function(){return this.direction}},{key:"wrapperClass",get:function(){return!0}},{key:"styles",get:function(){var e={};return this.width&&(e.width=j5(this.width)),this.height&&(e.height=j5(this.height)),this.minWidth&&(e.minWidth=j5(this.minWidth)),this.maxWidth&&(e.maxWidth=j5(this.maxWidth)),this.minHeight&&(e.minHeight=j5(this.minHeight)),this.maxHeight&&(e.maxHeight=j5(this.maxHeight)),e}}]),e}()).\u0275fac=function(e){return new(e||a5)(Ga(rl),Ga(ll),Ga(Om))},a5.\u0275cmp=At({type:a5,selectors:[["kendo-dialog"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,I5,!0),2&e&&ku(i=Tu())&&(t.titlebarContent=i.first)},viewQuery:function(e,t){var n;1&e&&(wu(I5,!0),wu(S5,!0)),2&e&&(ku(n=Tu())&&(t.titlebarView=n.first),ku(n=Tu())&&(t.actionsView=n.first))},hostVars:4,hostBindings:function(e,t){1&e&&is("keydown",(function(e){return t.onComponentKeydown(e)})),2&e&&(ja("tabIndex",t.tabIndex)("dir",t.dir),ys("k-dialog-wrapper",t.wrapperClass))},inputs:{actionsLayout:"actionsLayout",actions:"actions",autoFocusedElement:"autoFocusedElement",title:"title",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",height:"height",minHeight:"minHeight",maxHeight:"maxHeight"},outputs:{action:"action",close:"close"},exportAs:["kendoDialog"],features:[el([Om,{provide:x5,useExisting:Om},{provide:Tm,useValue:"kendo.dialog"}])],ngContentSelectors:B3,decls:9,vars:9,consts:[[1,"k-overlay"],["role","dialog",1,"k-widget","k-window","k-dialog",3,"ngStyle"],[3,"closeTitle","id",4,"ngIf"],[4,"ngIf"],[1,"k-content","k-window-content","k-dialog-content"],[3,"actions","layout",4,"ngIf"],[3,"closeTitle","id"],[3,"ngTemplateOutlet"],[3,"actions","layout"]],template:function(e,t){1&e&&(ls(V3),Ya(0,"div",0),Ka(1,"div",1),Ba(2,M3,2,3,"kendo-dialog-titlebar",2),Ba(3,F3,1,0,void 0,3),Ka(4,"div",4),Ba(5,P3,1,0,void 0,3),Ba(6,N3,1,1,void 0,3),Za(),Ba(7,L3,1,0,void 0,3),Ba(8,j3,1,2,"kendo-dialog-actions",5),Za()),2&e&&(qa("@overlayAppear",void 0),Dr(1),qa("ngStyle",t.styles)("@dialogSlideInAppear",void 0),Dr(1),qa("ngIf",t.title),Dr(1),qa("ngIf",!t.title),Dr(2),qa("ngIf",!t.contentTemplate),Dr(1),qa("ngIf",t.contentTemplate),Dr(1),qa("ngIf",!t.actions),Dr(1),qa("ngIf",t.actions))},directives:[Ah,fh,I5,Dh,S5],encapsulation:2,data:{animation:[um("overlayAppear",[dm("in",fm({opacity:1})),pm("void => *",[fm({opacity:.1}),cm(".3s cubic-bezier(.2, .6, .4, 1)")])]),um("dialogSlideInAppear",[dm("in",fm({transform:"translate(0, 0)"})),pm("void => *",[fm({transform:"translate(0, -10%)"}),cm(".3s cubic-bezier(.2, 1, .2, 1)")])])]}}),a5),H5=((o5=function(){function e(t){_classCallCheck(this,e),this.dialog=t}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.dialogTitleBar&&this.dialogTitleBar.close.pipe(If((function(e){return!e.isDefaultPrevented()}))).subscribe((function(){e.dialog.close()})),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe((function(t){return e.dialog.dialog.instance.action.emit(t)}))}}]),e}()).\u0275fac=function(e){Wa()},o5.\u0275dir=zt({type:o5,viewQuery:function(e,t){var n;1&e&&(wu(I5,!0),wu(S5,!0)),2&e&&(ku(n=Tu())&&(t.dialogTitleBar=n.first),ku(n=Tu())&&(t.dialogActions=n.first))}}),o5),G5=((r5=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"container",set:function(t){e.container=t},get:function(){return e.container}}]),e}()).\u0275fac=function(e){return new(e||r5)},r5.\u0275prov=xe({token:r5,factory:r5.\u0275fac}),r5.container=null,r5),U5=function(){function e(t,n){_classCallCheck(this,e),this.getDialogRef=t,this.parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t){return e===function(){return function e(){_classCallCheck(this,e)}}()?this.getDialogRef():this.parentInjector.get(e,t)}}]),e}(),W5=((s5=function(){function e(t,n){_classCallCheck(this,e),this.resolver=t,this.containerService=n}return _createClass(e,[{key:"open",value:function(e){var t=this.resolver.resolveComponentFactory(B5),n=e.appendTo||this.containerService.container;if(!n)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,t,n,{close:function(){},content:null,dialog:null,result:null},e)}},{key:"initializeDialog",value:function(e,t,n,i,r){var o=this.contentFrom(e,n,i),a=n.createComponent(t,void 0,void 0,o.nodes);i.dialog=a,a.changeDetectorRef.markForCheck(),this.applyOptions(a.instance,r);var s=new j,l=function(e){e instanceof O5&&(e=new V5),s.next(e||new V5),o.componentRef&&o.componentRef.destroy(),a.destroy()},u=se(s,se(a.instance.close,a.instance.action).pipe(Q((function(e){return e instanceof O5?new V5:e})),If((function(t){if(r.preventAction){var n=function(e){return(t=e)instanceof String||"string"==typeof t||e instanceof Ol;var t}(e)?void 0:i;return!r.preventAction(t,n)}return!0})))).pipe(qf(1),ve());if(u.subscribe(l),i.close=l,i.result=u,e&&Ni()){var c=o.nodes[0]&&o.nodes[0].length>0,h=o.nodes[2]&&o.nodes[2].length>0,f=r.title&&c,d=r.actions&&h;e.prototype instanceof H5?(f||d)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'"):(c||h)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'")}return i}},{key:"applyOptions",value:function(e,t){e.title=t.title,e.actions=t.actions,e.actionsLayout=t.actionsLayout||"stretched",e.width=t.width,e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.height=t.height,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,e.autoFocusedElement=t.autoFocusedElement,e.closeTitle=t.closeTitle,t.content instanceof Ol&&(e.contentTemplate=t.content)}},{key:"contentFrom",value:function(e,t,n){var i=t.injector.get(ll),r=[],o=[],a=[],s=null;if("string"==typeof e)r=[i.createText(e)];else if(e&&!(e instanceof Ol)){var l=new U5((function(){return n}),t.injector),u=this.resolver.resolveComponentFactory(e);s=t.createComponent(u,void 0,l),o=Array.from(s.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),r=[s.location.nativeElement],a=Array.from(s.location.nativeElement.querySelectorAll("kendo-dialog-actions")),n.content=s}return{componentRef:s,nodes:[o,r,a]}}}]),e}()).\u0275fac=function(e){return new(e||s5)(ct(il),ct(G5))},s5.\u0275prov=xe({token:s5,factory:s5.\u0275fac}),s5),q5=10002,$5={draggable:!0,height:null,left:null,minHeight:100,minWidth:120,position:"absolute",resizable:!0,state:"default",top:null,width:null},K5=function(e,t){return function(n){return e.kendoDrag.pipe(Fy(e.kendoRelease.pipe(sd((function(){t.emit()})))),Q((function(e){var t=e.pageX,i=e.pageY;return{originalX:n.pageX,originalY:n.pageY,pageX:t,pageY:i}})))}},Z5=((v5=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.close=new lu,this.focus=new lu,this.change=new lu,this.stateChange=new lu,this.dragStart=new lu,this.dragEnd=new lu,this.resizeStart=new lu,this.resizeEnd=new lu,this.options=Object.assign({},$5),this.lastAction=null,this.subscriptions=new _,this.dragSubscription=new _}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dragSubscription&&this.dragSubscription.unsubscribe()}},{key:"init",value:function(e){var t=this.options.state,n=this.options;this.window=e,"default"!==t&&(this.restoreOptions=Object.assign({},n)),"minimized"===t&&(n.height=0,n.minHeight=0),"maximized"===t&&(n.position="fixed")}},{key:"onDrag",value:function(e){var t=this;this.subscriptions.add(this.ngZone.runOutsideAngular((function(){var n,i;t.dragSubscription=e.kendoPress.pipe(sd((function(e){e.isTouch||z5(e),t.focus.emit(),n=t.currentPosition(),i=!1})),Jf(K5(e,t.dragEnd))).subscribe((function(e){var r=e.pageX,o=e.pageY,a=e.originalX,s=e.originalY;i||(t.ensureWidth(),t.dragStart.emit(),i=!0),t.handleDrag({originalX:a,originalY:s,pageX:r,pageY:o,startPosition:n})}))})))}},{key:"handleDrag",value:function(e){var t=e.originalX,n=e.originalY,i=e.pageX,r=e.pageY,o=e.startPosition;this.options.left=o.x+i-t,this.options.top=o.y+r-n,"minimized"===this.options.state&&E5(this.restoreOptions)&&(this.restoreOptions.left=this.options.left,this.restoreOptions.top=this.options.top),this.change.emit({left:o.x+i-t,top:o.y+r-n})}},{key:"onResize",value:function(e,t){var n=this;this.subscriptions.add(this.ngZone.runOutsideAngular((function(){var i,r=!1;e.kendoPress.pipe(sd((function(e){z5(e),n.focus.emit(),i=n.currentOffsetAndPosition(),r=!1})),Jf(K5(e,n.resizeEnd))).subscribe((function(e){var o=e.pageX,a=e.pageY,s=e.originalX,l=e.originalY;r||(n.resizeStart.emit(t),r=!0),n.handleResize(i,t,o-s,a-l)}))})))}},{key:"handleResize",value:function(e,t,n,i){var r=this,o=this.options,a={};if(t.indexOf("e")>=0){var s=e.width+n;s!==o.width&&s>=o.minWidth&&(a.width=s)}if(t.indexOf("n")>=0){var l=e.height-i,u=e.y+i;l!==o.height&&l>=o.minHeight&&u!==o.top&&(a.height=l,a.top=u)}if(t.indexOf("s")>=0){var c=e.height+i;c!==o.height&&c>=o.minHeight&&(a.height=c)}if(t.indexOf("w")>=0){var h=e.x+n,f=e.width-n;f!==o.width&&f>=o.minWidth&&h!==o.left&&(a.width=f,a.left=h)}(E5(a.width)||E5(a.height))&&(L5.forEach((function(e){E5(a[e])&&(r.options[e]=a[e])})),this.change.emit(a))}},{key:"restoreAction",value:function(){this.lastAction="restore",this.defaultState()}},{key:"defaultState",value:function(){E5(this.restoreOptions)&&(this.options=Object.assign({},this.restoreOptions)),this.options.state="default",this.stateChange.emit("default")}},{key:"storeOptions",value:function(){this.restoreOptions=Object.assign({},this.options)}},{key:"maximizeAction",value:function(){this.lastAction="maximize",this.maximizeState()}},{key:"maximizeState",value:function(){this.storeOptions();var e=this.windowViewPort;this.options=Object.assign({},this.options,{height:e.height,left:0,position:"fixed",state:"maximized",top:0,width:e.width}),this.stateChange.emit("maximized")}},{key:"minimizeAction",value:function(){this.lastAction="minimize",this.minimizeState()}},{key:"minimizeState",value:function(){this.storeOptions(),this.options=Object.assign({},this.options,{height:null,minHeight:0,state:"minimized"}),this.stateChange.emit("minimized")}},{key:"applyManualState",value:function(){switch(this.options.state){case"default":this.clearHeight(),this.defaultState();break;case"maximized":this.clearHeight(),this.maximizeState();break;case"minimized":this.minimizeState()}}},{key:"closeAction",value:function(){this.close.emit()}},{key:"ensureWidth",value:function(){var e=Xm(this.window.nativeElement);E5(this.options.width)||(this.options.width=e.width,this.change.emit({width:e.width}))}},{key:"clearHeight",value:function(){0===this.options.height&&delete this.options.height,0===this.options.minHeight&&delete this.options.minHeight}},{key:"center",value:function(){if("maximized"!==this.options.state){var e=tg(this.window.nativeElement),t=this.windowViewPort,n=Xm(this.window.nativeElement),i={};E5(this.options.left)||(this.options.left=e.x+Math.max(0,(t.width-n.width)/2),i.left=this.options.left),E5(this.options.top)||(this.options.top=e.y+Math.max(0,(t.height-n.height)/2),i.top=this.options.top),this.change.emit(i)}}},{key:"currentOffsetAndPosition",value:function(){var e=this.options,t=Xm(this.window.nativeElement);return Object.assign({},this.currentPosition(),{height:e.height?e.height:t.height,width:e.width?e.width:t.width})}},{key:"currentPosition",value:function(){var e=this.options;return e.top&&e.left||this.setPosition(),{x:this.options.left,y:this.options.top}}},{key:"setPosition",value:function(){var e=ig(this.window.nativeElement,Km(this.window.nativeElement));this.options.left=e.left,this.options.top=e.top}},{key:"setRestoreOption",value:function(e,t){E5(this.restoreOptions)&&(this.restoreOptions[e]=t)}},{key:"nextPossibleZIndex",get:function(){return q5}},{key:"nextZIndex",get:function(){return q5++}},{key:"windowViewPort",get:function(){return Qm(this.window.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||v5)(ct(Xu))},v5.\u0275prov=xe({token:v5,factory:v5.\u0275fac}),v5),Y5=((p5=function(){function e(t,n,i,r){_classCallCheck(this,e),this.draggable=t,this.el=n,this.renderer=i,this.service=r,this.subscriptions=new _}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.setDisplay(),this.renderer.addClass(this.el.nativeElement,"k-resize-"+this.direction),this.subscriptions.add(gf(this.draggable).subscribe((function(t){e.service.onResize(t,e.direction)}))),this.subscriptions.add(this.service.resizeStart.subscribe((function(t){t!==e.direction&&e.setDisplay("none")}))),this.subscriptions.add(this.service.dragStart.subscribe((function(){e.setDisplay("none")}))),this.subscriptions.add(se(this.service.resizeEnd,this.service.dragEnd).subscribe((function(){e.setDisplay("block")}))),this.subscriptions.add(this.service.stateChange.subscribe((function(t){e.setDisplay("default"===t?"block":"none")})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"setDisplay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";this.renderer.setStyle(this.el.nativeElement,"display","default"===this.service.options.state?e:"none")}},{key:"hostClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||p5)(Ga(Lg,1),Ga(rl),Ga(ll),Ga(Z5))},p5.\u0275dir=zt({type:p5,selectors:[["","kendoWindowResizeHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&ys("k-resize-handle",t.hostClass)},inputs:{direction:"direction"}}),p5),Q5=((d5=function(){function e(t,n,i){_classCallCheck(this,e),this.el=t,this.ngZone=i,this.service=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.dragDirective=new Lg(this.el,this.ngZone),this.dragDirective.ngOnInit(),this.isDraggable&&this.subscribeDrag(),this.subscribeStateChange()}},{key:"ngOnDestroy",value:function(){this.dragDirective.ngOnDestroy(),this.unsubscribeDrag(),this.unsubscribeState()}},{key:"subscribeDrag",value:function(){var e=this;this.unsubscribeDrag(),this.dragSubscription=gf(this.dragDirective).subscribe((function(t){e.service.onDrag(t)}))}},{key:"subscribeStateChange",value:function(){var e=this;this.stateSubscription=this.service.stateChange.subscribe((function(t){e.service.options.draggable&&("maximized"===t?e.unsubscribeDrag():e.subscribeDrag())}))}},{key:"unsubscribeDrag",value:function(){this.dragSubscription&&(this.service.dragSubscription.unsubscribe(),this.dragSubscription.unsubscribe(),this.dragSubscription=null)}},{key:"unsubscribeState",value:function(){this.stateSubscription&&(this.stateSubscription.unsubscribe(),this.stateSubscription=null)}},{key:"handle",value:function(e){var t=e.target,n=this.service.options.state;M5(t,"k-icon")||F5(t,!1)||!this.service.options.resizable||("default"===n?this.service.maximizeAction():"maximized"===n&&this.service.restoreAction())}},{key:"className",get:function(){return!0}},{key:"touchAction",get:function(){if(this.isDraggable)return"none"}},{key:"isDraggable",get:function(){var e=this.service.options;return e.draggable&&"maximized"!==e.state}}]),e}()).\u0275fac=function(e){return new(e||d5)(Ga(rl),Ga(Z5),Ga(Xu))},d5.\u0275cmp=At({type:d5,selectors:[["kendo-window-titlebar"]],hostVars:6,hostBindings:function(e,t){1&e&&is("dblclick",(function(e){return t.handle(e)})),2&e&&(gs("touch-action",t.touchAction),ys("k-window-titlebar",t.className)("k-dialog-titlebar",t.className))},inputs:{template:"template"},ngContentSelectors:D3,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(ls(),Ba(0,H3,1,0,void 0,0),Ba(1,W3,1,4,void 0,0)),2&e&&(qa("ngIf",!t.template),Dr(1),qa("ngIf",t.template))},directives:[fh,Dh],encapsulation:2}),d5),J5=function(){var e=function(){function e(t){_classCallCheck(this,e),this.window=t}return _createClass(e,[{key:"process",value:function(e){var t=e.keyCode;switch(t){case R5.up:case R5.down:case R5.left:case R5.right:e.preventDefault(),this.handleArrow(t,e);break;case R5.esc:this.handleEscape()}}},{key:"handleArrow",value:function(e,t){var n=this.window.options;t.altKey?this.handleStateChange(e,n.state):(t.ctrlKey||t.metaKey)&&"default"===n.state?this.handleResize(e):this.handleDrag(e)}},{key:"handleEscape",value:function(){this.window.closeAction()}},{key:"handleDrag",value:function(e){var t=this.window.options;if(t.draggable){var n=this.window.currentOffsetAndPosition(),i=this.window.restoreOptions,r={},o=10;switch(e!==R5.left&&e!==R5.up||(o*=-1),e){case R5.left:case R5.right:r.left=n.x+o,t.left=r.left;break;case R5.up:case R5.down:r.top=n.y+o,t.top=r.top}"minimized"===t.state&&E5(i)&&(i.left=t.left,i.top=t.top),this.window.change.emit(r)}}},{key:"handleResize",value:function(e){var t=this,n=this.window.options;if(n.resizable){var i,r,o=this.window.currentOffsetAndPosition(),a={},s=10;switch(e!==R5.left&&e!==R5.up||(s*=-1),e){case R5.left:case R5.right:(i=o.width+s)!==n.width&&i>=n.minWidth&&(a.width=i);break;case R5.up:case R5.down:(r=o.height+s)!==n.height&&r>=n.minHeight&&(a.height=r)}(E5(a.width)||E5(a.height))&&(L5.forEach((function(e){E5(a[e])&&(t.window.options[e]=a[e])})),this.window.change.emit(a))}}},{key:"handleStateChange",value:function(e,t){"minimized"===t&&e===R5.up||"maximized"===t&&e===R5.down?this.window.restoreAction():"default"===t&&(e===R5.up?this.window.maximizeAction():e===R5.down&&this.window.minimizeAction())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ct(Z5))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),X5=((f5=function(){function e(t,n,i,r,o,a){var s=this;_classCallCheck(this,e),this.el=t,this.renderer=n,this.service=i,this.navigation=r,this.ngZone=o,this.localization=a,this.keepContent=!1,this.dragStart=new lu,this.dragEnd=new lu,this.resizeStart=new lu,this.resizeEnd=new lu,this.close=new lu,this.widthChange=new lu,this.heightChange=new lu,this.topChange=new lu,this.leftChange=new lu,this.stateChange=new lu,this.tabIndex=0,this.draged=!1,this.resized=!1,this.windowSubscription=new _,this.direction=this.localization.rtl?"rtl":"ltr",this.localizationChangeSubscription=this.localization.changes.subscribe((function(e){var t=e.rtl;return s.direction=t?"rtl":"ltr"})),this.resizeDirections=N5,this.subscribeEvents()}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.setNextZIndex(),this.handleInitialFocus(),this.ngZone.runOutsideAngular((function(){return Promise.resolve(null).then((function(){return e.setInitialOffset()}))}))}},{key:"ngOnInit",value:function(){this.renderer.removeAttribute(this.el.nativeElement,"title"),this.service.init(this.el)}},{key:"ngOnChanges",value:function(e){var t=this;if(L5.forEach((function(n){Fg(n,e)&&t.setStyle(n,t.options[n])})),Fg("draggable",e)){var n=E5(this.titleBarContent)?this.titleBarContent:this.titleBarView;e.draggable.currentValue?n.subscribeDrag():n.unsubscribeDrag()}Fg("state",e)&&(E5(this.service.lastAction)?this.service.lastAction=null:(this.service.applyManualState(),this.updateAllOffset()))}},{key:"ngOnDestroy",value:function(){this.windowSubscription&&this.windowSubscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}},{key:"focus",value:function(){var e=this.el.nativeElement;E5(e)&&e.focus()}},{key:"bringToFront",value:function(){this.setNextZIndex()}},{key:"setDimension",value:function(e,t){this.setOption(e,t),this.setStyle(e,t)}},{key:"setOffset",value:function(e,t){this.setOption(e,t),this.setStyle(e,t)}},{key:"onComponentKeydown",value:function(e){M5(e.target,"k-window")&&this.navigation.process(e)}},{key:"onComponentFocus",value:function(){this.renderer.addClass(this.el.nativeElement,"k-state-focused"),this.setNextZIndex()}},{key:"onComponentBlur",value:function(){this.renderer.removeClass(this.el.nativeElement,"k-state-focused")}},{key:"subscribeEvents",value:function(){var e=this;Mg()&&(this.windowSubscription.add(this.service.focus.subscribe((function(){e.el.nativeElement.focus()}))),this.windowSubscription.add(this.service.dragStart.subscribe((function(){e.draged=!0,e.ngZone.run((function(){e.dragStart.emit()}))}))),this.windowSubscription.add(this.service.dragEnd.subscribe((function(){e.draged&&(e.draged=!1,e.ngZone.run((function(){e.dragEnd.emit()})))}))),this.windowSubscription.add(this.service.close.subscribe((function(){e.close.emit()}))),this.windowSubscription.add(this.service.resizeStart.subscribe((function(){e.resized=!0,e.ngZone.run((function(){e.resizeStart.emit()}))}))),this.windowSubscription.add(this.service.resizeEnd.subscribe((function(){e.resized&&(e.resized=!1,e.ngZone.run((function(){e.resizeEnd.emit()})))}))),this.windowSubscription.add(this.service.change.subscribe((function(t){L5.forEach((function(n){if(E5(t[n])&&(e.setStyle(n,t[n]),"maximized"!==e.state)){var i=e[n+"Change"];i.observers.length&&e.ngZone.run((function(){i.emit(t[n])}))}}))}))),this.windowSubscription.add(this.service.stateChange.subscribe((function(t){E5(e.service.lastAction)&&(e.updateAllOffset(),e.stateChange.emit(t))}))))}},{key:"setNextZIndex",value:function(){var e=this.el.nativeElement.style["z-index"];(!e||this.service.nextPossibleZIndex-e>1)&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.service.nextZIndex)}},{key:"setInitialOffset",value:function(){if("maximized"!==this.state)this.updateAllOffset(),E5(this.left)&&E5(this.top)||this.service.center();else{var e=this.service.windowViewPort;this.setStyle("width",e.width),this.setStyle("height",e.height),this.setStyle("top",0),this.setStyle("left",0)}}},{key:"updateAllOffset",value:function(){var e=this;L5.forEach((function(t){E5(e[t])?e.setStyle(t,e[t]):e.removeStyle(t)}))}},{key:"setStyle",value:function(e,t){this.renderer.setStyle(this.el.nativeElement,e,t+"px")}},{key:"removeStyle",value:function(e){this.renderer.removeStyle(this.el.nativeElement,e)}},{key:"setOption",value:function(e,t){if("number"==typeof t||"string"==typeof t){var n="number"==typeof t?t:parseInt(t,10);this.options[e]=n,this.service.setRestoreOption(e,n)}}},{key:"handleInitialFocus",value:function(){if(this.autoFocusedElement){var e=this.el.nativeElement.querySelector(this.autoFocusedElement);e&&e.focus()}else this.focus()}},{key:"draggable",set:function(e){this.options.draggable=e},get:function(){return this.options.draggable}},{key:"resizable",set:function(e){this.options.resizable=e},get:function(){return this.options.resizable}},{key:"state",set:function(e){this.options.state=e},get:function(){return this.options.state}},{key:"minWidth",set:function(e){this.setOption("minWidth",e)},get:function(){return this.options.minWidth}},{key:"minHeight",set:function(e){this.setOption("minHeight",e)},get:function(){return this.options.minHeight}},{key:"width",set:function(e){this.setOption("width",e)},get:function(){return this.options.width}},{key:"height",set:function(e){this.setOption("height",e)},get:function(){return this.options.height}},{key:"top",set:function(e){this.setOption("top",e)},get:function(){return this.options.top}},{key:"left",set:function(e){this.setOption("left",e)},get:function(){return this.options.left}},{key:"closeButtonTitle",get:function(){return this.messages&&this.messages.closeTitle?this.messages.closeTitle:this.localization.get("closeTitle")}},{key:"restoreButtonTitle",get:function(){return this.messages&&this.messages.restoreTitle?this.messages.restoreTitle:this.localization.get("restoreTitle")}},{key:"maximizeButtonTitle",get:function(){return this.messages&&this.messages.maximizeTitle?this.messages.maximizeTitle:this.localization.get("maximizeTitle")}},{key:"minimizeButtonTitle",get:function(){return this.messages&&this.messages.minimizeTitle?this.messages.minimizeTitle:this.localization.get("minimizeTitle")}},{key:"hostClasses",get:function(){return!0}},{key:"dir",get:function(){return this.direction}},{key:"showDefaultTitleBar",get:function(){return!E5(this.titleBarContent)}},{key:"styleMinWidth",get:function(){return this.minWidth+"px"}},{key:"styleMinHeight",get:function(){return this.minHeight+"px"}},{key:"stylePosition",get:function(){return this.options.position}},{key:"wrapperMaximizedClass",get:function(){return"maximized"===this.state}},{key:"wrapperMinimizedClass",get:function(){return"minimized"===this.state}},{key:"options",get:function(){return this.service.options}}]),e}()).\u0275fac=function(e){return new(e||f5)(Ga(rl),Ga(ll),Ga(Z5),Ga(J5),Ga(Xu),Ga(Om))},f5.\u0275cmp=At({type:f5,selectors:[["kendo-window"]],contentQueries:function(e,t,n){var i;1&e&&_u(n,Q5,!0),2&e&&ku(i=Tu())&&(t.titleBarContent=i.first)},viewQuery:function(e,t){var n;1&e&&(wu(Q5,!0),wu(Y5,!0)),2&e&&(ku(n=Tu())&&(t.titleBarView=n.first),ku(n=Tu())&&(t.resizeHandles=n))},hostVars:16,hostBindings:function(e,t){1&e&&is("keydown",(function(e){return t.onComponentKeydown(e)}))("focus",(function(){return t.onComponentFocus()}))("blur",(function(){return t.onComponentBlur()})),2&e&&(ja("tabIndex",t.tabIndex)("dir",t.dir),gs("min-width",t.styleMinWidth)("min-height",t.styleMinHeight)("position",t.stylePosition),ys("k-widget",t.hostClasses)("k-window",t.hostClasses)("k-window-maximized",t.wrapperMaximizedClass)("k-window-minimized",t.wrapperMinimizedClass))},inputs:{keepContent:"keepContent",draggable:"draggable",resizable:"resizable",state:"state",minWidth:"minWidth",minHeight:"minHeight",width:"width",height:"height",top:"top",left:"left",autoFocusedElement:"autoFocusedElement",title:"title"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",resizeStart:"resizeStart",resizeEnd:"resizeEnd",close:"close",widthChange:"widthChange",heightChange:"heightChange",topChange:"topChange",leftChange:"leftChange",stateChange:"stateChange"},exportAs:["kendoWindow"],features:[el([Z5,J5,Om,{provide:Tm,useValue:"kendo.window"}]),Us],ngContentSelectors:_5,decls:7,vars:4,consts:[["kendoWindowLocalizedMessages","",6,"closeTitle","restoreTitle","maximizeTitle","minimizeTitle"],[3,"template",4,"ngIf"],[4,"ngIf"],["class","k-content k-window-content",3,"hidden",4,"ngIf"],[3,"ngIf"],[3,"template"],[1,"k-window-title"],[1,"k-window-actions"],["kendoWindowMinimizeAction",""],["kendoWindowMaximizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowCloseAction",""],[1,"k-content","k-window-content",3,"hidden"],[3,"ngTemplateOutlet"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction",4,"ngFor","ngForOf"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction"]],template:function(e,t){1&e&&(ls(C5),Qa(0,0),ql(1,q3),Qa(2),Ba(3,$3,8,10,"kendo-window-titlebar",1),Ba(4,K3,1,0,void 0,2),Ba(5,J3,3,3,"div",3),Ba(6,e5,1,1,"ng-template",4),Ja(),Ja()),2&e&&(Dr(3),qa("ngIf",t.showDefaultTitleBar),Dr(1),qa("ngIf",!t.showDefaultTitleBar),Dr(1),qa("ngIf","minimized"!==t.state||t.keepContent),Dr(1),qa("ngIf",t.resizable))},directives:function(){return[c4,fh,Q5,t4,e4,i4,n4,Dh,ch,Y5,Lg]},encapsulation:2}),f5),e4=((h5=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,null,o,a)).buttonType="button",s.window=r,s.look="bare",s.icon="window-maximize",s}return _createClass(n,[{key:"onClick",value:function(){this.isDisabled||this.window.maximizeAction()}},{key:"visible",get:function(){return"default"===this.window.options.state?"inline-flex":"none"}}]),n}(Yy)).\u0275fac=function(e){return new(e||h5)(Ga(rl),Ga(ll),Ga(Z5,8),Ga(Om),Ga(Xu))},h5.\u0275dir=zt({type:h5,selectors:[["button","kendoWindowMaximizeAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&is("click",(function(){return t.onClick()})),2&e&&(ja("type",t.buttonType),gs("display",t.visible))},inputs:{window:"window"},exportAs:["kendoWindowMaximizeAction"],features:[el([Om,{provide:Tm,useValue:"kendo.button"}]),Ls]}),h5),t4=((c5=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,null,o,a)).buttonType="button",s.window=r,s.look="bare",s.icon="window-minimize",s}return _createClass(n,[{key:"onClick",value:function(){this.isDisabled||this.window.minimizeAction()}},{key:"visible",get:function(){return"default"===this.window.options.state?"inline-flex":"none"}}]),n}(Yy)).\u0275fac=function(e){return new(e||c5)(Ga(rl),Ga(ll),Ga(Z5,8),Ga(Om),Ga(Xu))},c5.\u0275dir=zt({type:c5,selectors:[["button","kendoWindowMinimizeAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&is("click",(function(){return t.onClick()})),2&e&&(ja("type",t.buttonType),gs("display",t.visible))},inputs:{window:"window"},exportAs:["kendoWindowMinimizeAction"],features:[el([Om,{provide:Tm,useValue:"kendo.button"}]),Ls]}),c5),n4=((u5=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,null,o,a)).buttonType="button",s.window=r,s.look="bare",s.icon="close",s}return _createClass(n,[{key:"onClick",value:function(){this.isDisabled||this.window.closeAction()}}]),n}(Yy)).\u0275fac=function(e){return new(e||u5)(Ga(rl),Ga(ll),Ga(Z5,8),Ga(Om),Ga(Xu))},u5.\u0275dir=zt({type:u5,selectors:[["button","kendoWindowCloseAction",""]],hostVars:1,hostBindings:function(e,t){1&e&&is("click",(function(){return t.onClick()})),2&e&&ja("type",t.buttonType)},inputs:{window:"window"},exportAs:["kendoWindowCloseAction"],features:[el([Om,{provide:Tm,useValue:"kendo.button"}]),Ls]}),u5),i4=((l5=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,i,null,o,a)).buttonType="button",s.window=r,s.look="bare",s.icon="window-restore",s}return _createClass(n,[{key:"onClick",value:function(){this.isDisabled||this.window.restoreAction()}},{key:"visible",get:function(){return"default"===this.window.options.state?"none":"inline-flex"}}]),n}(Yy)).\u0275fac=function(e){return new(e||l5)(Ga(rl),Ga(ll),Ga(Z5,8),Ga(Om),Ga(Xu))},l5.\u0275dir=zt({type:l5,selectors:[["button","kendoWindowRestoreAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&is("click",(function(){return t.onClick()})),2&e&&(ja("type",t.buttonType),gs("display",t.visible))},inputs:{window:"window"},exportAs:["kendoWindowRestoreAction"],features:[el([Om,{provide:Tm,useValue:"kendo.button"}]),Ls]}),l5),r4=function e(){_classCallCheck(this,e)},o4=((m5=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"container",set:function(t){e.container=t},get:function(){return e.container}}]),e}()).\u0275fac=function(e){return new(e||m5)},m5.\u0275prov=xe({token:m5,factory:m5.\u0275fac}),m5.container=null,m5),a4=function(){function e(t,n){_classCallCheck(this,e),this.getWindowRef=t,this.parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t){return e===function(){return function e(){_classCallCheck(this,e)}}()?this.getWindowRef():this.parentInjector.get(e,t)}}]),e}(),s4=((g5=function(){function e(t,n){_classCallCheck(this,e),this.resolver=t,this.containerService=n}return _createClass(e,[{key:"open",value:function(e){var t=this.resolver.resolveComponentFactory(X5),n=e.appendTo||this.containerService.container;if(!n)throw new Error("Cannot attach window to the page.\n                Add an element that uses the kendoWindowContainer directive, or set the 'appendTo' property.\n                See https://www.telerik.com/kendo-angular-ui/components/dialogs/window/service/\n            ");var i={close:function(){},content:null,result:null,window:null},r=this.contentFrom(e.content,n,i),o=n.createComponent(t,void 0,void 0,r.nodes);i.window=o,this.applyOptions(o.instance,e);var a=new j,s=function(e){a.next(e||new r4),r.componentRef&&r.componentRef.destroy(),o.destroy()},l=se(a,o.instance.close).pipe(qf(1));return l.subscribe(s),i.close=s,i.result=l,o.changeDetectorRef.markForCheck(),i}},{key:"applyOptions",value:function(e,t){E5(t.title)&&(e.title=t.title),E5(t.keepContent)&&(e.keepContent=t.keepContent),E5(t.width)&&(e.width=t.width),E5(t.minWidth)&&(e.minWidth=t.minWidth),E5(t.height)&&(e.height=t.height),E5(t.minHeight)&&(e.minHeight=t.minHeight),E5(t.left)&&(e.left=t.left),E5(t.top)&&(e.top=t.top),E5(t.draggable)&&(e.draggable=t.draggable),E5(t.resizable)&&(e.resizable=t.resizable),E5(t.messages&&t.messages.closeTitle)&&(e.messages.closeTitle=t.messages.closeTitle),E5(t.messages&&t.messages.restoreTitle)&&(e.messages.restoreTitle=t.messages.restoreTitle),E5(t.messages&&t.messages.maximizeTitle)&&(e.messages.maximizeTitle=t.messages.maximizeTitle),E5(t.messages&&t.messages.minimizeTitle)&&(e.messages.minimizeTitle=t.messages.minimizeTitle),E5(t.autoFocusedElement)&&(e.autoFocusedElement=t.autoFocusedElement),E5(t.state)&&(e.state=t.state,"minimized"===t.state&&(e.keepContent=!0)),t.content instanceof Ol&&(e.contentTemplate=t.content),t.titleBarContent instanceof Ol&&(e.titleBarTemplate=t.titleBarContent)}},{key:"contentFrom",value:function(e,t,n){var i=t.injector.get(ll),r=[],o=null;if("string"==typeof e)r=[i.createText(e)];else if(e&&!(e instanceof Ol)){var a=new a4((function(){return n}),t.injector),s=this.resolver.resolveComponentFactory(e);r=[(o=t.createComponent(s,void 0,a)).location.nativeElement],n.content=o}return{componentRef:o,nodes:[[],r]}}}]),e}()).\u0275fac=function(e){return new(e||g5)(ct(il),ct(o4))},g5.\u0275prov=xe({token:g5,factory:g5.\u0275fac}),g5),l4=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Sm);return e.\u0275fac=function(t){return u4(t||e)},e.\u0275dir=zt({type:e,inputs:{closeTitle:"closeTitle",restoreTitle:"restoreTitle",maximizeTitle:"maximizeTitle",minimizeTitle:"minimizeTitle"},features:[Ls]}),e}(),u4=wi(l4),c4=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(l4);return e.\u0275fac=function(t){return new(t||e)(Ga(Om))},e.\u0275dir=zt({type:e,selectors:[["","kendoDialogTitleBarLocalizedMessages",""],["","kendoWindowLocalizedMessages",""]],features:[el([{provide:l4,useExisting:je((function(){return e}))}]),Ls]}),e}(),h4=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Ft({type:e}),e.\u0275inj=Oe({factory:function(t){return new(t||e)},imports:[[Rh],Rh]}),e}(),f4=((w5=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:w5}),w5.\u0275inj=Oe({factory:function(e){return new(e||w5)},providers:[G5,W5],imports:[[h4]]}),w5),d4=((b5=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:b5}),b5.\u0275inj=Oe({factory:function(e){return new(e||b5)},providers:[o4,s4],imports:[[h4,jg]]}),b5),p4=((k5=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:k5}),k5.\u0275inj=Oe({factory:function(e){return new(e||k5)},imports:[f4,d4]}),k5),v4=((y5=function(){function e(t){_classCallCheck(this,e),this.markupCommonService=t}return _createClass(e,[{key:"getMatchedTexts",value:function(e,t){for(var n=[],i=e,r=i.indexOf(t);r>-1;)this.markupCommonService.isFoundTextInSpan(i,r,t)||n.push({pos:r,sentence:this.findSentence(e,r,t),redact:!0,selectedText:t}),r=i.indexOf(t,r+1);return n}},{key:"findSentence",value:function(e,t,n){for(var i=t,r=t,o=0,a=!1,s=!1;this.detectSentenceBoundary(e,i,a)&&o<e.length&&i>0;)e.charAt(i).match(/>/)&&(a=!0),e.charAt(i).match(/</)&&(a=!1),o+=1,i-=1;for(o=0;this.detectSentenceBoundary(e,r,s)&&o<e.length;)e.charAt(r).match(/>/)&&(s=!0),e.charAt(r).match(/</)&&(s=!1),o+=1,r+=1;var l=e.substring(i,r+1);return this.getInSentenceSelectedTermOffSets(l,n).forEach((function(e){e+i===t&&(l=l.substring(0,e)+'<span class="multiple-instance-highlight">'+n+"</span>"+l.substring(e+n.length))})),this.trimSentence(l)}},{key:"getInSentenceSelectedTermOffSets",value:function(e,t){for(var n=[],i=e.indexOf(t);i>-1;)n.push(i),i=e.indexOf(t,i+1);return n}},{key:"trimSentence",value:function(e){return e.replace(/^([\s|.|!|?]|<div><br><\/div>)+|\s+$/g,"")}},{key:"detectSentenceBoundary",value:function(e,t,n){return!(e.charAt(t).match(/[.!?]/)&&n||e.charAt(t).match(/[.!?]/))}}]),e}()).\u0275fac=function(e){return new(e||y5)(ct(ZC))},y5.\u0275prov=xe({token:y5,factory:y5.\u0275fac,providedIn:"root"}),y5);function m4(e,t){if(1&e){var n=es();Ka(0,"tr",10),is("click",(function(){pn(n);var e=t.$implicit;return as(2).markRow(e)})),Ka(1,"td",11),Ka(2,"input",12),is("ngModelChange",(function(e){return pn(n),t.$implicit.redact=e})),Za(),Za(),Ka(3,"td",11),Ya(4,"div",13),Za(),Za()}if(2&e){var i=t.$implicit;Dr(2),qa("ngModel",i.redact),Dr(2),qa("innerHTML",i.sentence,ur)}}function g4(e,t){if(1&e){var n=es();Ka(0,"kendo-dialog",1),is("close",(function(){return pn(n),as().cancel()})),Ka(1,"span"),Ds(2),Za(),Ka(3,"div"),Ka(4,"span"),Ds(5,"Select the instances to mark for redaction:"),Za(),Ka(6,"div",2),Ka(7,"table",3),Ba(8,m4,5,2,"tr",4),Za(),Za(),Ka(9,"div",5),Ka(10,"a",6),is("click",(function(){return pn(n),as().checkAll()})),Ds(11,"Check all"),Za(),Ya(12,"kendo-toolbar-separator"),Ka(13,"a",7),Ds(14,"Uncheck all"),Za(),Za(),Za(),Ka(15,"kendo-dialog-actions"),Ka(16,"button",8),is("click",(function(){return pn(n),as().cancel()})),Ds(17,"Cancel"),Za(),Ka(18,"button",9),is("click",(function(){return pn(n),as().commit()})),Ds(19,"Update"),Za(),Za(),Za()}if(2&e){var i=as();Dr(2),Rs(i.numberOfInstancesFoundString),Dr(6),qa("ngForOf",i.highlightedTextObjects)}}var y4,k4=((y4=function(){function e(t){_classCallCheck(this,e),this.redactionMulitpleSelectionDialogComponentService=t,this.closeDialog=new lu,this.isDialogOpen=!0,this.highlightedTextObjects=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.numberOfInstancesFoundString=this.matches+" instances of the selected text were identified.",this.highlightedTextObjects=this.redactionMulitpleSelectionDialogComponentService.getMatchedTexts(this.redactionText,this.selectedText)}},{key:"cancel",value:function(){this.isDialogOpen=!1,this.closeDialog.emit(void 0)}},{key:"commit",value:function(){this.isDialogOpen=!1,this.closeDialog.emit(this.highlightedTextObjects)}},{key:"checkAll",value:function(){this.setHighlightedTextObjectsRedact(!0)}},{key:"uncheckAll",value:function(){this.setHighlightedTextObjectsRedact(!1)}},{key:"markRow",value:function(e){e.redact=!e.redact}},{key:"setHighlightedTextObjectsRedact",value:function(e){this.highlightedTextObjects.forEach((function(t){t.redact=e}))}}]),e}()).\u0275fac=function(e){return new(e||y4)(Ga(v4))},y4.\u0275cmp=At({type:y4,selectors:[["app-redaction-mulitple-selection-dialog"]],inputs:{redactionText:"redactionText",matches:"matches",selectedText:"selectedText"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["title","Multiple Instances","class","multiple-selection-dialog",3,"close",4,"ngIf"],["title","Multiple Instances",1,"multiple-selection-dialog",3,"close"],["tabindex","0",1,"table-container"],[1,"text-selection-table"],[3,"click",4,"ngFor","ngForOf"],[1,"layout-padding-top"],["tabindex","0",3,"click"],["tabindex","0"],["kendoButton","",3,"click"],["kendoButton","","primary","true",3,"click"],[3,"click"],[1,"text-selection-cell"],["type","checkbox",3,"ngModel","ngModelChange"],["tabindex","0",3,"innerHTML"]],template:function(e,t){1&e&&Ba(0,g4,20,2,"kendo-dialog",0),2&e&&qa("ngIf",t.isDialogOpen)},directives:[fh,B5,ch,rb,S5,Yy,f_,S_,BS],styles:[".multiple-selection-dialog .table-container{overflow:auto;height:30rem;width:100%;border:1px solid}.multiple-selection-dialog .text-selection-table{width:100%}.multiple-selection-dialog .text-selection-table .multiple-instance-highlight{background-color:rgba(134,19,78,.25);color:#86134e}.multiple-selection-dialog .text-selection-cell{border-bottom:1px solid;padding:.5rem}"],encapsulation:2}),y4),b4=["gridmenu"],w4=["editableContent"];function C4(e,t){if(1&e){var n=es();Ka(0,"kendo-toolbar-button",22),is("selectedChange",(function(e){pn(n);var i=t.$implicit;return as(2).textModeButtonChange(e,i)})),Za()}if(2&e){var i=t.$implicit,r=as(2);qa("togglable",!0)("selected",i.id===r.selectedTextModeButton.id)("text",i.name)}}function _4(e,t){if(1&e&&(Ka(0,"kendo-toolbar-buttongroup",20),Ba(1,C4,1,3,"kendo-toolbar-button",21),Za()),2&e){var n=as();qa("selection","single"),Dr(1),qa("ngForOf",n.textModeButtons)}}function S4(e,t){1&e&&Ya(0,"kendo-toolbar-separator")}function x4(e,t){if(1&e){var n=es();Ka(0,"kendo-toolbar-button",27),is("click",(function(){return pn(n),as(2).automaticRedaction()})),Za()}2&e&&qa("text","Automatic redaction")}function T4(e,t){if(1&e){var n=es();Ka(0,"kendo-toolbar",23),Ka(1,"kendo-toolbar-buttongroup",20),Ka(2,"kendo-toolbar-button",24),is("click",(function(){return pn(n),as().manualRedactTextSelected()})),Za(),Ka(3,"kendo-toolbar-button",24),is("click",(function(){return pn(n),as().removeRedactionGroupsSelected()})),Za(),Za(),Ba(4,S4,1,0,"kendo-toolbar-separator",25),Ba(5,x4,1,1,"kendo-toolbar-button",26),Za()}if(2&e){var i=as();Dr(1),qa("selection","single"),Dr(1),qa("text","Manual redaction")("selected",i.isManualRedactSelected)("togglable",!0),Dr(1),qa("text","Remove redaction")("selected",i.isRemoveRedactionGroupsSelected)("togglable",!0),Dr(1),qa("ngIf",i.config.automaticRedaction),Dr(1),qa("ngIf",i.config.automaticRedaction)}}function O4(e,t){if(1&e){var n=es();Ka(0,"kendo-toolbar-button",28),is("click",(function(){return pn(n),as().performRedactions()})),Za()}if(2&e){var i=as();qa("text","Redact")("disabled",i.completeRedactionDisabled())}}function I4(e,t){if(1&e&&Ya(0,"kendo-grid-column",29),2&e){var n=t.$implicit;qa("field",n.field)("title",n.title)("editable",!1)}}function E4(e,t){if(1&e){var n=es();Ka(0,"kendo-dialog",30),is("close",(function(){return pn(n),as().closeLabelDialog("cancel")})),Ka(1,"input",31),is("ngModelChange",(function(e){return pn(n),as().groupLabel=e})),Za(),Ka(2,"kendo-dialog-actions"),Ka(3,"button",32),is("click",(function(){return pn(n),as().closeLabelDialog("cancel")})),Ds(4,"Cancel"),Za(),Ka(5,"button",33),is("click",(function(){return pn(n),as().closeLabelDialog("update")})),Ds(6,"Update"),Za(),Za(),Za()}if(2&e){var i=as();Dr(1),qa("ngModel",i.groupLabel)}}function A4(e,t){if(1&e){var n=es();Ka(0,"app-redaction-mulitple-selection-dialog",34),is("closeDialog",(function(e){return pn(n),as().multiSelectClose(e)})),Za()}if(2&e){var i=as();qa("redactionText",i.redactionText)("matches",i.multiSelectMatches)("selectedText",i.multiSelectTextSelection.selectedString)}}var D4,R4=function(){return{debounce:250}},M4=function(e){return{height:e}},F4=function(e){return e.edit="edit",e.redact="redact",e}({}),P4=((D4=function(){function e(t){var n=this;_classCallCheck(this,e),this.redactionComponentService=t,this.updateText=new lu,this.isRemoveRedactionGroupsSelected=!1,this.isManualRedactSelected=!1,this.isLabelDialogOpen=!1,this.groupLabel="",this.isMultiSelectionDialogOpen=!1,this.gridSelection=function(e){var t;n.selectedRedactionGroup=null===(t=e.selectedRows[0])||void 0===t?void 0:t.dataItem,n.redactionComponentService.highlightSelectedGroup(n.editableContentEl,n.selectedRedactionGroup)},this.openMultiSelectDialog=function(e,t){n.multiSelectMatches=e,n.multiSelectTextSelection=t,n.isMultiSelectionDialogOpen=!0}}return _createClass(e,[{key:"ngOnInit",value:function(){this.setupTextMode(),this.setupGroupGrid(),this.setupContextMenu(),this.redactionGroups=this.redactionText?this.redactionComponentService.getGroups(this.redactionText):[]}},{key:"ngOnChanges",value:function(e){var t,n;!(null===(t=e.reset)||void 0===t?void 0:t.firstChange)&&(null===(n=e.reset)||void 0===n?void 0:n.currentValue)&&(this.redactionGroups=[],this.selectedRedactionGroup=void 0)}},{key:"isDesignMode",value:function(){return"design"===this.mode}},{key:"completeRedactionDisabled",value:function(){var e;return Boolean(0===(null===(e=this.redactionGroups)||void 0===e?void 0:e.length))}},{key:"isRedactMode",value:function(){return this.selectedTextModeButton.id===F4.redact&&!this.isDesignMode()}},{key:"isEditMode",value:function(){return this.selectedTextModeButton.id===F4.edit&&!this.isDesignMode()}},{key:"textModeButtonChange",value:function(e,t){this.selectedTextModeButton=t}},{key:"manualRedactTextSelected",value:function(){if(this.isRemoveRedactionGroupsSelected=!1,this.isManualRedactSelected=!this.isManualRedactSelected,this.isManualRedactSelected){var e=this.redactionComponentService.manualRedactText(this.redactionText,this.editableContentEl,this.openMultiSelectDialog);lb(e)||(this.redactionGroups.push(e[0]),this.redactionTextHTML=e[1])}}},{key:"removeRedactionGroupsSelected",value:function(){this.isManualRedactSelected=!1,this.isRemoveRedactionGroupsSelected=!this.isRemoveRedactionGroupsSelected}},{key:"automaticRedaction",value:function(){var e,t=_slicedToArray(this.redactionComponentService.automaticRedactText(this.redactionText,this.config.showLabel?this.config.textGroupings:[]),2),n=t[0],i=t[1];(e=this.redactionGroups).push.apply(e,_toConsumableArray(n)),this.redactionTextHTML=i}},{key:"performRedactions",value:function(){confirm("Completing the redaction will permanently redact marked text. Are you sure you want to continue?")&&(this.redactionTextHTML=this.redactionComponentService.redactSpans(this.editableContentEl,this.config.standardRedactionLength,this.config.showLabel),this.redactionGroups=[],this.selectedRedactionGroup=void 0)}},{key:"onGridCellClick",value:function(e){if("contextmenu"===e.type){var t=e.originalEvent;t.preventDefault(),this.contextRedactionGroup=e.dataItem,this.gridContextMenu.show({left:t.pageX,top:t.pageY})}}},{key:"onContextItemSelect",value:function(e){e.item.onClick()}},{key:"setupTextMode",value:function(){this.textModeButtons=[{id:F4.edit,name:"Edit"},{id:F4.redact,name:"Redact"}],this.selectedTextModeButton=this.textModeButtons[0]}},{key:"mouseUpOrKeyUp",value:function(e){var t;if(this.isRedactMode()){var n=e.target;if(!this.isDesignMode())if(this.isRemoveRedactionGroupsSelected){var i=this.redactionComponentService.removeRedactGroup(n,this.redactionText,this.redactionGroups,null===(t=this.selectedRedactionGroup)||void 0===t?void 0:t.groupUuid),r=i.redactionGroups,o=i.clearSelectedGroup,a=i.redactionText;if(this.redactionGroups=r,this.redactionText=a,o){this.selectedRedactionGroup=void 0;var s=this.editableContentEl.nativeElement.querySelectorAll("span.selected-span");$(s).removeClass("selected-span")}}else{var l=this.redactionComponentService.highlightText(this.isManualRedactSelected,n,this.redactionGroups,this.gridSelection,this.redactionText,this.editableContentEl,this.openMultiSelectDialog);lb(l)||(this.redactionGroups.push(l[0]),this.redactionTextHTML=l[1])}}}},{key:"keyDown",value:function(e){this.isRedactMode()&&(null==e||e.preventDefault())}},{key:"handlePaste",value:function(e){if(e.preventDefault(),e.clipboardData){var t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}}},{key:"closeLabelDialog",value:function(e){"update"===e&&this.contextRedactionGroup&&this.redactionComponentService.updateSelectedGroupComment(this.contextRedactionGroup,this.groupLabel,this.editableContentEl),this.isLabelDialogOpen=!1}},{key:"multiSelectClose",value:function(e){if(this.isMultiSelectionDialogOpen=!1,e){var t=this.redactionComponentService.markUpText(this.redactionText,this.multiSelectTextSelection,this.editableContentEl,this.multiSelectTextSelection.selectedString,!0,e);lb(t)||(this.redactionGroups.push(t[0]),this.redactionTextHTML=t[1])}this.multiSelectMatches=void 0,this.multiSelectTextSelection=void 0}},{key:"setupGroupGrid",value:function(){this.gridData={columns:[{field:"groupLabel",title:"Marked text"}],selectableSettings:{mode:"single"},sortableSettings:{mode:"single",allowUnsort:!0}},this.config.showLabel&&this.gridData.columns.push({field:"groupComment",title:"Label"})}},{key:"setupContextMenu",value:function(){var e=this;this.gridContextMenuItems=[{text:"Remove",onClick:function(){return e.removeRedaction(e.contextRedactionGroup)}}],this.config.showLabel&&this.gridContextMenuItems.push({text:"Update label",onClick:function(){return e.updateSelectedGroupLabel(e.contextRedactionGroup)}})}},{key:"removeRedaction",value:function(e){var t,n=this.redactionComponentService.removeRedactionGroup(e,this.redactionText,this.redactionGroups),i=n.redactionGroups,r=n.redactionText;this.redactionGroups=i,this.redactionText=r,e.groupUuid===(null===(t=this.selectedRedactionGroup)||void 0===t?void 0:t.groupUuid)&&(this.selectedRedactionGroup=void 0)}},{key:"updateSelectedGroupLabel",value:function(e){var t;this.groupLabel=null!==(t=e.groupComment)&&void 0!==t?t:"",this.isLabelDialogOpen=!0}},{key:"redactionTextHTML",get:function(){return this.redactionText},set:function(e){this.redactionText=e,this.updateText.emit(this.redactionText)}}]),e}()).\u0275fac=function(e){return new(e||D4)(Ga(r_))},D4.\u0275cmp=At({type:D4,selectors:[["app-redaction"]],viewQuery:function(e,t){var n;1&e&&(wu(b4,!0),wu(w4,!0)),2&e&&(ku(n=Tu())&&(t.gridContextMenu=n.first),ku(n=Tu())&&(t.editableContentEl=n.first))},inputs:{mode:"mode",redactionText:"redactionText",config:"config",reset:"reset"},outputs:{updateText:"updateText"},features:[Us],decls:22,vars:22,consts:[[1,"page-control","redaction-control"],[1,"title"],[1,"redaction-container"],[1,"left-container"],[1,"toolbar"],[1,"left-toolbar"],[3,"selection",4,"ngIf"],["class","right-toolbar",4,"ngIf"],["propValueAccessor","innerHTML",1,"redaction-text",3,"contenteditable","ngModel","ngModelOptions","ngStyle","ngModelChange","mouseup","keyup","keydown","paste"],["editableContent",""],[1,"right-container"],[1,"toolbar-no-background","grid-toolbar"],[3,"text","disabled","click",4,"ngIf"],[1,"grid",3,"ngStyle"],[2,"height","100%",3,"data","pageable","selectable","sortable","selectionChange","cellClick"],[3,"field","title","editable",4,"ngFor","ngForOf"],[3,"items","select"],["gridmenu",""],["title","Label",3,"close",4,"ngIf"],[3,"redactionText","matches","selectedText","closeDialog",4,"ngIf"],[3,"selection"],[3,"togglable","selected","text","selectedChange",4,"ngFor","ngForOf"],[3,"togglable","selected","text","selectedChange"],[1,"right-toolbar"],[3,"text","selected","togglable","click"],[4,"ngIf"],["class","button",3,"text","click",4,"ngIf"],[1,"button",3,"text","click"],[3,"text","disabled","click"],[3,"field","title","editable"],["title","Label",3,"close"],["type","text",3,"ngModel","ngModelChange"],["kendoButton","",3,"click"],["kendoButton","","primary","true",3,"click"],[3,"redactionText","matches","selectedText","closeDialog"]],template:function(e,t){1&e&&(Ka(0,"div",0),Ka(1,"h4",1),Ds(2),Za(),Ka(3,"div",2),Ka(4,"div",3),Ka(5,"div",4),Ka(6,"kendo-toolbar",5),Ba(7,_4,2,2,"kendo-toolbar-buttongroup",6),Za(),Ba(8,T4,6,9,"kendo-toolbar",7),Za(),Ka(9,"div",8,9),is("ngModelChange",(function(e){return t.redactionTextHTML=e}))("mouseup",(function(e){return t.mouseUpOrKeyUp(e)}))("keyup",(function(e){return t.mouseUpOrKeyUp(e)}))("keydown",(function(e){return t.keyDown(e)}))("paste",(function(e){return t.handlePaste(e)})),Za(),Za(),Ka(11,"div",10),Ka(12,"div",4),Ka(13,"kendo-toolbar",11),Ba(14,O4,1,2,"kendo-toolbar-button",12),Za(),Za(),Ka(15,"div",13),Ka(16,"kendo-grid",14),is("selectionChange",(function(e){return t.gridSelection(e)}))("cellClick",(function(e){return t.onGridCellClick(e)})),Ba(17,I4,1,3,"kendo-grid-column",15),Za(),Ka(18,"kendo-contextmenu",16,17),is("select",(function(e){return t.onContextItemSelect(e)})),Za(),Za(),Za(),Za(),Za(),Ba(20,E4,7,1,"kendo-dialog",18),Ba(21,A4,1,3,"app-redaction-mulitple-selection-dialog",19)),2&e&&(Dr(2),Rs(t.config.title),Dr(5),qa("ngIf",!t.isDesignMode()),Dr(1),qa("ngIf",t.isRedactMode()),Dr(1),qa("contenteditable",t.isEditMode())("ngModel",t.redactionTextHTML)("ngModelOptions",Ql(17,R4))("ngStyle",Jl(18,M4,t.config.height)),Dr(5),qa("ngIf",!t.isDesignMode()&&t.isRedactMode()),Dr(1),qa("ngStyle",Jl(20,M4,t.config.height)),Dr(1),qa("data",t.redactionGroups)("pageable",!1)("selectable",t.gridData.selectableSettings)("sortable",t.gridData.sortableSettings),Dr(1),qa("ngForOf",t.gridData.columns),Dr(1),qa("items",t.gridContextMenuItems),Dr(2),qa("ngIf",t.isLabelDialogOpen),Dr(1),qa("ngIf",t.isMultiSelectionDialogOpen))},directives:[tb,fh,YS,S_,BS,Ah,BY,ch,S3,ib,nb,rb,G$,B5,v_,S5,Yy,k4],styles:[".redacted-text{background-color:#000!important;color:#fff!important;cursor:pointer}.redaction-text{white-space:pre-wrap;border:1px solid #ebedef;padding:.5rem;overflow:auto;line-height:175%;word-break:break-word}.redaction-text Span[group-uuid]{border-bottom:.15rem dashed!important}.redaction-text Span[redacted]{border-bottom:none!important}.redaction-text[contenteditable=false] Span.selected-span{background-color:#ffcc32!important;color:#fff!important;cursor:pointer}.redaction-control{border:1px solid #ebedef;padding:1rem}.redaction-control .redaction-container{display:flex}.redaction-control .redaction-container .toolbar{min-height:48px}.redaction-control .redaction-container .toolbar kendo-toolbar{padding-left:0;padding-right:0;background-color:unset;border:none}.redaction-control .redaction-container .left-container{width:70%;height:100%;padding-right:.5rem}.redaction-control .redaction-container .left-container .toolbar{display:flex}.redaction-control .redaction-container .left-container .toolbar .left-toolbar{flex-grow:1}.redaction-control .redaction-container .right-container{width:30%}.title{margin:0;padding:.5rem}"],encapsulation:2}),D4);function z4(e,t){if(1&e){var n=es();Ka(0,"app-redaction",5),is("updateText",(function(e){return pn(n),as().updateText(e)})),Za()}if(2&e){var i=as();qa("mode","edit")("redactionText",i.redactionText)("config",i.config)("reset",i.resetRedaction)}}function N4(e,t){1&e&&(Ka(0,"h3"),Ds(1,"Please configure redaction through admin"),Za())}var L4,j4=((L4=function(){function e(t){_classCallCheck(this,e),this.notificationService=t,this.enableSave=!1,this.resetRedaction=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e;this.redactionText=null!==(e=localStorage.getItem("redactionText"))&&void 0!==e?e:"";var t=localStorage.getItem("config");t&&(this.config=JSON.parse(t))}},{key:"updateText",value:function(e){this.redactionText=e,this.enableSave=!0}},{key:"save",value:function(){localStorage.setItem("redactionText",this.redactionText),this.enableSave=!1,this.notificationService.show({content:"Successfully saved redaction text",hideAfter:600,position:{horizontal:"center",vertical:"bottom"},type:{style:"success",icon:!0}})}},{key:"reset",value:function(){var e=this;this.redactionText="",this.resetRedaction=!0,this.enableSave=!0,setTimeout((function(){return e.resetRedaction=!1})),this.notificationService.show({content:"Successfully reset redaction text",hideAfter:600,position:{horizontal:"center",vertical:"bottom"},type:{style:"success",icon:!0}})}}]),e}()).\u0275fac=function(e){return new(e||L4)(Ga(Gm))},L4.\u0275cmp=At({type:L4,selectors:[["app-client"]],decls:7,vars:5,consts:[[3,"text","disabled","click"],[3,"text","click"],[1,"page"],[3,"mode","redactionText","config","reset","updateText",4,"ngIf","ngIfElse"],["configMsg",""],[3,"mode","redactionText","config","reset","updateText"]],template:function(e,t){if(1&e&&(Ka(0,"kendo-toolbar"),Ka(1,"kendo-toolbar-button",0),is("click",(function(){return t.save()})),Za(),Ka(2,"kendo-toolbar-button",1),is("click",(function(){return t.reset()})),Za(),Za(),Ka(3,"div",2),Ba(4,z4,1,4,"app-redaction",3),Za(),Ba(5,N4,2,0,"ng-template",null,4,Au)),2&e){var n=Ha(6);Dr(1),qa("text","Save")("disabled",!t.enableSave),Dr(1),qa("text","Reset"),Dr(2),qa("ngIf",t.config)("ngIfElse",n)}},directives:[tb,nb,fh,P4],styles:[".page[_ngcontent-%COMP%]{padding:1rem}"]}),L4),V4=function(e,t){var n;return QC(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n},B4=function(e,t,n){var i=fb(e)?yw:V4;return n&&function(e,t,n){if(!Yb(n))return!1;var i=typeof t;return!!("number"==i?Zw(n)&&zw(t,n.length):"string"==i&&t in n)&&Ub(n[t],e)}(e,t,n)&&(t=void 0),i(e,RC(t))};function H4(e,t){if(1&e){var n=es();Ka(0,"li",8),is("click",(function(){pn(n);var e=t.$implicit;return as(2).listSelection(e)}))("keydown.enter",(function(){pn(n);var e=t.$implicit;return as(2).listSelection(e)})),Ds(1),Za()}if(2&e){var i=t.$implicit;ys("selected",as(2).isSelected(i.id)),Dr(1),Ms(" ",i.label," ")}}function G4(e,t){if(1&e&&(Ka(0,"ul",6),Ba(1,H4,2,3,"li",7),Za()),2&e){var n=as();Dr(1),qa("ngForOf",n.listItems)}}function U4(e,t){if(1&e){var n=es();Ka(0,"kendo-dialog",9),is("close",(function(){return pn(n),as().closeDialog()})),Ka(1,"div",10),Ka(2,"span",11),Ds(3,"Label:"),Za(),Ka(4,"input",12),is("ngModelChange",(function(e){return pn(n),as().dialogLabel=e})),Za(),Za(),Ka(5,"div",10),Ka(6,"span",11),Ds(7,"Name:"),Za(),Ka(8,"kendo-dropdownlist",13),is("ngModelChange",(function(e){return pn(n),as().dialogName=e})),Za(),Za(),Ka(9,"kendo-dialog-actions"),Ka(10,"button",14),is("click",(function(){return pn(n),as().closeDialog("cancel")})),Ds(11,"Cancel"),Za(),Ka(12,"button",15),is("click",(function(){return pn(n),as().commitDialog()})),Ds(13,"Update"),Za(),Za(),Za()}if(2&e){var i=as();Dr(4),qa("ngModel",i.dialogLabel),Dr(4),qa("data",i.avalableRedactionConcepts)("ngModel",i.dialogName)}}function W4(e,t){1&e&&Ds(0," No list items.\n")}var q4,$4,K4,Z4,Y4=((q4=function(){function e(t){var n=this;_classCallCheck(this,e),this.regexMarkupService=t,this.listItemsUpdate=new lu,this.isDialogOpen=!1,this.addItem=!1,this.listSelection=function(e){n.selectedListItem=e}}return _createClass(e,[{key:"ngOnInit",value:function(){this.redactionConcepts=this.regexMarkupService.getRedactionConcepts()}},{key:"isSelected",value:function(e){var t;return(null===(t=this.selectedListItem)||void 0===t?void 0:t.id)===e}},{key:"addListItem",value:function(){var e=this;this.addItem=!0,this.avalableRedactionConcepts=0===this.listItems.length?this.redactionConcepts:this.redactionConcepts.filter((function(t){return B4(e.listItems,(function(e){return e.data.name!==t}))})),this.isDialogOpen=!0}},{key:"deleteListItems",value:function(){var e=this;this.listItems=this.listItems.filter((function(t){return e.selectedListItem.id!==t.id})),this.selectedListItem=void 0,this.listItemsUpdate.emit(this.listItems)}},{key:"editListItem",value:function(){var e=this;this.dialogLabel=this.selectedListItem.data.label,this.dialogName=this.selectedListItem.data.name,this.avalableRedactionConcepts=this.redactionConcepts.filter((function(t){return B4(e.listItems,(function(n){return n.data.name!==t&&n.id!==e.selectedListItem.id}))})),this.isDialogOpen=!0}},{key:"closeDialog",value:function(e){"cancel"!==e||this.addItem?(this.isDialogOpen=!1,this.dialogLabel="",this.dialogName=""):this.commitDialog()}},{key:"commitDialog",value:function(){this.dialogLabel&&this.dialogName&&(this.addItem?this.listItems.push({id:this.listItems.length,label:this.dialogLabel,data:{label:this.dialogLabel,name:this.dialogName}}):(this.selectedListItem.label=this.dialogLabel,this.selectedListItem.data.label=this.dialogLabel,this.selectedListItem.data.name=this.dialogName),this.addItem=!1,this.closeDialog(),this.listItemsUpdate.emit(this.listItems))}}]),e}()).\u0275fac=function(e){return new(e||q4)(Ga(i_))},q4.\u0275cmp=At({type:q4,selectors:[["app-text-groupings-grid"]],inputs:{listItems:"listItems",showLabel:"showLabel"},outputs:{listItemsUpdate:"listItemsUpdate"},decls:9,vars:9,consts:[[1,"sim-toolbar-no-background"],[3,"text","disabled","click"],[1,"list-container"],["selectedSelector",".selected",4,"ngIf","ngIfElse"],["title","Text grouping",3,"close",4,"ngIf"],["emptyMessage",""],["selectedSelector",".selected"],["class","list-item",3,"selected","click","keydown.enter",4,"ngFor","ngForOf"],[1,"list-item",3,"click","keydown.enter"],["title","Text grouping",3,"close"],[1,"config-input"],[1,"input-label","required"],["kendoTextBox","",3,"ngModel","ngModelChange"],[3,"data","ngModel","ngModelChange"],["kendoButton","",3,"click"],["kendoButton","","primary","true",3,"click"]],template:function(e,t){if(1&e&&(Ka(0,"kendo-toolbar",0),Ka(1,"kendo-toolbar-button",1),is("click",(function(){return t.addListItem()})),Za(),Ka(2,"kendo-toolbar-button",1),is("click",(function(){return t.deleteListItems()})),Za(),Ka(3,"kendo-toolbar-button",1),is("click",(function(){return t.editListItem()})),Za(),Za(),Ka(4,"div",2),Ba(5,G4,2,1,"ul",3),Za(),Ba(6,U4,14,3,"kendo-dialog",4),Ba(7,W4,1,0,"ng-template",null,5,Au)),2&e){var n=Ha(8);Dr(1),qa("text","Add")("disabled",!t.showLabel),Dr(1),qa("text","Remove")("disabled",!t.selectedListItem&&!t.showLabel),Dr(1),qa("text","Edit")("disabled",!t.selectedListItem&&!t.showLabel),Dr(2),qa("ngIf",t.listItems.length>0)("ngIfElse",n),Dr(1),qa("ngIf",t.isDialogOpen)}},directives:[tb,nb,fh,ch,B5,jN,v_,S_,BS,$I,S5,Yy],styles:['.list-container[_ngcontent-%COMP%]{height:200px;border:1px solid rgba(206,210,217,.5)}.list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;cursor:pointer;padding:.25rem .5rem}.list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-item.selected[_ngcontent-%COMP%]{background-color:rgba(177,184,195,.25);color:#2a3037}.list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:rgba(177,184,195,.2);color:#2a3037}.config-input[_ngcontent-%COMP%]{padding:.5rem}.config-input[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:block}.config-input[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]:after{color:red;content:" *"}']}),q4),Q4=[{path:"client",component:j4},{path:"admin",component:($4=function(){function e(t){_classCallCheck(this,e),this.notificationService=t,this.enableSave=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=localStorage.getItem("config");e?this.config=JSON.parse(e):(this.config={title:"Redaction",height:"300px",automaticRedaction:!1,standardRedactionLength:!1,showLabel:!1,textGroupings:[]},this.enableSave=!0)}},{key:"save",value:function(){localStorage.setItem("config",JSON.stringify(this.config)),this.enableSave=!1,this.notificationService.show({content:"Successfully saved redaction admin",hideAfter:600,position:{horizontal:"center",vertical:"bottom"},type:{style:"success",icon:!0}})}},{key:"reset",value:function(){this.config={title:"Redaction",height:"300px",automaticRedaction:!1,standardRedactionLength:!1,showLabel:!1,textGroupings:[]},this.enableSave=!0,this.notificationService.show({content:"Successfully reset admin",hideAfter:600,position:{horizontal:"center",vertical:"bottom"},type:{style:"success",icon:!0}})}},{key:"updateTextGroupings",value:function(e){this.textGroupings=e}},{key:"title",get:function(){return this.config.title},set:function(e){this.config.title=e,this.enableSave=!0}},{key:"height",get:function(){return this.config.height},set:function(e){this.config.height=e,this.enableSave=!0}},{key:"automaticRedaction",get:function(){return this.config.automaticRedaction},set:function(e){this.config.automaticRedaction=e,this.enableSave=!0}},{key:"standardRedactionLength",get:function(){return this.config.standardRedactionLength},set:function(e){this.config.standardRedactionLength=e,this.enableSave=!0}},{key:"showLabel",get:function(){return this.config.showLabel},set:function(e){this.config.showLabel=e,this.enableSave=!0}},{key:"textGroupings",get:function(){return this.config.textGroupings.map((function(e,t){return{id:t,label:e.label,data:e}}))},set:function(e){this.config.textGroupings=e.map((function(e){return e.data})),this.enableSave=!0}}]),e}(),$4.\u0275fac=function(e){return new(e||$4)(Ga(Gm))},$4.\u0275cmp=At({type:$4,selectors:[["app-admin"]],decls:34,vars:13,consts:[[1,"admin-view"],[1,"toolbar"],[3,"text","disabled","click"],[3,"text","click"],[1,"admin-container"],[1,"control-container"],[3,"mode","redactionText","config","reset"],[1,"config-container"],[1,"config-input"],[1,"input-label"],["kendoTextBox","",3,"ngModel","ngModelChange"],["type","checkbox","kendoCheckBox","",3,"ngModel","ngModelChange"],[1,"checkbox-input-label"],[3,"listItems","showLabel","listItemsUpdate"]],template:function(e,t){1&e&&(Ka(0,"div",0),Ka(1,"kendo-toolbar",1),Ka(2,"kendo-toolbar-button",2),is("click",(function(){return t.save()})),Za(),Ka(3,"kendo-toolbar-button",3),is("click",(function(){return t.reset()})),Za(),Za(),Ka(4,"div",4),Ka(5,"div",5),Ya(6,"app-redaction",6),Za(),Ka(7,"div",7),Ka(8,"h3"),Ds(9,"Redaction"),Za(),Ka(10,"div",8),Ka(11,"span",9),Ds(12,"Title:"),Za(),Ka(13,"input",10),is("ngModelChange",(function(e){return t.title=e})),Za(),Za(),Ka(14,"div",8),Ka(15,"span",9),Ds(16,"Height:"),Za(),Ka(17,"input",10),is("ngModelChange",(function(e){return t.height=e})),Za(),Za(),Ka(18,"div",8),Ka(19,"input",11),is("ngModelChange",(function(e){return t.automaticRedaction=e})),Za(),Ka(20,"span",12),Ds(21,"Automatic redaction"),Za(),Za(),Ka(22,"div",8),Ka(23,"input",11),is("ngModelChange",(function(e){return t.showLabel=e})),Za(),Ka(24,"span",12),Ds(25,"Show label"),Za(),Za(),Ka(26,"div",8),Ka(27,"span",9),Ds(28,"Text groupings:"),Za(),Ka(29,"app-text-groupings-grid",13),is("listItemsUpdate",(function(e){return t.updateTextGroupings(e)})),Za(),Za(),Ka(30,"div",8),Ka(31,"input",11),is("ngModelChange",(function(e){return t.standardRedactionLength=e})),Za(),Ka(32,"span",12),Ds(33,"Standard redaction length"),Za(),Za(),Za(),Za(),Za()),2&e&&(Dr(2),qa("text","Save")("disabled",!t.enableSave),Dr(1),qa("text","Reset"),Dr(3),qa("mode","design")("config",t.config)("reset",!1),Dr(7),qa("ngModel",t.title),Dr(4),qa("ngModel",t.height),Dr(2),qa("ngModel",t.automaticRedaction),Dr(4),qa("ngModel",t.showLabel),Dr(6),qa("listItems",t.textGroupings)("showLabel",t.showLabel),Dr(2),qa("ngModel",t.standardRedactionLength))},directives:[tb,nb,P4,jN,v_,S_,BS,f_,yL,Y4],styles:[".admin-view[_ngcontent-%COMP%]{border:1px solid rgba(206,210,217,.5)}.admin-view[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]{display:flex}.admin-view[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .control-container[_ngcontent-%COMP%]{flex-basis:75%;padding:1rem}.admin-view[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .config-container[_ngcontent-%COMP%]{border-left:5px solid rgba(206,210,217,.5);padding:.5rem;min-width:400px}.admin-view[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .config-container[_ngcontent-%COMP%]   .config-input[_ngcontent-%COMP%]{padding:.5rem}.admin-view[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .config-container[_ngcontent-%COMP%]   .config-input[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:block}.admin-view[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .config-container[_ngcontent-%COMP%]   .config-input[_ngcontent-%COMP%]   .checkbox-input-label[_ngcontent-%COMP%]{padding-left:.5rem}"]}),$4)},{path:"",redirectTo:"/client",pathMatch:"full"}],J4=((Z4=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:Z4}),Z4.\u0275inj=Oe({factory:function(e){return new(e||Z4)},imports:[[Jv.forRoot(Q4)],Jv]}),Z4),X4=((K4=function e(t){_classCallCheck(this,e),this.router=t;var n=localStorage.getItem("path");!this.router.navigated&&n&&(GC(n,"admin")?(localStorage.removeItem("path"),this.router.navigate([n])):(localStorage.removeItem("path"),this.router.navigate(["/client"])))}).\u0275fac=function(e){return new(e||K4)(Ga(Av))},K4.\u0275cmp=At({type:K4,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"nav-list"],[1,"nav-list-item"],["routerLink","/client","routerLinkActive","active"],["routerLink","/admin","routerLinkActive","active"]],template:function(e,t){1&e&&(Ka(0,"nav"),Ka(1,"ul",0),Ka(2,"li",1),Ka(3,"a",2),Ds(4,"Client"),Za(),Za(),Ka(5,"li",1),Ka(6,"a",3),Ds(7,"Admin"),Za(),Za(),Za(),Za(),Ya(8,"router-outlet"))},directives:[Rv,Lv,Bv],styles:["nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;width:100%;padding:0;margin:.5rem 0}nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-list-item[_ngcontent-%COMP%]{display:inline-block}nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem;text-decoration:none;color:#000}nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:rgba(177,184,195,.2)}nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-list-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0379ce;color:#fff}"]}),K4);function e6(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function t6(e){switch(e.length){case 0:return new km;case 1:return e[0];default:return new bm(e)}}function n6(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],l=-1,u=null;if(i.forEach((function(e){var n=e.offset,i=n==l,c=i&&u||{};Object.keys(e).forEach((function(n){var i=n,s=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,a),s){case"!":s=r[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,i,s,a)}c[i]=s})),i||s.push(c),u=c,l=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function i6(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&r6(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&r6(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&r6(n,"destroy",e))}))}}function r6(e,t,n){var i=n.totalTime,r=o6(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function o6(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function a6(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function s6(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var l6=function(e,t){return!1},u6=function(e,t){return!1},c6=function(e,t,n){return[]},h6=e6();(h6||"undefined"!=typeof Element)&&(l6=function(e,t){return e.contains(t)},u6=function(){if(h6||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:u6}(),c6=function(e,t,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(e.querySelectorAll(t)));else{var r=e.querySelector(t);r&&i.push(r)}return i});var f6=null,d6=!1;function p6(e){f6||(f6=("undefined"!=typeof document?document.body:null)||{},d6=!!f6.style&&"WebkitAppearance"in f6.style);var t=!0;return f6.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in f6.style)&&d6)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in f6.style),t}var v6=u6,m6=l6,g6=c6;function y6(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var k6,b6=((k6=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return p6(e)}},{key:"matchesElement",value:function(e,t){return v6(e,t)}},{key:"containsElement",value:function(e,t){return m6(e,t)}},{key:"query",value:function(e,t,n){return g6(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new km(n,i)}}]),e}()).\u0275fac=function(e){return new(e||k6)},k6.\u0275prov=xe({token:k6,factory:k6.\u0275fac}),k6),w6=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new b6,e}();function C6(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_6(parseFloat(t[1]),t[2])}function _6(e,t){switch(t){case"s":return 1e3*e;default:return e}}function S6(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=_6(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=_6(parseFloat(s),a[4]));var l=a[5];l&&(o=l)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(e,t,n)}function x6(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function T6(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else x6(e,n);return n}function O6(e,t,n){return n?t+":"+n+";":""}function I6(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=O6(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=O6(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function E6(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var r=N6(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]})),e6()&&I6(e))}function A6(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=N6(t);e.style[n]=""})),e6()&&I6(e))}function D6(e){return Array.isArray(e)?1==e.length?e[0]:hm(e):e}var R6=new RegExp("{{\\s*(.+?)\\s*}}","g");function M6(e){var t=[];if("string"==typeof e){for(var n;n=R6.exec(e);)t.push(n[1]);R6.lastIndex=0}return t}function F6(e,t,n){var i=e.toString(),r=i.replace(R6,(function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()}));return r==i?e:r}function P6(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var z6=/-+([a-z0-9])/g;function N6(e){return e.replace(z6,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function L6(e,t){return 0===e||0===t}function j6(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],o=[];if(i.forEach((function(e){r.hasOwnProperty(e)||o.push(e),r[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=B6(e,t)}))},s=1;s<t.length;s++)a()}return t}function V6(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function B6(e,t){return window.getComputedStyle(e)[t]}function H6(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=r[1],a=r[2],s=r[3];t.push(W6(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(W6(s,o))}(e,n,t)})):n.push(e),n}var G6=new Set(["true","1"]),U6=new Set(["false","0"]);function W6(e,t){var n=G6.has(e)||U6.has(e),i=G6.has(t)||U6.has(t);return function(r,o){var a="*"==e||e==r,s="*"==t||t==o;return!a&&n&&"boolean"==typeof r&&(a=r?G6.has(e):U6.has(e)),!s&&i&&"boolean"==typeof o&&(s=o?G6.has(t):U6.has(t)),a&&s}}var q6=new RegExp("s*:selfs*,?","g");function $6(e,t,n){return new K6(e).build(t,n)}var K6=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Z6(t);return this._resetContextStyleTimingState(n),V6(this,D6(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,l=s.name;l.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=l}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,r+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach((function(e){if(Y6(e)){var t=e;Object.keys(t).forEach((function(e){M6(t[e]).forEach((function(e){o.hasOwnProperty(e)||r.add(e)}))}))}})),r.size){var a=P6(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=V6(this,D6(e.animation),t);return{type:1,matchers:H6(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Q6(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return V6(n,e,t)})),options:Q6(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,o=e.steps.map((function(e){t.currentTime=i;var o=V6(n,e,t);return r=Math.max(r,t.currentTime),o}));return t.currentTime=r,{type:3,steps:o,options:Q6(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return J6(S6(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var r=J6(0,0,"");return r.dynamic=!0,r.strValue=i,r}return J6((n=n||S6(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:fm({});if(5==r.type)n=this.visitKeyframes(r,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=fm(s)}t.currentTime+=i.duration+i.delay;var l=this.visitStyle(o,t);l.isEmptyStep=a,n=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,r=null;return n.forEach((function(e){if(Y6(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var o in t)if(t[o].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var a=t.collectedStyles[t.currentQuerySelector],s=a[i],l=!0;s&&(o!=r&&o>=s.startTime&&r<=s.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),l=!1),o=s.startTime),l&&(a[i]={startTime:o,endTime:r}),t.options&&function(e,t,n){var i=t.params||{},r=M6(e);r.length&&r.forEach((function(e){i.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}(e[i],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,l=0,u=e.steps.map((function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(Y6(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(Y6(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,a=a||c<l,l=c,o.push(c),i}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return u.forEach((function(e,r){var a=h>0?r==f?1:h*r:o[r],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:V6(this,D6(e.animation),t),options:Q6(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Q6(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Q6(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(q6,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=r[0],a=r[1];t.currentQuerySelector=n.length?n+" "+o:o,a6(t.collectedStyles,t.currentQuerySelector,{});var s=V6(this,D6(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Q6(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:S6(e.timings,t.errors,!0);return{type:12,animation:V6(this,D6(e.animation),t),timings:n,options:null}}}]),e}(),Z6=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Y6(e){return!Array.isArray(e)&&"object"==typeof e}function Q6(e){var t;return e?(e=x6(e)).params&&(e.params=(t=e.params)?x6(t):null):e={},e}function J6(e,t,n){return{duration:e,delay:t,easing:n}}function X6(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var e8=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),t8=new RegExp(":enter","g"),n8=new RegExp(":leave","g");function i8(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new r8).buildKeyframes(e,t,n,i,r,o,a,s,l,u)}var r8=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,o,a,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new e8;var c=new a8(e,t,l,i,r,u,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),V6(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[X6(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?C6(n.duration):null,o=null!=n.delay?C6(n.delay):null;return 0!==r&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),V6(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&((r=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=o8);var a=C6(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return V6(n,e,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?C6(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),V6(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return S6(t.params?F6(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?C6(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=o8);var a=i,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;var l=null;s.forEach((function(i,r){t.currentQueryIndex=r;var s=t.createSubContext(e.options,i);o&&s.delayNextStep(o),i===t.element&&(l=s.currentTimeline),V6(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var l=t.currentTimeline;s&&l.delayNextStep(s);var u=l.currentTime;V6(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),o8={},a8=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=o8,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new s8(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=C6(i.duration)),null!=i.delay&&(r.delay=C6(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=F6(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=o8,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new l8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,o){var a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(t8,"."+this._enterClassName)).replace(n8,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return r||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),s8=function(){function e(t,n,i,r){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},a=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]="*"})):T6(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=F6(a[e],o,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:"*"),r._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(o,a){var s=T6(o,!0);Object.keys(s).forEach((function(e){var i=s[e];"!"==i?t.add(e):"*"==i&&n.add(e)})),i||(s.offset=a/e.duration),r.push(s)}));var o=t.size?P6(t.values()):[],a=n.size?P6(n.values()):[];if(i){var s=r[0],l=x6(s);s.offset=0,l.offset=1,r=[s,l]}return X6(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),l8=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(l=t.call(this,e,i,s.delay)).element=i,l.keyframes=r,l.preStyleProps=o,l.postStyleProps=a,l._stretchStartingKeyframe=u,l.timings={duration:s.duration,delay:s.delay,easing:s.easing},l}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,l=T6(e[0],!1);l.offset=0,o.push(l);var u=T6(e[0],!1);u.offset=u8(s),o.push(u);for(var c=e.length-1,h=1;h<=c;h++){var f=T6(e[h],!1);f.offset=u8((n+f.offset*i)/a),o.push(f)}i=a,n=0,r="",e=o}return X6(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(s8);function u8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var c8,h8,f8=function e(){_classCallCheck(this,e)},d8=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return N6(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",o=n.toString().trim();if(p8[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+r}}]),n}(f8),p8=(c8="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),h8={},c8.forEach((function(e){return h8[e]=!0})),h8);function v8(e,t,n,i,r,o,a,s,l,u,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:f}}var m8={},g8=function(){function e(t,n,i){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some((function(e){return e(t,n,i,r)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,i,r,o,a,s,l,u){var c=[],h=this.ast.options&&this.ast.options.params||m8,f=this.buildStyles(n,a&&a.params||m8,c),d=s&&s.params||m8,p=this.buildStyles(i,d,c),v=new Set,m=new Map,g=new Map,y="void"===i,k={params:Object.assign(Object.assign({},h),d)},b=u?[]:i8(e,t,this.ast.animation,r,o,f,p,k,l,c),w=0;if(b.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),c.length)return v8(t,this._triggerName,n,i,y,f,p,[],[],m,g,w,c);b.forEach((function(e){var n=e.element,i=a6(m,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var r=a6(g,n,{});e.postStyleProps.forEach((function(e){return r[e]=!0})),n!==t&&v.add(n)}));var C=P6(v.values());return v8(t,this._triggerName,n,i,y,f,p,b,C,m,g,w)}}]),e}(),y8=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},i=x6(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach((function(e){var o=r[e];o.length>1&&(o=F6(o,i,t)),n[e]=o}))}})),n}}]),e}(),k8=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new y8(e.style,e.options&&e.options.params||{})})),b8(this.states,"true","1"),b8(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new g8(t,e,i.states))})),this.fallbackTransition=new g8(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(r){return r.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function b8(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var w8=new e8,C8=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],i=$6(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=n6(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=i8(this._driver,t,a,"ng-enter","ng-leave",{},{},r,w8,o)).forEach((function(e){var t=a6(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,"*")}))}));var l=t6(n.map((function(e){var t=s.get(e.element);return i._buildPlayer(e,{},t)})));return this._playersById[e]=l,l.onDestroy((function(){return i.destroy(e)})),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,i){var r=o6(t,"","","");return i6(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),_8=[],S8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},x8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},T8=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var i,r=t&&t.hasOwnProperty("value");if(this.value=null!=(i=r?t.value:t)?i:null,r){var o=x6(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),O8=new T8("void"),I8=function(){function e(t,n,i){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,P8(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=a6(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};a.push(s);var l=a6(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(P8(e,"ng-trigger"),P8(e,"ng-trigger-"+t),l[t]=O8),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete l[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new A8(this.id,t,e),s=this._engine.statesByElement.get(e);s||(P8(e,"ng-trigger"),P8(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var l=s[t],u=new T8(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[t]=u,l||(l=O8),"void"===u.value||l.value!==u.value){var c=a6(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(l.value,u.value,e,u.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:u,player:a,isFallbackTransition:f}),f||(P8(e,"ng-animate-queued"),a.onStart((function(){z8(e,"ng-animate-queued")}))),a.onDone((function(){var t=i.players.indexOf(a);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}})),this.players.push(a),c.push(a),a}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,u.params)){var d=[],p=o.matchStyles(l.value,l.params,d),v=o.matchStyles(u.value,u.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){A6(e,p),E6(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach((function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&t6(a).onDone((function(){return r._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=t._triggers[r].fallbackTransition,a=t._engine.statesByElement.get(e)[r]||O8,s=new T8("void"),l=new A8(t.id,r,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:r,transition:o,fromState:a,toState:s,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else for(var a=e;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==S8||(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){P8(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==i.triggerName){var n=o6(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,i6(i.player,t.phase,n,t.callback)}})),r.markedForDestroy?t._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),E8=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new I8(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,i){if(D8(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(D8(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),P8(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),z8(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(D8(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return D8(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return t6(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=S8,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)P8(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?t6(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new e8,r=[],o=new Map,a=[],s=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)c.add(t[i])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=F8(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return P8(e,n)}))}));for(var m=[],g=new Set,y=new Set,k=0;k<this.collectedLeaveElements.length;k++){var b=this.collectedLeaveElements[k],w=b.__ng_removed;w&&w.setForRemoval&&(m.push(b),g.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return g.add(e)})):y.add(b))}var C=new Map,_=F8(f,Array.from(g));_.forEach((function(e,t){var n="ng-leave"+v++;C.set(t,n),e.forEach((function(e){return P8(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return z8(e,n)}))})),_.forEach((function(e,t){var n=C.get(t);e.forEach((function(e){return z8(e,n)}))})),m.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],x=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=C.get(o),v=p.get(o),m=n._buildInstruction(e,i,v,d,f);if(m.errors&&m.errors.length)x.push(m);else{if(f)return t.onStart((function(){return A6(o,m.fromStyles)})),t.onDestroy((function(){return E6(o,m.toStyles)})),void r.push(t);if(e.isFallbackTransition)return t.onStart((function(){return A6(o,m.fromStyles)})),t.onDestroy((function(){return E6(o,m.toStyles)})),void r.push(t);m.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(o,m.timelines),a.push({instruction:m,player:t,element:o}),m.queriedElements.forEach((function(e){return a6(s,e,[]).push(t)})),m.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=l.get(t);i||l.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),m.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=u.get(t);i||u.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}))}}));if(x.length){var O=[];x.forEach((function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return O.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(O)}var I=new Map,E=new Map;a.forEach((function(e){var t=e.element;i.has(t)&&(E.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),r.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){a6(I,t,[]).push(e),e.destroy()}))}));var A=m.filter((function(e){return L8(e,l,u)})),D=new Map;M8(D,this.driver,y,u,"*").forEach((function(e){L8(e,l,u)&&A.push(e)}));var R=new Map;d.forEach((function(e,t){M8(R,n.driver,new Set(e),l,"!")})),A.forEach((function(e){var t=D.get(e),n=R.get(e);D.set(e,Object.assign(Object.assign({},t),n))}));var M=[],F=[],P={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(i.has(t)){if(c.has(t))return a.onDestroy((function(){return E6(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var l=P;if(E.size>1){for(var u=t,h=[];u=u.parentNode;){var f=E.get(u);if(f){l=f;break}h.push(u)}h.forEach((function(e){return E.set(e,l)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,R,D);if(a.setRealPlayer(d),l===P)M.push(a);else{var p=n.playersByElement.get(l);p&&p.length&&(a.parentPlayer=t6(p)),r.push(a)}}else A6(t,s.fromStyles),a.onDestroy((function(){return E6(t,s.toStyles)})),F.push(a),c.has(t)&&r.push(a)})),F.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=t6(t);e.setRealPlayer(n)}})),r.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var z=0;z<m.length;z++){var N=m[z],L=N.__ng_removed;if(z8(N,"ng-leave"),!L||!L.hasAnimation){var j=[];if(s.size){var V=s.get(N);V&&V.length&&j.push.apply(j,_toConsumableArray(V));for(var B=this.driver.query(N,".ng-animating",!0),H=0;H<B.length;H++){var G=s.get(B[H]);G&&G.length&&j.push.apply(j,_toConsumableArray(G))}}var U=j.filter((function(e){return!e.destroyed}));U.length?N8(this,N,U):this.processLeaveNode(N)}}return m.length=0,M.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),M}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var l=!r||"void"==r;s.forEach((function(e){e.queued||(l||e.triggerName==i)&&o.push(e)}))}}return(n||i)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,l=_createForOfIteratorHelper(t.timelines);try{var u=function(){var e=i.value.element,l=e!==o,u=a6(n,e,[]);r._getPreviousPlayers(e,l,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)}))};for(l.s();!(i=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}A6(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,o){var a=this,s=t.triggerName,l=t.element,u=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new km(t.duration,t.delay);var p,v,m=f!==l,g=(p=(n.get(f)||_8).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];r instanceof bm?e(r.players,n):n.push(r)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),y=r.get(f),k=o.get(f),b=n6(0,a._normalizer,0,t.keyframes,y,k),w=a._buildPlayer(t,b,g);if(t.subTimeline&&i&&h.add(f),m){var C=new A8(e,s,f);C.setRealPlayer(w),u.push(C)}return w}));u.forEach((function(e){a6(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete e[t]}return i}(a.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return P8(e,"ng-animating")}));var d=t6(f);return d.onDestroy((function(){c.forEach((function(e){return z8(e,"ng-animating")})),E6(l,t.toStyles)})),h.forEach((function(e){a6(i,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new km(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),A8=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new km,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return i6(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){a6(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function D8(e){return e&&1===e.nodeType}function R8(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function M8(e,t,n,i,r){var o=[];n.forEach((function(e){return o.push(R8(e))}));var a=[];i.forEach((function(n,i){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=x8,a.push(i))})),e.set(i,o)}));var s=0;return n.forEach((function(e){return R8(e,o[s++])})),a}function F8(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),r=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=r.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:i.has(a)?1:e(a),r.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function P8(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function z8(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function N8(e,t,n){t6(n).onDone((function(){return e.processLeaveNode(t)}))}function L8(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach((function(e){return r.add(e)})):t.set(e,i),n.delete(e),!0}var j8=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new E8(t,n,i),this._timelineEngine=new C8(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var o=e+"-"+i,a=this._triggerCache[o];if(!a){var s=[],l=$6(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new k8(e,t)}(i,l),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(s6(n),2),o=r[0],a=r[1];this._timelineEngine.command(o,t,a,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,r){if("@"==n.charAt(0)){var o=_slicedToArray(s6(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,r)}return this._transitionEngine.listen(e,t,n,i,r)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function V8(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=H8(t[0]),t.length>1&&(i=H8(t[t.length-1]))):t&&(n=H8(t)),n||i?new B8(e,n,i):null}var B8=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&E6(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(E6(this._element,this._initialStyles),this._endStyles&&(E6(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(A6(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(A6(this._element,this._endStyles),this._endStyles=null),E6(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function H8(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];G8(r)&&((t=t||{})[r]=e[r])}return t}function G8(e){return"display"===e||"position"===e}var U8=function(){function e(t,n,i,r,o,a,s){var l=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Y8(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),Z8(e,"",t),K8(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){W8(this._element,this._name,"paused")}},{key:"resume",value:function(){W8(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=q8(this._element,this._name);this._position=e*this._duration,Z8(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),K8(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=Y8(e,"").split(","),(i=$8(n,t))>=0&&(n.splice(i,1),Z8(e,"",n.join(","))))}}]),e}();function W8(e,t,n){Z8(e,"PlayState",n,q8(e,t))}function q8(e,t){var n=Y8(e,"");return n.indexOf(",")>0?$8(n.split(","),t):$8([n],t)}function $8(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function K8(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Z8(e,t,n,i){var r="animation"+t;if(null!=i){var o=e.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}e.style[r]=n}function Y8(e,t){return e.style["animation"+t]}var Q8=function(){function e(t,n,i,r,o,a,s,l){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new U8(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:B6(e.element,i))}))}this.currentSnapshot=t}}]),e}(),J8=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=y6(i),r}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(km),X8=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return p6(e)}},{key:"matchesElement",value:function(e,t){return v6(e,t)}},{key:"containsElement",value:function(e,t){return m6(e,t)}},{key:"query",value:function(e,t,n){return g6(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return y6(e)}));var i="@keyframes ".concat(t," {\n"),r="";n.forEach((function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}})),i+=r+"}\n"})),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof Q8})),l={};L6(n,i)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=j6(e,t,l));if(0==n)return new J8(e,u);var c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=V8(e,t),d=new Q8(e,t,c,n,i,r,u,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),e9=function(){function e(t,n,i,r){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:B6(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),t9=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(n9().toString()),this._cssKeyframesDriver=new X8}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return p6(e)}},{key:"matchesElement",value:function(e,t){return v6(e,t)}},{key:"containsElement",value:function(e,t){return m6(e,t)}},{key:"query",value:function(e,t,n){return g6(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},u=o.filter((function(e){return e instanceof e9}));L6(n,i)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var c=V8(e,t=j6(e,t=t.map((function(e){return T6(e,!1)})),l));return new e9(e,t,s,c)}}]),e}();function n9(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var i9,r9=((i9=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._nextAnimationId=0,r._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Tt.None,styles:[],data:{animation:[]}}),r}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?hm(e):e;return s9(this._renderer,null,t,"register",[n]),new o9(t,this._renderer)}}]),n}(lm)).\u0275fac=function(e){return new(e||i9)(ct(al),ct(Rc))},i9.\u0275prov=xe({token:i9,factory:i9.\u0275fac}),i9),o9=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return _createClass(n,[{key:"create",value:function(e,t){return new a9(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),a9=function(){function e(t,n,i,r){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return s9(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function s9(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var l9,u9,c9,h9=((l9=function(){function e(t,n,i){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new f9("",i,this.engine),this._rendererCache.set(i,r)),r}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(o,a,e,i.name,i)})),new d9(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||l9)(ct(al),ct(j8),ct(Xu))},l9.\u0275prov=xe({token:l9,factory:l9.\u0275fac}),l9),f9=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),d9=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o){var a;return _classCallCheck(this,n),(a=t.call(this,i,r,o)).factory=e,a.namespaceId=i,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,r,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),l=t.substr(1),u="";return"@"!=l.charAt(0)&&(r=(i=l).indexOf("."),l=(a=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,s,l,u,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(f9),p9=((u9=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){return _classCallCheck(this,n),t.call(this,e.body,i,r)}return n}(j8)).\u0275fac=function(e){return new(e||u9)(ct(Rc),ct(w6),ct(f8))},u9.\u0275prov=xe({token:u9,factory:u9.\u0275fac}),u9),v9=[{provide:w6,useFactory:function(){return"function"==typeof n9()?new t9:new X8}},{provide:new tt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:lm,useClass:r9},{provide:f8,useFactory:function(){return new d8}},{provide:j8,useClass:p9},{provide:al,useFactory:function(e,t,n){return new h9(e,t,n)},deps:[tf,j8,Xu]}],m9=((c9=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:c9}),c9.\u0275inj=Oe({factory:function(e){return new(e||c9)},providers:v9,imports:[mf]}),c9);n("MEpN"),n("UxO+"),n("CsC6");var g9={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"};Object.assign({},g9),Object.assign({},g9),Object.assign({},g9),Object.assign({},g9),n("ABBN");var y9=function(e,t){return{name:e,value:t}};y9("text-align","left"),y9("text-align","left"),y9("text-align","left"),y9("list-style-position","inside"),y9("text-align","right"),y9("text-align","right"),y9("text-align","right"),y9("list-style-position","inside"),y9("text-align","center"),y9("text-align","center"),y9("text-align","center"),y9("list-style-position","inside"),y9("text-align","justify"),y9("text-align","justify"),y9("text-align","justify"),y9("list-style-position","justify"),y9("text-align",""),y9("text-align",""),y9("text-align",""),y9("list-style-position","");var k9=n("Vb5C"),b9=["blockquote",0],w9=["hr"],C9=["pre",["code",0]],_9=["ol",0],S9=["ul",0],x9=["li",0],T9=function(e){for(var t,n={},i=e.attributes,r=0;r<i.length;r++)n[(t=i[r]).name]=t.value;return n},O9=function(e,t){for(var n in e)if(n&&null!==e[n]&&n!==t)return!0;return!1},I9=function(e,t){var n={};for(var i in e)i&&null!==e[i]&&i!==t&&(n[i]=e[i]);return n},E9=function(e){return _defineProperty({},e,{name:e,inclusive:!0,parseDOM:[{tag:e}],toDOM:function(){return[e,0]}})};Object.assign({link:{attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}},{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:T9}],toDOM:function(e){return["a",I9(e.attrs),0]}}},E9("strong"),E9("b"),E9("em"),E9("i"),E9("u"),E9("del"),E9("sub"),E9("sup"),E9("code"),{style:{attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"span",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["span",I9(e.attrs),0]:["span",0]}}}),Object.assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"p",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["p",I9(e.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"div",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["div",I9(e.attrs),0]:["div",0]}},blockquote:{attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return b9}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return w9}},heading:{attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(e){return Object.assign({},T9(e),{level:1})}},{tag:"h2",getAttrs:function(e){return Object.assign({},T9(e),{level:2})}},{tag:"h3",getAttrs:function(e){return Object.assign({},T9(e),{level:3})}},{tag:"h4",getAttrs:function(e){return Object.assign({},T9(e),{level:4})}},{tag:"h5",getAttrs:function(e){return Object.assign({},T9(e),{level:5})}},{tag:"h6",getAttrs:function(e){return Object.assign({},T9(e),{level:6})}}],toDOM:function(e){return O9(e.attrs,"level")?["h"+e.attrs.level,I9(e.attrs,"level"),0]:["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return C9}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:Object.assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["img",I9(e.attrs)]:["img"]}},hard_break:{inline:!0,attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["br",I9(e.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}},{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(e){return Object.assign({},T9(e),{order:e.hasAttribute("start")?parseInt(e.getAttribute("start")||"1",10):1})}}],toDOM:function(e){return 1===e.attrs.order?O9(e.attrs,"order")?["ol",I9(e.attrs,"order"),0]:_9:["ol",Object.assign({},I9(e.attrs,"order"),{start:e.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"ul",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["ul",I9(e.attrs),0]:S9}},list_item:{content:"block*",attrs:Object.assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"li",getAttrs:T9}],toDOM:function(e){return O9(e.attrs)?["li",I9(e.attrs),0]:x9},defining:!0}},Object(k9.tableNodes)({tableGroup:"block",cellContent:"block+",cellAttributes:{}})),n("hyZr");var A9=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,i,r){var o=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);o+=t[0].slice(a+t[1].length);var s=(i+=a)-r;s>0&&(o=t[0].slice(a-s,a)+o,i=r)}return e.tr.insertText(o,i,r)}):t};new A9(/--$/,"\u2014"),new A9(/\.\.\.$/,"\u2026"),new A9(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new A9(/"$/,"\u201d"),new A9(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new A9(/'$/,"\u2019"),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform),n("W8i8"),n("fScX"),n("ahru"),n("FKDQ"),n("G7Ki"),n("XNSO"),n("3FVc"),$localize(_templateObject105()),$localize(_templateObject106()),$localize(_templateObject107()),$localize(_templateObject108()),$localize(_templateObject109()),$localize(_templateObject110()),$localize(_templateObject111()),$localize(_templateObject112()),$localize(_templateObject113()),$localize(_templateObject114()),$localize(_templateObject115()),$localize(_templateObject116()),$localize(_templateObject117()),$localize(_templateObject118()),$localize(_templateObject119()),$localize(_templateObject120()),$localize(_templateObject121()),$localize(_templateObject122()),$localize(_templateObject123()),$localize(_templateObject124()),$localize(_templateObject125()),$localize(_templateObject126()),$localize(_templateObject127()),$localize(_templateObject128()),$localize(_templateObject129()),$localize(_templateObject130()),$localize(_templateObject131()),$localize(_templateObject132()),$localize(_templateObject133()),$localize(_templateObject134()),$localize(_templateObject135()),$localize(_templateObject136()),$localize(_templateObject137()),$localize(_templateObject138()),$localize(_templateObject139()),$localize(_templateObject140()),$localize(_templateObject141()),$localize(_templateObject142()),$localize(_templateObject143()),$localize(_templateObject144()),$localize(_templateObject145()),$localize(_templateObject146()),$localize(_templateObject147()),$localize(_templateObject148()),$localize(_templateObject149()),$localize(_templateObject150()),$localize(_templateObject151()),$localize(_templateObject152()),$localize(_templateObject153()),$localize(_templateObject154());var D9,R9,M9=((R9=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:R9}),R9.\u0275inj=Oe({factory:function(e){return new(e||R9)},imports:[[Rh,KS,ZS,Xy,gL,f4,bE,pL,sb,mL],sb,Xy,KS,ZS]}),R9),F9=((D9=function e(){_classCallCheck(this,e)}).\u0275mod=Ft({type:D9,bootstrap:[X4]}),D9.\u0275inj=Oe({factory:function(e){return new(e||D9)},providers:[],imports:[[mf,J4,ok,m9,sb,p4,N1,x3,M9,QS,KS,CL,bE,Wm]]}),D9);(function(){if(zi)throw new Error("Cannot enable prod mode after platform setup.");Pi=!1})(),pf().bootstrapModule(F9).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);
//# sourceMappingURL=main-es5.7cb469525caca6010b8c.js.map